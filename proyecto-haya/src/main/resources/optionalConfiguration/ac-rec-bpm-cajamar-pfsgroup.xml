<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context" 
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
               http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd
               http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd"
    default-autowire="byName">

	<!-- Beans,handlers,Managers ... --> 
	<bean id="bccAdjudicacionLeaveActionHandler" class="es.pfsgroup.procedimientos.adjudicacion.AdjudicacionBccLeaveActionHandler" />
	<bean id="bccCesionRemateLeaveActionHandler" class="es.pfsgroup.procedimientos.adjudicacion.CesionRemateBccLeaveActionHandler" />
	<bean id="bccPosesionLeaveActionHandler" class="es.pfsgroup.procedimientos.adjudicacion.PosesionBccLeaveActionHandler" />
	<bean id="endElevacionCajamarActionHandler" class="es.pfsgroup.procedimientos.adjudicacion.PROEndElevacionCajamarActionHandler" />
	<bean id="subastaTercerosBccLeaveActionHandler" class="es.pfsgroup.procedimientos.subasta.SubastaTercerosBccLeaveActionHandler" />
	<bean id="subastaV4HayaEjecucionNotarialEnterActionHandler" class="es.pfsgroup.procedimientos.subasta.SubastaV4HayaEjecucionNotarialEnterActionHandler"></bean>
 	<bean id="subastaV4HayaEjecucionNotarialLeaveActionHandler" class="es.pfsgroup.procedimientos.subasta.SubastaV4HayaEjecucionNotarialLeaveActionHandler"></bean>
 	<bean id="subastaComprobarProcedeSubastaSuspendidaHandler" class="es.pfsgroup.procedimientos.subasta.SubastaComprobarProcedeSubastaSuspendidaHandler"></bean>
 	<bean id="bccPrecontenciosoLeaveActionHandler" class="es.pfsgroup.procedimientos.precontencioso.BCCPrecontenciosoLeaveActionHandler" />
 	<bean id="bccPrecontenciosoEnterActionHandler" class="es.pfsgroup.procedimientos.precontencioso.BCCPrecontenciosoEnterActionHandler" />
 	<bean id="costasProcuradorHandler" class="es.pfsgroup.procedimientos.costas.CostasProcuradorHandler"></bean>
 	<bean id="tramiteSubElectronicaLeaveActionHandler" class="es.pfsgroup.procedimientos.subastaElectronica.TramiteSubElectronicaLeaveActionHandler"></bean>
 	<bean id="tramiteAntFondosLeaveActionHandler" class="es.pfsgroup.procedimientos.anticipoFondos.TramiteAntFondosLeaveActionHandler"></bean>

	<!-- BPM activos -->
	<!-- Nacho -->
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteSubasta/hcj_tramiteSubasta.xml" p:version="3155"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteSubastaTerceros/hcj_tramiteSubastaTerceros.xml" p:version="3158"/>
	
	<!-- Gonzalo -->
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/procedimientoProvisionFondos/hcj_provisionFondos.xml" p:version="3171"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/procedimientoHipotecario/hcj_procedimientoHipotecario.xml" p:version="3178"/>	
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteAdjudicacion/hcj_tramiteAdjudicacion.xml" p:version="3179"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteCesionRemate/hcj_tramiteCesionRemate.xml" p:version="3182"/>		
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteSaneamientoCargas/hcj_tramiteSaneamientoCargas.xml" p:version="3183"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/procedimientoProvisionFondosProcu/hcj_provisionFondosProcu.xml" p:version="3116"/>
	
	<!-- A. Soler -->
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/procedimientoAnticipoFondosProcu/hcj_anticipoFondosProcu.xml" p:version="1439"/>
	
	<!-- Alberto -->
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/procedimientoCambiario/haya_procedimientoCambiario.xml" p:version="1142"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/procedimientoEjecucionTituloJudicial/procedimientoEjecucionTituloJudicial.xml" p:version="1028"/>		
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/procedimientoEjecucionTituloNoJudicial/procedimientoEjecucionTituloNoJudicial.xml" p:version="2832"/>		
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/procedimientoOrdinario/haya_procedimientoOrdinario.xml" p:version="1134"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/procedimientoVerbal/haya_procedimientoVerbal.xml" p:version="1135"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteConsignacion/haya_tramiteConsignacion.xml" p:version="1141"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteDeposito/haya_tramiteDeposito.xml" p:version="1133"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteIntereses/tramiteIntereses.xml" p:version="2857"/>		
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/procedimientoVerbalDesdeMonitorio/haya_procedimientoVerbalDesdeMonitorio.xml" p:version="1136"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteCertificacionCargasRevision/haya_tramiteCertificacionCargasRevision.xml" p:version="1133"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteCostasVsEntidad/haya_tramiteCostasVsEntidad.xml" p:version="1136"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteCostas/haya_tramiteCostas.xml" p:version="1129"/>	
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteEmbargoSalarios/haya_tramiteEmbargoSalarios.xml" p:version="1133"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteDeGestionDeLlaves/haya_tramiteDeGestionDeLlaves.xml" p:version="1149"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteInscripcionDelTitulo/haya_tramiteInscripcionDelTitulo.xml" p:version="1143"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteInvestigacionJudicial/haya_tramiteInvestigacionJudicial.xml" p:version="1133"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteMejoraEmbargo/haya_tramiteMejoraEmbargo.xml" p:version="1141"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteMoratoriaLanzamiento/haya_tramiteMoratoriaLanzamiento.xml" p:version="1129"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramitePrecinto/haya_tramitePrecinto.xml" p:version="1139"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteSubsanacionEmbargo/haya_tramiteSubsanacionEmbargo.xml" p:version="1130"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteSubsanacionEscritura/haya_tramiteSubsanacionEscritura.xml" p:version="1143"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteTributacionBienesSareb/haya_tramiteTributacionBienesSareb.xml" p:version="1136"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteValoracionBienesInmuebles/tramiteValoracionBienesInmuebles.xml" p:version="2832"/>		
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteCalculoDeudaAFecha/hcj_calculoDeudaAFecha.xml" p:version="3269"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteVigilanciaCaducidadEmbargos/haya_tramiteVigilanciaCaducidadEmbargos.xml" p:version="1140"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteCertificadoLibertadArrendamiento/hcj_certificadoLibertadArrendamiento.xml" p:version="3278"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteSolicitudSolvenciaPatrimonial/hcj_solicitudSolvenciaPatrimonial.xml" p:version="3281"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteDePosesion/hcj_tramiteDePosesion.xml" p:version="3287"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteMandamientoCancelacionCargas/hcj_mandamientoCancelacionCargas.xml" p:version="3296"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteOcupantes/haya_tramiteOcupantes.xml" p:version="1129"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/procedimientoMonitorio/haya_procedimientoMonitorio.xml" p:version="1134"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteDeclaracionIVAIGIC/hcj_declaracionIVAIGIC.xml" p:version="3315"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteElevacionCajamar/hcj_elevacionCajamar.xml" p:version="3319"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteEjecucionNotarial/hcj_ejecucionNotarial.xml" p:version="3322"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramitePosesionInterina/hcj_posesionInterina.xml" p:version="3331"/>
	
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteEnvioDemanda/haya_tramiteEnvioDemanda.xml" p:version="100"/>
	
	<!-- Subasta Electronica -->
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteSubastaElectronica/tramiteSubastaElectronica.xml" p:version="3207"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/cajamar/tramiteAdjudicacionTerceros/haya_tramiteAdjudicacionTerceros.xml" p:version="423"/>
	
	<!-- 
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/haya/tramiteSubastaSareb/haya_tramiteSubastaSareb.xml" p:version="1130"/>				
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/haya/tramiteSubastaSarebConcursal/haya_tramiteSubastaConcursal.xml" p:version="1130"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/haya/tramiteElevacionSarebLitigios/tramiteElevacionPropSarebLitigios.xml" p:version="1019"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/haya/tramiteElevacionSarebAdjudicados/tramiteElevacionPropSarebAdjudicados.xml" p:version="1019"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/haya/procedimientoVerbalDesdeMonitorio/haya_procedimientoVerbalDesdeMonitorio.xml" p:version="1136"/>
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/haya/tramiteValoracionBienesMuebles/tramiteValoracionBienesMuebles.xml" p:version="2832"/>		
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/haya/tramitePresentacionPropConvenio/tramitePresentacionPropConvenio.xml" p:version="2637"/>		
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/haya/tramiteSeguimientoConvenio/tramiteSeguimientoConvenio.xml" p:version="1027"/>		
	<bean parent="bpm.processFactory" p:definitionLocation="classpath:process/pfsgroup/haya/tramiteSolicitudActuacionesPronunciamientos/haya_tramiteSolicitudActuacionesPronunciamientos.xml" p:version="1139"/>
	 -->
	<!-- Groovy's -->
	<bean id="jbpmUtilHreCajamar" class="es.pfsgroup.recovery.haya.utils.JBPMProcessHayaManager" >
  	<property name="contextScripts">
  		<list>
  			<value><![CDATA[ 	

				def comprobarComboComunicacionAdicionalNOTIFENT = {
					if (valores['H005_notificacionDecretoAdjudicacionAEntidad']['comboSubsanacion']==DDSiNo.SI) {
						return true;
					}
					if (valores['H005_notificacionDecretoAdjudicacionAEntidad']['comboAdicional']==null) {
					 	return false;
					 }
					if (valores['H005_notificacionDecretoAdjudicacionAEntidad']['comboAdicional']==DDSiNo.SI && 
						valores['H005_notificacionDecretoAdjudicacionAEntidad']['fechaLimite']==null) {
						return false;
					}
					return true;
				}
				
				def vieneDeTCesionRemateTAdjudicacion = {
					return (tareaExterna.getTareaPadre().getProcedimiento().getProcedimientoPadre()!=null && 
						(tareaExterna.getTareaPadre().getProcedimiento().getProcedimientoPadre().getTipoProcedimiento().getCodigo()=='H005' || 
						tareaExterna.getTareaPadre().getProcedimiento().getProcedimientoPadre().getTipoProcedimiento().getCodigo()=='H006'));
				}

	            def existenCargasPreviasActivas = {
	            	def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionHayaProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.existenCargasPreviasActivas(idProcedimiento);
	            }

				def comprobarExisteDocumentoHCSDM = {
					def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
					return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "HCSDM");
				}
				
				def comprobarExisteDocumentoHEDIMP = {
					def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
					return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "HEDIMP");
				}
				
				def comprobarExisteDocumentoHRESOL = {
					def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
					return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "HRESOL");
				}

				def comprobarExisteDocumentoINFLIQ = {
					def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
					return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "INFLIQ");
				}
				
				def comprobarExisteDocumentoEDC = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "EDC");
	            }
	            
	            def comprobarExisteDocumentoEDTJ = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "EDTJ");
	            }
	            
	            def comprobarExisteDocumentoEDCSDE = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "EDCSDE");
	            }

	            def comprobarExisteDocumentoCOMAD = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "COMAD");
	            }
	            
	            def comprobarExisteDocumentoAAEEE = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "AAEEE");
	            }
	            
	            def comprobarExisteDocumentoASP = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "ASP");
	            }
	            
	            def comprobarExisteDocumentoPCCSC = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "PCCSC");
	            }
	            
	            def comprobarExisteDocumentoDSPJ = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "DSPJ");
	            }
	            
	            def comprobarExisteDocumentoSAP = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "SAP");
	            }	            
	            
	            def comprobarExisteDocumentoPLALIQ = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "PLALIQ");
	            }
	            
	            def comprobarExisteDocumentoAAPLIQ = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "AAPLIQ");
	            }
	            
	            def comprobarExisteDocumentoINFRENCUE = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "INFRENCUE");
	            }
	            
	            def comprobarExisteDocumentoAUTCONCON = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "AUTCONCON");
	            }
	            
	            def comprobarExisteDocumentoINFPRO = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "INFPRO");
	            }
	            
	            def comprobarExisteDocumentoRESJUD = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "RESJUD");
	            }
	            
	            def comprobarExisteDocumentoINFADMCON = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "INFADMCON");
	            }
	            
	           def existeConvenioAprobadoJunta = {
					def convenioManager = ctx.getBean("convenioManager");
               		for (convenio in convenioManager.listaConveniosPorProcedimiento(idProcedimiento)) {
	                  	if (convenio.getEstadoConvenio().getCodigo() == '3') {
	                  		return true;
	                  	}
               		};
               
					return false;
				}
				
				def existeConvenioNoAdmitido = {
					def convenioManager = ctx.getBean("convenioManager");
					for (convenio in convenioManager.listaConveniosPorProcedimiento(idProcedimiento)) {
						if (convenio.getEstadoConvenio().getCodigo() == '4') {
							return true;
						}
					};
					return false;
				}
				
				def comprobarExisteDocumentoACTJUNACR = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "ACTJUNACR");
	            }
	            
				def esTodosViviendaHabitualAdjTerceros = {
					def subastaProcedimientoManager = ctx.getBean("subastaProcedimientoManager");
					return !subastaProcedimientoManager.isNotViviendaHabitualAdjTerceros(idProcedimiento);
				}
				
				def comprobarExisteDocumentoRESADE = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "RESADE");
	            }
	            
	            def comprobarExisteDocumentoBOE = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "BOE");
	            }
	            
	            def comprobarExisteDocumentoRESJUZ = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "RESJUZ");
	            }
	            
	            def comprobarExisteDocumentoINTDEM = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "INTDEM");
	            }
	            
	            def comprobarExisteDocumentoINFCANOPE = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "INFCANOPE");
	            }
	            
	            def comprobarExisteDocumentoAUTDECCON = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "AUTDECCON");
	            }
	            
	            def comprobarExisteDocumentoINSEXT = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "INSEXT");
	            }	            

	            def comprobarCostasLetradoValidas = {
	            	def principal = tareaExterna.getTareaPadre().getProcedimiento().getSaldoRecuperacion();
	            	def costas = valores['H002_SenyalamientoSubasta']['costasLetrado'];
	            	if((costas.toDouble() * 0.05 ) > principal.doubleValue()){
	            		return false;
	            	} else {
	            		return true;
	            	}
	            }
	            
	            def comprobarExisteDocumentoINFSUBEXT = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "INFSUBEXT");
	            }
	            
	            def comprobarExisteDocumentoDECADM = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "DECADM");
	            }

	            def comprobarExisteDocumentoDTCCE = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "DTCCE");
	            }
	            
	            def comprobarExisteDocumentoREVM = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarAdjunto(idProcedimiento, "REVM");
	            }

	            def vieneDeTramiteHipotecario = {
					return (tareaExterna.getTareaPadre().getProcedimiento().getProcedimientoPadre()!=null && 
						(tareaExterna.getTareaPadre().getProcedimiento().getProcedimientoPadre().getTipoProcedimiento().getCodigo()=='H001'));
				}

				def comprobarCargasBienesProcedimiento = {
	                def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
	                return adjudicacionProcedimientoManager.comprobarCargasBienesProcedimiento(idProcedimiento);
				}
				
				def dameFechaFinTareaProcedimientoPadre = {
	            	def tareaExternaManager = ctx.getBean("tareaExternaManager");
					def fecha = tareaExternaManager.dameFechaFinTareaProcedimientoPadre(idProcedimiento, it);
					if(fecha != null) {
						return new java.text.SimpleDateFormat('yyyy-MM-dd').format(fecha);
					}
					return
				}
				
				def dameDecisionRegistrarResultadoSubasta = {
	            	def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
					return adjudicacionProcedimientoManager.dameDecisionRegistrarResultadoSubasta(idProcedimiento);
				}	
				
				def compruebaPostores = {
	            	def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
					return adjudicacionProcedimientoManager.compruebaPostores(idProcedimiento);
				}		
				
				def compruebaAdjudicatariaConPostores = {
	            	def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
					return adjudicacionProcedimientoManager.compruebaAdjudicatariaConPostores(idProcedimiento);
				}				

				def validarHC103SolicitudFondos = {
					if (tareaExterna.getTareaPadre().getProcedimiento().getProcedimientoPadre()!=null && 
						tareaExterna.getTareaPadre().getProcedimiento().getProcedimientoPadre().getTipoProcedimiento().getCodigo()=='H005') {
						return (
							valores['HC103_SolicitarProvision']['numAuto'] != null &&
							valores['HC103_SolicitarProvision']['importeAdj'] != null &&
							valores['HC103_SolicitarProvision']['tipoImpLiquidar'] != null &&
							valores['HC103_SolicitarProvision']['tipoImpTrPatr'] != null &&
							valores['HC103_SolicitarProvision']['impTrPatr'] != null &&
							valores['HC103_SolicitarProvision']['fechaFinLiqImp'] != null);
					}
					return true;
				}
				
				def validarP460SolicitudFondos = {
					if (tareaExterna.getTareaPadre().getProcedimiento().getProcedimientoPadre()!=null && 
						tareaExterna.getTareaPadre().getProcedimiento().getProcedimientoPadre().getTipoProcedimiento().getCodigo()=='H005') {
						return (
							valores['P460_SolicitarAnticipoFondos']['numAuto'] != null &&
							valores['P460_SolicitarAnticipoFondos']['importeAdj'] != null &&
							valores['P460_SolicitarAnticipoFondos']['tipoImpLiquidar'] != null &&
							valores['P460_SolicitarAnticipoFondos']['tipoImpTrPatr'] != null &&
							valores['P460_SolicitarAnticipoFondos']['impTrPatr'] != null &&
							valores['P460_SolicitarAnticipoFondos']['fechaFinLiqImp'] != null);
					}
					return true;
				}
				
				def compruebaRegResEscJuzgadoPOST = {
	            	def adjudicacionProcedimientoManager = ctx.getBean("adjudicacionProcedimientoManagerDelegated");
					return adjudicacionProcedimientoManager.compruebaRegResEscJuzgadoPOST(idProcedimiento);
				}				
				
  			 ]]>
  			</value>
  		</list>
  	</property>
  </bean> 
  
  <!-- Diccionarios -->
    <bean parent="clasesDiccionarioAnotadas">
    <property name="sourceList">
    	<list merge="true">    
    		<value>es.capgemini.pfs.decisionProcedimiento.model.DDTipoSolicitud</value>
    		<value>es.capgemini.pfs.decisionProcedimiento.model.DDAceptarSubsanar</value>
    	</list>
    </property>
   </bean>
     
</beans>
