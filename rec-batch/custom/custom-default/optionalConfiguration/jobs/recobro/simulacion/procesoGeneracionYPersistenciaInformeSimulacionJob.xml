<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:p="http://www.springframework.org/schema/p"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"
  default-autowire="byName" default-merge="true">
  
  <bean id="procesoGeneracionPersistenciaInformeSimulacionRecobroJob" parent="batch.simpleJob" scope="prototype">
    <!-- 
    <property name="transactional" value="true"/>
    <property name="transactionManager" ref="entityTransactionManager"/>
     -->  
    <property name="steps">
      <list>
		<bean parent="batch.taskletStep" scope="prototype">
			<property name="tasklet">
				<bean parent="batch.task.MultipleSqlScript" p:dataSource-ref="entityDataSource">
					<property name="scripts">						
						<list>
						<!-- Lista de scripts SQL ha ejecutar -->
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.idxdrop.jobPersistenciaPreviaEnvio.${entity.dialect}" /></entry>
								<entry key="message" value="recobro.idxdrop.jobPersistenciaPreviaEnvio" />
								<entry key="severidad" value="error"/>
							</map>					
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_rec_contratos_cons_baja.${entity.dialect}" /></entry>
								<entry key="message" value="recobro.borrado.tmp_rec_contratos_cons_baja" />
								<entry key="severidad" value="error"/>
							</map>		
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_rec_fichero_contratos.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.borrado.tmp_rec_fichero_contratos" />
								<entry key="severidad" value="error"/>
							</map>					
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_rec_exp_age_mar_sub.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.borrado.tmp_rec_exp_age_mar_sub" />
								<entry key="severidad" value="error"/>
							</map>		
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_rec_exp_age_mar.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.borrado.tmp_rec_exp_age_mar" />
								<entry key="severidad" value="error"/>
							</map>
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_rec_exp_age_mar_exc.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.borrado.tmp_rec_exp_age_mar_exc" />
								<entry key="severidad" value="error"/>
							</map>
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_rec_exp_age_mar_ges.${entity.dialect}" /></entry>
								<entry key="message" value="recobro.borrado.tmp_rec_exp_age_mar_ges" />
								<entry key="severidad" value="error"/>
							</map>
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_rec_exp_age_cnt.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.borrado.tmp_rec_exp_age_cnt" />
								<entry key="severidad" value="error"/>
							</map>								
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_rec_exp_age_cnt_exc.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.borrado.tmp_rec_exp_age_cnt_exc" />
								<entry key="severidad" value="error"/>
							</map>
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_gae_gager.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.borrado.tmp_gae_gager" />
								<entry key="severidad" value="error"/>
							</map>
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_sager_info.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.borrado.tmp_sager_info" />
								<entry key="severidad" value="error"/>
							</map>
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_ciclos_recobro_ptes.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.borrado.tmp_ciclos_recobro_ptes" />
								<entry key="severidad" value="error"/>
							</map>
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_cre_nuevos.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.borrado.tmp_cre_nuevos" />
								<entry key="severidad" value="error"/>
							</map>
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_crc_nuevos.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.borrado.tmp_crc_nuevos" />
								<entry key="severidad" value="error"/>
							</map>
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.borrado.tmp_crp_nuevos.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.borrado.tmp_crp_nuevos" />
								<entry key="severidad" value="error"/>
							</map>
								
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.insert.tmp_rec_contratos_cons_baja.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.insert.tmp_rec_contratos_cons_baja" />
								<entry key="severidad" value="error"/>
							</map>
							
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.idxcreate.tmp_rec_contratos_cons_baja.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.idxcreate.tmp_rec_contratos_cons_baja" />
								<entry key="severidad" value="error"/>
							</map>
							
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.insert.tmp_rec_exp_age_mar_sub_1.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.insert.tmp_rec_exp_age_mar_sub_1" />
								<entry key="severidad" value="error"/>
							</map>
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.insert.tmp_rec_exp_age_mar_sub_2.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.insert.tmp_rec_exp_age_mar_sub_2" />
								<entry key="severidad" value="error"/>
							</map>
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.insert.tmp_rec_exp_age_mar_sub_3.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.insert.tmp_rec_exp_age_mar_sub_3" />
								<entry key="severidad" value="error"/>
							</map>
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.insert.tmp_rec_exp_age_mar_sub_4.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.insert.tmp_rec_exp_age_mar_sub_4" />
								<entry key="severidad" value="error"/>
							</map>
							
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.insert.tmp_rec_exp_age_mar.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.insert.tmp_rec_exp_age_mar" />
								<entry key="severidad" value="error"/>
							</map>
							
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.idxcreate.tmp_rec_exp_age_mar.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.idxcreate.tmp_rec_exp_age_mar" />
								<entry key="severidad" value="error"/>
							</map>
								
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.insert.tmp_rec_exp_age_mar_exc.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.insert.tmp_rec_exp_age_mar_exc" />
								<entry key="severidad" value="error"/>
							</map>	
							
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.idxcreate.tmp_rec_exp_age_mar_exc.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.idxcreate.tmp_rec_exp_age_mar_exc" />
								<entry key="severidad" value="error"/>
							</map>	
																				
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.insert.tmp_rec_exp_age_mar_ges.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.insert.tmp_rec_exp_age_mar_ges" />
								<entry key="severidad" value="error"/>
							</map>	
							
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.idxcreate.tmp_rec_exp_age_mar_ges.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.idxcreate.tmp_rec_exp_age_mar_ges" />
								<entry key="severidad" value="error"/>
							</map>
								
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.insert.tmp_rec_exp_age_cnt.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.insert.tmp_rec_exp_age_cnt" />
								<entry key="severidad" value="error"/>
							</map>	
								
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.insert.tmp_rec_exp_age_cnt_exc.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.insert.tmp_rec_exp_age_cnt_exc" />
								<entry key="severidad" value="error"/>
							</map>			

							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.simulacion.borrado.batch_rcf_entrada_final.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.simulacion.borrado.batch_rcf_entrada_final" />
								<entry key="severidad" value="error"/>
							</map>	
							
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.simulacion.creacion.batch_rcf_entrada_final.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.simulacion.creacion.batch_rcf_entrada_final" />
								<entry key="severidad" value="error"/>
							</map>	
							
							<map>
								<entry key="sql"><bean parent="sql" p:key="recobro.simulacion.carga.detalle_simulacion.${entity.dialect}"/></entry>
								<entry key="message" value="recobro.simulacion.carga.detalle_simulacion" />
								<entry key="severidad" value="error"/>
							</map>	
														
 						</list>
					</property>
				</bean>
			</property>
		</bean>
		<bean parent="batch.taskletStep" scope="prototype">
			<property name="tasklet">
				<bean class="es.capgemini.pfs.batch.recobro.simulacion.ProcesoSimulacionGeneracionInformeTasklet" scope="prototype"/>
			</property>
		</bean>  
      </list>
    </property>
  </bean>
</beans>