-- ----------------------------------------------------------------------------
-- SCRIPTS DE MIGRACIÓN DE NUSE A RECOVERY
-- ORDEN DEL SCRIPT: 2
-- SCRIPT: Creación de la configuración inicial para la plataforma de Recobro
-- AUTOR: Guillem Pascual Serra   
-- EMPRESA: PFSGROUP
-- OBSERVACIONES: 
--   Se toma como usuario de Sistema para la migración el usu_id=1
--   Se toma como Rule Definition por defecto la REGLA GENERICA
-- -----------------------------------------------------------------------------

-- Insertamos las agencias de recobro (PENDIENTE DE RECIBIR LA INFORMACIÓN DE LAS AGENCIAS)
Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '107', 'ACUERDO', '8944788-L', 'MIGUEL', 'FERNANDEZ', 'HERRANZ',
  'miguel.fernandez@acuerdosj.com', '902945992', 0, 'MIG-NUSE', sysdate, 0);
  
Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '105', 'ADARVE', '5402690-J', 'ALFONSO', 'MARTIN', 'CANENCIA',
  'alfonso.martin@adarvecorporacion.com', '915913058', 0, 'MIG-NUSE', sysdate, 0);  
  
Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '001', 'AUSECO', '5279178-B', 'MIGUEL ANGEL', 'SANCHEZ', 'QUINTANA',
  'msquintana@geslico.es', '918293304', 0, 'MIG-NUSE', sysdate, 0);    
  
Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '106', 'COBRALIA', '46766527-Y', 'CRISTIAN', 'FAIBELLA', 'BOTET',
  'cfaibella@cobralia.com', '934470642', 0, 'MIG-NUSE', sysdate, 0);      
  
Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '115', 'ESCO', '38896874-Q', 'DAVID', 'MARTIN', 'TINAQUERO',
  'informatica@escoexpansion.com', '608504269', 0, 'MIG-NUSE', sysdate, 0);      
  
Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '005', 'GESCOBRO', '7237285-J', 'JOSE CARLOS', 'RUBIO', 'RODRIGUEZ',
  'jcrubio@gescobro.com', '932296800', 0, 'MIG-NUSE', sysdate, 0);     
  
Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '002', 'GESIF', '38802912-A', 'JOAN', 'TOLEDO', 'MOYA',
  'jtoledo@gesif.es', '934123335', 0, 'MIG-NUSE', sysdate, 0);    
  
Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '004', 'GSS', '02888706-K', 'PABLO', 'PÉREZ-PIÑAR', 'LÓPEZ',
  'paperez@grupogss.com', '912100400 ext: 50154', 0, 'MIG-NUSE', sysdate, 0);      

Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '006', 'LUCANIA', '14254853-M', 'JAGOBA JOSEBA', 'GUTIÉRREZ', 'FERNÁNDEZ',
  'yagoba.gutierrez@lucaniagestion.com', '607782508', 0, 'MIG-NUSE', sysdate, 0);      
  
Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '502', 'MULTIGESTIÓN', '07451218-T', 'SEGUNDO', 'CASTAÑARES', 'TORET',
  'segundo@multigestion.es', '914444834', 0, 'MIG-NUSE', sysdate, 0);   
  
Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '007', 'SPAND', '52364432-X', 'DANIEL', 'ABAD', 'MOLINA',
  'd.abad@grupoespand.com', '913196785', 0, 'MIG-NUSE', sysdate, 0);     
  
Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '100', 'TELEPERFORMANCE', '4846437-S', 'LAURA', 'MÁRQUEZ', 'DEL CAÑO',
  'lmarquez@teleperformance.es', '902146146 ext: 1326', 0, 'MIG-NUSE', sysdate, 0);       

Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '104', 'INTRUM', '50335512-N', 'MARIA JOSE', 'OTEGUI', 'MENDIONDO',
  'm.otegui@es.intrum.com', '914234600 ext 8130', 0, 'MIG-NUSE', sysdate, 0);  
  
Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '003', 'TEAM 4', '09427203-D', 'MADIA', 'FERNÁNDEZ-TRUJILLO', 'GONZÁLEZ',
  'nadia.trujillo@arvato.com', '917901763', 0, 'MIG-NUSE', sysdate, 0);     
  
Insert into RCF_AGE_AGENCIAS
  (RCF_AGE_ID, RCF_AGE_CODIGO, RCF_AGE_NOMBRE, RCF_AGE_NIF, RCF_AGE_CONTACTO_NOMBRE, RCF_AGE_CONTACTO_APE1, RCF_AGE_CONTACTO_APE2,
  RCF_AGE_CONTACTO_MAIL, RCF_AGE_CONTACTO_TELF, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_AGE_AGENCIAS.nextval, '110', 'VERIFICA', '10875789-D', 'SOFÍA', 'GALLEGO', 'MARCILLA',
  'sofia.gallego@verifica-sa.es', '914952776 - Ext.404', 0, 'MIG-NUSE', sysdate, 0);     
    
 -- Creación de las carteras iniciales bloqueadas
 Insert into RCF_CAR_CARTERA
  (RCF_CAR_ID, RCF_CAR_NOMBRE, RCF_CAR_DESCRIPCION, RD_ID, RCF_DD_ECM_ID, 
  RCF_CAR_FECHA_ALTA, USU_ID, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_CAR_CARTERA.nextval, 'FILTRO GENÉRICO', 'FILTRO GENÉRICO - CARTERA FILTRO CONFIGURACIÓN INICIAL', 
  (select RD_ID from RULE_DEFINITION where RD_NAME = 'REGLA GENERICA'),  
  (select RCF_DD_ECM_ID from RCF_DD_ECM_ESTADO_COMPONENT where RCF_DD_ECM_CODIGO='BLQ'), 
  sysdate, 1, 0, 'MIG-NUSE', sysdate, 0);
 
Insert into RCF_CAR_CARTERA
  (RCF_CAR_ID, RCF_CAR_NOMBRE, RCF_CAR_DESCRIPCION, RD_ID, RCF_DD_ECM_ID, 
  RCF_CAR_FECHA_ALTA, USU_ID, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_CAR_CARTERA.nextval, 'TELECOBRO', 'TELECOBRO - CARTERA CONFIGURACIÓN INICIAL', 
  (select RD_ID from RULE_DEFINITION where RD_NAME = 'REGLA GENERICA'),  
  (select RCF_DD_ECM_ID from RCF_DD_ECM_ESTADO_COMPONENT where RCF_DD_ECM_CODIGO='BLQ'), 
  sysdate, 1, 0, 'MIG-NUSE', sysdate, 0);

Insert into RCF_CAR_CARTERA
  (RCF_CAR_ID, RCF_CAR_NOMBRE, RCF_CAR_DESCRIPCION, RD_ID, RCF_DD_ECM_ID, 
  RCF_CAR_FECHA_ALTA, USU_ID, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_CAR_CARTERA.nextval, 'RECOBRO < 210', 'RECOBRO < 210 - CARTERA CONFIGURACIÓN INICIAL', 
  (select RD_ID from RULE_DEFINITION where RD_NAME = 'REGLA GENERICA'),  
  (select RCF_DD_ECM_ID from RCF_DD_ECM_ESTADO_COMPONENT where RCF_DD_ECM_CODIGO='BLQ'), 
  sysdate, 1, 0, 'MIG-NUSE', sysdate, 0);
  
Insert into RCF_CAR_CARTERA
  (RCF_CAR_ID, RCF_CAR_NOMBRE, RCF_CAR_DESCRIPCION, RD_ID, RCF_DD_ECM_ID, 
  RCF_CAR_FECHA_ALTA, USU_ID, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_CAR_CARTERA.nextval, 'RECOBRO > 210', 'RECOBRO > 210 - CARTERA CONFIGURACIÓN INICIAL', 
  (select RD_ID from RULE_DEFINITION where RD_NAME = 'REGLA GENERICA'),  
  (select RCF_DD_ECM_ID from RCF_DD_ECM_ESTADO_COMPONENT where RCF_DD_ECM_CODIGO='BLQ'), 
  sysdate, 1, 0, 'MIG-NUSE', sysdate, 0);  

-- Creación del modelo de metas volantes
Insert into RCF_ITV_ITI_METAS_VOLANTES
  (RCF_ITV_ID, RCF_ITV_NOMBRE, RCF_ITV_FECHA_ALTA, RCF_ITV_PLAZO_MAX, RCF_ITV_NO_GEST, 
  RCF_DD_ECM_ID, USU_ID, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_ITV_ITI_METAS_VOLANTES.nextval, 'MODELO DE METAS VOLANTES INICIAL', sysdate, 60, 5, 
  (select RCF_DD_ECM_ID from RCF_DD_ECM_ESTADO_COMPONENT where RCF_DD_ECM_CODIGO='BLQ'), 1, 0, 'MIG-NUSE', sysdate, 0);

-- Creación del modelo de políticas de acuerdo
Insert into RCF_POA_POLITICA_ACUERDOS
  (RCF_POA_ID, RCF_POA_CODIGO, RCF_POA_NOMBRE,RCF_DD_ECM_ID,  USU_ID,
  VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_POA_POLITICA_ACUERDOS.nextval, '001', 'POLÍTICA DE ACUERDOS INICIAL', 
  (select RCF_DD_ECM_ID from RCF_DD_ECM_ESTADO_COMPONENT where RCF_DD_ECM_CODIGO='BLQ'), 1, 0, 'MIG-NUSE', sysdate, 0);

-- Creación del modelo de políticas de acuerdos y palancas
Insert into RCF_PAA_POL_ACUERDOS_PALANCAS
  (RCF_PAA_ID, RCF_POA_ID, RCF_STP_ID, RCF_PAA_PRIORIDAD, DD_SIN_ID, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_PAA_POL_ACUER_PALANCAS.nextval, (select rcf_poa_id FROM RCF_POA_POLITICA_ACUERDOS where RCF_POA_CODIGO = '001'),
  (select RCF_STP_ID FROM RCF_STP_SUBTIPO_PALANCA WHERE RCF_STP_CODIGO = 'STP1'), 1, 
  (select DD_SIN_ID FROM BANKMASTER.DD_SIN_SINO WHERE DD_SIN_CODIGO = '01'), 0, 'MIG-NUSE', sysdate, 0);

-- Creación del modelo de ranking inicial y bloqueado
Insert into RCF_MOR_MODELO_RANKING
  (RCF_MOR_ID, RCF_MOR_NOMBRE, RCF_DD_ECM_ID, USU_ID, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_MOR_MODELO_RANKING.nextval, 'MODELO DE RANKING CONFIGURACIÓN INICIAL',
  (select RCF_DD_ECM_ID from RCF_DD_ECM_ESTADO_COMPONENT where RCF_DD_ECM_CODIGO='BLQ'), 1, 0, 'MIG-NUSE', sysdate, 0);
  
-- Creación de las variables iniciales bloqueadas
Insert into RCF_MRV_MODELO_RANKING_VARS
  (RCF_MRV_ID, RCF_MOR_ID, RCF_DD_VAR_ID, RCF_MRV_COEFICIENTE,
  VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_MRV_MODELO_RANKING_VARS.nextval, 
  (select RCF_MOR_ID from RCF_MOR_MODELO_RANKING where RCF_MOR_NOMBRE = 'MODELO DE RANKING CONFIGURACIÓN INICIAL'),
  (select RCF_DD_VAR_ID from RCF_DD_VAR_VARIABLES_RANKING where RCF_DD_VAR_CODIGO = 'EFS'), 100, 0, 'MIG-NUSE', sysdate, 0);
  
-- Creación del modelo de facturación inicial bloqueado con tipo de corrector mejora objetivo del 20%
Insert into RCF_MFA_MODELOS_FACTURACION
  (RCF_MFA_ID, RCF_MFA_NOMBRE, RCF_MFA_DESCRIPCION, RCF_DD_TCO_ID, RCF_MFA_OBJETIVO_RECOBRO,
  RCF_DD_ECM_ID,USU_ID, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_MFA_MODELOS_FACTURACION.nextval, 'MODELO FACTURACIÓN INICIAL', 'MODELO DE FACTURACIÓN INICIAL DE RECOBRO',
  (select RCF_DD_TCO_ID from RCF_DD_TCO_TIPO_CORRECTOR where RCF_DD_TCO_CODIGO = 'MEO'), 20, 
  (select RCF_DD_ECM_ID from RCF_DD_ECM_ESTADO_COMPONENT where RCF_DD_ECM_CODIGO='BLQ'), 1, 0, 'MIG-NUSE', sysdate, 0);

-- Creación de los tipos de cobros de facturas inicales
Insert into RCF_TCF_TIPO_COBRO_FACTURA 
Select S_RCF_TCF_TIPO_COBRO_FACTURA.nextval, 
       (select RCF_MFA_ID from RCF_MFA_MODELOS_FACTURACION where RCF_MFA_NOMBRE = 'MODELO FACTURACIÓN INICIAL'),
       dd_scp_id, 0, 'MIG-NUSE', sysdate, null, null, null, null, 0
from (select scp.DD_SCP_ID from DD_SCP_SUBTIPO_COBRO_PAGO scp /*where tcb.RCF_DD_TCB_FACTURABLE = 1*/);

-- Creación de los tipos de tarifas iniciales
Insert into RCF_TCC_TARIFAS_CONCEP_COBRO 
Select S_RCF_TCC_TARIFAS_CONCEP_COB.nextval, 
       (select min(RCF_TCF_ID) from RCF_TCF_TIPO_COBRO_FACTURA),
       RCF_DD_COC_ID, 100, 5000, 10, 0, 'MIG-NUSE', sysdate, null, null, null, null, 0
from (select RCF_DD_COC_ID from RCF_DD_COC_CONCEPTO_COBRO);

-- Creación del tramo de facturación inicial
Insert into RCF_TRF_TRAMO_FACTURACION
  (RCF_TRF_ID, RCF_MFA_ID, RCF_TRF_DIAS, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_TRF_TRAMO_FACTURACION.nextval, 
  (select RCF_MFA_ID from RCF_MFA_MODELOS_FACTURACION where RCF_MFA_NOMBRE = 'MODELO FACTURACIÓN INICIAL'),
  30, 0, 'MIG-NUSE', sysdate, 0);

-- Creación de los tramos de tarifas de cobros iniciales
Insert into RCF_TCT_TARIF_COBRO_TRAMO
Select S_RCF_TCT_TARIF_COBRO_TRAMO.nextval, 
       (select max(RCF_TRF_ID) from RCF_TRF_TRAMO_FACTURACION where RCF_TRF_DIAS = 30),
        RCF_TCC_ID, 30, 0, 'MIG-NUSE', sysdate, null, null, null, null, 0
from (select tcc.RCF_TCC_ID 
      from RCF_MFA_MODELOS_FACTURACION mfa inner join
           RCF_TCF_TIPO_COBRO_FACTURA tcf on tcf.RCF_MFA_ID = mfa.RCF_MFA_ID inner join   
           RCF_TCC_TARIFAS_CONCEP_COBRO tcc on tcc.RCF_TCF_ID = tcf.RCF_TCF_ID);    

-- Creación del esquema inicial con estado liberado (ESTE ESTA OK)
Insert into RCF_ESQ_ESQUEMA 
  (RCF_ESQ_ID, RCF_ESQ_NOMBRE, RCF_ESQ_DESCRIPCION, RCF_DD_EES_ID, RCF_ESQ_FECHA_ALTA, RCF_ESQ_FECHA_LIB, 
  RCF_ESQ_FECHA_FIN_TRANSICION,RCF_FECHA_DESACT, RCF_ESQ_ID_ANTERIOR, RCF_ESQ_ID_SIGUIENTE, RCF_DD_MTR_ID, 
  RCF_ESQ_PLAZO, USU_ID, RCF_ID_GRUPO_VERSION, RCF_VERSION, RCF_MAJOR_RELEASE, RCF_MINOR_RELEASE, VERSION, 
  USUARIOCREAR, FECHACREAR, USUARIOMODIFICAR, FECHAMODIFICAR, USUARIOBORRAR, FECHABORRAR, BORRADO) 
Values 
  (S_RCF_ESQ_ESQUEMA.nextVal, 'ESQUEMA INICIAL', 'ESQUEMA INICIAL DE RECOBRO', 
  (select rcf_dd_ees_id from rcf_dd_ees_estado_esquema where rcf_dd_ees_codigo = 'LBR'), sysdate, null, null, 
  null, null, null, (select rcf_dd_mtr_id from rcf_dd_mtr_modelo_transicion where rcf_dd_mtr_codigo = 'RU'), 
  null, 1, S_RCF_ESQ_ESQUEMA.CURRVAL, '1', '0', '0', '0', 'MIG-NUSE', sysdate, null, null, null, null, '0');

-- Asignacíon de las carteras iniciales al esquema inicial
Insert into RCF_ESC_ESQUEMA_CARTERAS
  (RCF_ESC_ID, RCF_ESQ_ID, RCF_CAR_ID, DD_TCE_ID, RCF_ESC_PRIORIDAD, 
  DD_TGC_ID, DD_AER_ID,USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_ESC_ESQUEMA_CARTERAS.nextval, 
  (select rcf_esq_id from rcf_esq_esquema where RCF_ESQ_NOMBRE = 'ESQUEMA INICIAL'), 
  (select rcf_car_id from RCF_CAR_CARTERA where RCF_CAR_NOMBRE = 'FILTRO GENÉRICO'),
  (select DD_TCE_ID from RCF_DD_TCE_TIPO_CARTERA_ESQ where DD_TCE_CODIGO = 'FIL'), 1,  
  (select dd_tgc_id from RCF_DD_TGC_TIPO_GESTION_CART where dd_tgc_codigo = 'GI'),
  (select dd_aer_id from RCF_DD_AER_AMBITO_EXP_REC where dd_aer_codigo = 'CPGRA'), 'MIG-NUSE', sysdate, 0);

Insert into RCF_ESC_ESQUEMA_CARTERAS
  (RCF_ESC_ID, RCF_ESQ_ID, RCF_CAR_ID, DD_TCE_ID, RCF_ESC_PRIORIDAD, 
  DD_TGC_ID, DD_AER_ID,USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_ESC_ESQUEMA_CARTERAS.nextval, 
  (select rcf_esq_id from rcf_esq_esquema where RCF_ESQ_NOMBRE = 'ESQUEMA INICIAL'), 
  (select rcf_car_id from RCF_CAR_CARTERA where RCF_CAR_NOMBRE = 'TELECOBRO'),
  (select DD_TCE_ID from RCF_DD_TCE_TIPO_CARTERA_ESQ where DD_TCE_CODIGO = 'GES'), 2,  
  (select dd_tgc_id from RCF_DD_TGC_TIPO_GESTION_CART where dd_tgc_codigo = 'GI'),
  (select dd_aer_id from RCF_DD_AER_AMBITO_EXP_REC where dd_aer_codigo = 'CPGRA'), 'MIG-NUSE', sysdate, 0);
    
Insert into RCF_ESC_ESQUEMA_CARTERAS
  (RCF_ESC_ID, RCF_ESQ_ID, RCF_CAR_ID, DD_TCE_ID, RCF_ESC_PRIORIDAD, 
  DD_TGC_ID, DD_AER_ID,USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_ESC_ESQUEMA_CARTERAS.nextval, 
  (select rcf_esq_id from rcf_esq_esquema where RCF_ESQ_NOMBRE = 'ESQUEMA INICIAL'), 
  (select rcf_car_id from RCF_CAR_CARTERA where RCF_CAR_NOMBRE = 'RECOBRO < 210'),
  (select DD_TCE_ID from RCF_DD_TCE_TIPO_CARTERA_ESQ where DD_TCE_CODIGO = 'GES'), 3,  
  (select dd_tgc_id from RCF_DD_TGC_TIPO_GESTION_CART where dd_tgc_codigo = 'GI'),
  (select dd_aer_id from RCF_DD_AER_AMBITO_EXP_REC where dd_aer_codigo = 'CPGRA'), 'MIG-NUSE', sysdate, 0);
  
Insert into RCF_ESC_ESQUEMA_CARTERAS
  (RCF_ESC_ID, RCF_ESQ_ID, RCF_CAR_ID, DD_TCE_ID, RCF_ESC_PRIORIDAD, 
  DD_TGC_ID, DD_AER_ID,USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_ESC_ESQUEMA_CARTERAS.nextval, 
  (select rcf_esq_id from rcf_esq_esquema where RCF_ESQ_NOMBRE = 'ESQUEMA INICIAL'), 
  (select rcf_car_id from RCF_CAR_CARTERA where RCF_CAR_NOMBRE = 'RECOBRO > 210'),
  (select DD_TCE_ID from RCF_DD_TCE_TIPO_CARTERA_ESQ where DD_TCE_CODIGO = 'GES'), 4,  
  (select dd_tgc_id from RCF_DD_TGC_TIPO_GESTION_CART where dd_tgc_codigo = 'GI'),
  (select dd_aer_id from RCF_DD_AER_AMBITO_EXP_REC where dd_aer_codigo = 'CPGRA'), 'MIG-NUSE', sysdate, 0);

-- Cargamos las subcareras iniciales: una por cartera
Insert into RCF_SCA_SUBCARTERA
  (RCF_SCA_ID, RCF_ESC_ID, RCF_SCA_NOMBRE, RCF_SCA_PARTICION, RCF_DD_TPR_ID, 
  RCF_ITV_ID, RCF_MFA_ID, RCF_POA_ID, RCF_MOR_ID, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
 Values
  (S_RCF_SCA_SUBCARTERA.nextval, 
  (SELECT ESC.RCF_ESC_ID FROM RCF_ESC_ESQUEMA_CARTERAS ESC 
      JOIN RCF_ESQ_ESQUEMA ESQ ON ESC.RCF_ESQ_ID = ESQ.RCF_ESQ_ID 
      JOIN RCF_CAR_CARTERA CAR ON ESC.RCF_CAR_ID = CAR.RCF_CAR_ID 
      WHERE ESQ.RCF_ESQ_NOMBRE = 'ESQUEMA INICIAL'
      AND CAR.RCF_CAR_NOMBRE = 'TELECOBRO'), 'SUBCARTERA TELECOBRO', 100, 
  (SELECT RCF_DD_TPR_ID FROM RCF_DD_TPR_TIPO_REPARTO_SUBC WHERE RCF_DD_TPR_CODIGO = 'EST'),
  (SELECT RCF_ITV_ID FROM RCF_ITV_ITI_METAS_VOLANTES WHERE RCF_ITV_NOMBRE = 'MODELO DE METAS VOLANTES INICIAL'),
  (SELECT RCF_MFA_ID FROM RCF_MFA_MODELOS_FACTURACION WHERE RCF_MFA_NOMBRE = 'MODELO FACTURACIÓN INICIAL'),
  (SELECT RCF_POA_ID FROM RCF_POA_POLITICA_ACUERDOS WHERE RCF_POA_NOMBRE = 'POLÍTICA DE ACUERDOS INICIAL'),
  (SELECT RCF_MOR_ID FROM RCF_MOR_MODELO_RANKING WHERE RCF_MOR_NOMBRE ='MODELO DE RANKING CONFIGURACIÓN INICIAL'), 
   0, 'MIG-NUSE', sysdate, 0);
    
Insert into RCF_SCA_SUBCARTERA
  (RCF_SCA_ID, RCF_ESC_ID, RCF_SCA_NOMBRE, RCF_SCA_PARTICION, RCF_DD_TPR_ID, 
   RCF_ITV_ID, RCF_MFA_ID, RCF_POA_ID, RCF_MOR_ID, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
 Values
  (S_RCF_SCA_SUBCARTERA.nextval, 
  (SELECT ESC.RCF_ESC_ID FROM RCF_ESC_ESQUEMA_CARTERAS ESC 
      JOIN RCF_ESQ_ESQUEMA ESQ ON ESC.RCF_ESQ_ID = ESQ.RCF_ESQ_ID 
      JOIN RCF_CAR_CARTERA CAR ON ESC.RCF_CAR_ID = CAR.RCF_CAR_ID 
      WHERE ESQ.RCF_ESQ_NOMBRE = 'ESQUEMA INICIAL'
      AND CAR.RCF_CAR_NOMBRE = 'RECOBRO < 210'), 'SUBCARTERA RECOBRO < 210', 100, 
  (SELECT RCF_DD_TPR_ID FROM RCF_DD_TPR_TIPO_REPARTO_SUBC WHERE RCF_DD_TPR_CODIGO = 'EST'),
  (SELECT RCF_ITV_ID FROM RCF_ITV_ITI_METAS_VOLANTES WHERE RCF_ITV_NOMBRE = 'MODELO DE METAS VOLANTES INICIAL'),
  (SELECT RCF_MFA_ID FROM RCF_MFA_MODELOS_FACTURACION WHERE RCF_MFA_NOMBRE = 'MODELO FACTURACIÓN INICIAL'),
  (SELECT RCF_POA_ID FROM RCF_POA_POLITICA_ACUERDOS WHERE RCF_POA_NOMBRE = 'POLÍTICA DE ACUERDOS INICIAL'),
  (SELECT RCF_MOR_ID FROM RCF_MOR_MODELO_RANKING WHERE RCF_MOR_NOMBRE ='MODELO DE RANKING CONFIGURACIÓN INICIAL'), 
   0, 'MIG-NUSE', sysdate, 0);   
    
Insert into RCF_SCA_SUBCARTERA
  (RCF_SCA_ID, RCF_ESC_ID, RCF_SCA_NOMBRE, RCF_SCA_PARTICION, RCF_DD_TPR_ID, 
  RCF_ITV_ID, RCF_MFA_ID, RCF_POA_ID, RCF_MOR_ID, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
 Values
  (S_RCF_SCA_SUBCARTERA.nextval, 
  (SELECT ESC.RCF_ESC_ID FROM RCF_ESC_ESQUEMA_CARTERAS ESC 
      JOIN RCF_ESQ_ESQUEMA ESQ ON ESC.RCF_ESQ_ID = ESQ.RCF_ESQ_ID 
      JOIN RCF_CAR_CARTERA CAR ON ESC.RCF_CAR_ID = CAR.RCF_CAR_ID 
      WHERE ESQ.RCF_ESQ_NOMBRE = 'ESQUEMA INICIAL'
      AND CAR.RCF_CAR_NOMBRE = 'RECOBRO > 210'), 'SUBCARTERA RECOBRO > 210', 100, 
  (SELECT RCF_DD_TPR_ID FROM RCF_DD_TPR_TIPO_REPARTO_SUBC WHERE RCF_DD_TPR_CODIGO = 'EST'),
  (SELECT RCF_ITV_ID FROM RCF_ITV_ITI_METAS_VOLANTES WHERE RCF_ITV_NOMBRE = 'MODELO DE METAS VOLANTES INICIAL'),
  (SELECT RCF_MFA_ID FROM RCF_MFA_MODELOS_FACTURACION WHERE RCF_MFA_NOMBRE = 'MODELO FACTURACIÓN INICIAL'),
  (SELECT RCF_POA_ID FROM RCF_POA_POLITICA_ACUERDOS WHERE RCF_POA_NOMBRE = 'POLÍTICA DE ACUERDOS INICIAL'),
  (SELECT RCF_MOR_ID FROM RCF_MOR_MODELO_RANKING WHERE RCF_MOR_NOMBRE ='MODELO DE RANKING CONFIGURACIÓN INICIAL'), 
  0, 'MIG-NUSE', sysdate, 0);        
    
-- Asignamos las subcarteras a las agencias    
Insert into RCF_SUA_SUBCARTERA_AGENCIAS
Select S_RCF_SUA_SUBCARTERA_AGENCIAS.nextval, 
  RCF_AGE_ID, (select RCF_SCA_ID from RCF_SCA_SUBCARTERA where RCF_SCA_NOMBRE = 'SUBCARTERA TELECOBRO'),
  6, 0, 'MIG-NUSE', sysdate, null, null, null, null, 0 
From RCF_AGE_AGENCIAS
Where RCF_AGE_CODIGO <> '001';

Insert into RCF_SUA_SUBCARTERA_AGENCIAS
  (RCF_SUA_ID, RCF_AGE_ID, RCF_SCA_ID, RCF_SUA_COEFICIENTE, 
  VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_SUA_SUBCARTERA_AGENCIAS.nextval, (select rcf_age_id from rcf_age_agencias where RCF_AGE_CODIGO = '001'), 
  (select RCF_SCA_ID from RCF_SCA_SUBCARTERA where RCF_SCA_NOMBRE = 'SUBCARTERA TELECOBRO'), 
  16, 0, 'MIG-NUSE', sysdate, 0);    
  
Insert into RCF_SUA_SUBCARTERA_AGENCIAS
Select S_RCF_SUA_SUBCARTERA_AGENCIAS.nextval, 
  RCF_AGE_ID, (select RCF_SCA_ID from RCF_SCA_SUBCARTERA where RCF_SCA_NOMBRE = 'SUBCARTERA RECOBRO < 210'),
  6, 0, 'MIG-NUSE', sysdate, null, null, null, null, 0 
From RCF_AGE_AGENCIAS
Where RCF_AGE_CODIGO <> '001';

Insert into RCF_SUA_SUBCARTERA_AGENCIAS
  (RCF_SUA_ID, RCF_AGE_ID, RCF_SCA_ID, RCF_SUA_COEFICIENTE, 
  VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_SUA_SUBCARTERA_AGENCIAS.nextval, (select rcf_age_id from rcf_age_agencias where RCF_AGE_CODIGO = '001'), 
  (select RCF_SCA_ID from RCF_SCA_SUBCARTERA where RCF_SCA_NOMBRE = 'SUBCARTERA RECOBRO < 210'), 
  16, 0, 'MIG-NUSE', sysdate, 0);    
  
Insert into RCF_SUA_SUBCARTERA_AGENCIAS
Select S_RCF_SUA_SUBCARTERA_AGENCIAS.nextval, 
  RCF_AGE_ID, (select RCF_SCA_ID from RCF_SCA_SUBCARTERA where RCF_SCA_NOMBRE = 'SUBCARTERA RECOBRO > 210'),
  6, 0, 'MIG-NUSE', sysdate, null, null, null, null, 0 
From RCF_AGE_AGENCIAS
Where RCF_AGE_CODIGO <> '001';

Insert into RCF_SUA_SUBCARTERA_AGENCIAS
  (RCF_SUA_ID, RCF_AGE_ID, RCF_SCA_ID, RCF_SUA_COEFICIENTE, 
  VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values
  (S_RCF_SUA_SUBCARTERA_AGENCIAS.nextval, (select rcf_age_id from rcf_age_agencias where RCF_AGE_CODIGO = '001'),  
  (select RCF_SCA_ID from RCF_SCA_SUBCARTERA where RCF_SCA_NOMBRE = 'SUBCARTERA RECOBRO > 210'), 
  16, 0, 'MIG-NUSE', sysdate, 0);      

COMMIT;