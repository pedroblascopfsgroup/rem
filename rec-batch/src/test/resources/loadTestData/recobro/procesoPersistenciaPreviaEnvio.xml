<?xml version="1.0"?>
<!-- VALORES PERMITIDOS EN EL CAMPO TYPE: DROP, CREATE, INSERT, UPDATE, COUNT-->
<sqls>
<!-- A PARTIR DE AQUÍ CREACIÓN DE LOS INTERFACES DE CONFIGURACIÓN, ENTRADA Y SALIDA DEL BATCH -->	
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'BATCH_RCF_ENTRADA';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
		CREATE TABLE BATCH_RCF_ENTRADA (
			    RCF_ESQ_ID          		NUMBER(16) NOT NULL,
				RCF_ESQ_PLAZO				INTEGER NOT NULL,
				RCF_ESQ_FECHA_LIB			TIMESTAMP(6),
				RCF_ESQ_BORRADO        		NUMBER(1) NOT NULL,
				RCF_DD_EES_ID				NUMBER(16) NOT NULL,
				RCF_DD_EES_CODIGO           VARCHAR2(20 CHAR) NOT NULL,
				RCF_DD_EES_BORRADO     		NUMBER(1) NOT NULL,
				RCF_DD_MTR_ID				NUMBER(16) NOT NULL,
				RCF_DD_MTR_CODIGO           VARCHAR2(20 CHAR) NOT NULL,
				RCF_DD_MTR_BORRADO     		NUMBER(1) NOT NULL,
				RCF_CAR_ID					NUMBER(16) NOT NULL,
			    RCF_CAR_NOMBRE				VARCHAR2(50 CHAR) NOT NULL,
				RCF_CAR_BORRADO        		NUMBER(1) NOT NULL,
			    RCF_DD_ECA_ID				NUMBER(16) NOT NULL,
				RCF_DD_ECA_CODIGO           VARCHAR2(20 CHAR) NOT NULL,
				RCF_DD_ECA_BORRADO     		NUMBER(1) NOT NULL,
				RD_ID						NUMBER(16) NOT NULL,
				RD_NAME						VARCHAR2(250 CHAR) NOT NULL,
				RD_DEFINITION				VARCHAR2(4000 CHAR) NOT NULL,
				RD_BORRADO					NUMBER(1) NOT NULL,
			    RCF_AGE_ID					NUMBER(16) NOT NULL,
			    RCF_AGE_NOMBRE				VARCHAR2(50 CHAR) NOT NULL,
				RCF_AGE_CODIGO				VARCHAR2(10 CHAR) NOT NULL,
				RCF_AGE_BORRADO        		NUMBER(1) NOT NULL,
				RCF_ESC_ID					NUMBER(16) NOT NULL,
				RCF_ESC_PRIORIDAD			NUMBER(16) NOT NULL,
				RCF_ESC_BORRADO        		NUMBER(1) NOT NULL,
				RCF_DD_TCE_ID               NUMBER(16) NOT NULL,        
			   	RCF_DD_TCE_CODIGO           VARCHAR2(20 CHAR) NOT NULL,
				RCF_DD_TCE_BORRADO     		NUMBER(1) NOT NULL,
				RCF_DD_TGC_ID               NUMBER(16),        
			   	RCF_DD_TGC_CODIGO           VARCHAR2(20 CHAR),
				RCF_DD_TGC_BORRADO     		NUMBER(1),
				RCF_DD_AER_ID               NUMBER(16),        
			   	RCF_DD_AER_CODIGO           VARCHAR2(20 CHAR),
				RCF_DD_AER_BORRADO     		NUMBER(1),
				RCF_SCA_ID					NUMBER(16) NOT NULL,
				RCF_SCA_NOMBRE				VARCHAR2(50 CHAR) NOT NULL,
				RCF_SCA_PARTICION			INTEGER    NOT NULL,
				RCF_SCA_BORRADO        		NUMBER(1) NOT NULL,
				RCF_DD_TPR_ID               NUMBER(16) NOT NULL,        
			   	RCF_DD_TPR_CODIGO           VARCHAR2(20 CHAR) NOT NULL,
				RCF_DD_TPR_BORRADO     		NUMBER(1) NOT NULL,
				RCF_ITV_ID                	NUMBER(16) NOT NULL,        
			   	RCF_ITV_NOMBRE           	VARCHAR2(50 CHAR) NOT NULL,
			   	RCF_ITV_FECHA_ALTA        	TIMESTAMP(6) NOT NULL,
			   	RCF_ITV_PLAZO_MAX	       	NUMBER(8) DEFAULT 0 NOT NULL,
				RCF_ITV_NO_GEST		 		NUMBER(8) DEFAULT 0 NOT NULL,
				RCF_ITV_BORRADO        		NUMBER(1) NOT NULL,
				RCF_MFA_ID               	NUMBER(16) NOT NULL,        
			   	RCF_MFA_NOMBRE            	VARCHAR2(50 CHAR) NOT NULL,
				RCF_MFA_BORRADO        		NUMBER(1) NOT NULL,
				RCF_POA_ID 		           	NUMBER(16) NOT NULL,        
			   	RCF_POA_CODIGO            	VARCHAR2(20 CHAR) NOT NULL,
				RCF_POA_BORRADO        		NUMBER(1) NOT NULL,
				RCF_MOR_ID                	NUMBER(16) NOT NULL,
				RCF_MOR_NOMBRE              VARCHAR2(100 CHAR) NOT NULL,
				RCF_MOR_BORRADO             NUMBER(1) NOT NULL,
				RCF_SUA_ID					NUMBER(16),
				RCF_SUA_COEFICIENTE			NUMBER(16,2),
				RCF_SUA_BORRADO				NUMBER(1),
				RCF_SUR_ID					NUMBER(16),
				RCF_SUR_POSICION			NUMBER(16),
				RCF_SUR_PORCENTAJE			NUMBER(16,2),
				RCF_SUR_BORRADO				NUMBER(1)
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla BATCH_RCF_ENTRADA</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'BATCH_DATOS_EXCEPTUADOS';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE BATCH_DATOS_EXCEPTUADOS (
				PER_ID				NUMBER(16),
				CNT_ID				NUMBER(16),
				DD_MOB_ID			NUMBER(16) NOT NULL,
				DD_MOB_CODIGO		VARCHAR2(50 CHAR) NOT NULL,
				DD_MOB_BORRADO		NUMBER(1)  NOT NULL
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla BATCH_DATOS_EXCEPTUADOS</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'BATCH_DATOS_ENTRADA';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE BATCH_DATOS_ENTRADA (
				EXP_ID                    NUMBER(16) NOT NULL,
				ARQ_ID                    NUMBER(16) NOT NULL,
				EXP_PROCESS_BPM           NUMBER(16) NOT NULL,
				EXP_MARCADO_BPM           NUMBER(1)  NOT NULL,
				EXP_BORRADO               NUMBER(1)  NOT NULL,
				DD_TPE_ID                 NUMBER(16) NOT NULL,
				DD_TPE_CODIGO             VARCHAR2(50 CHAR) NOT NULL,
				DD_TPE_BORRADO            NUMBER(1)  NOT NULL,
				DD_EEX_ID                 NUMBER(16) NOT NULL,
				DD_EEX_CODIGO             VARCHAR2(50 CHAR) NOT NULL,
				DD_EEX_BORRADO            NUMBER(1)  NOT NULL,
				RCF_ESQ_ID                NUMBER(16) NOT NULL,
				RCF_CAR_ID                NUMBER(16) NOT NULL,
				RCF_AGE_ID                NUMBER(16) NOT NULL,
				RCF_SCA_ID                NUMBER(16) NOT NULL
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla BATCH_DATOS_ENTRADA</msg>
	</sql>
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'BATCH_DATOS_SALIDA';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE BATCH_DATOS_SALIDA (
				EXP_ID				NUMBER(16) NOT NULL,
				EXP_DESCRIPCION		VARCHAR2(310 CHAR),
				EXP_MANUAL			NUMBER(1) NOT NULL,
				DD_AEX_CODIGO			VARCHAR2(10 CHAR) NOT NULL,
				DD_EEX_ID			NUMBER(16),
				DD_EST_ID			NUMBER(16),
			   	EXP_FECHA_EST_ID	TIMESTAMP(6) NOT NULL,
				OFI_ID				NUMBER(16) NOT NULL,
				CNT_ID				NUMBER(16) NOT NULL,
				PER_ID				NUMBER(16) NOT NULL,
				ARQ_ID				NUMBER(16) NOT NULL,
				CEX_PASE			NUMBER(1),
				PEX_PASE			NUMBER(1) 
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla BATCH_DATOS_SALIDA</msg>
	</sql>			
<!-- A PARTIR DE AQUÍ CREACIÓN DE TABLAS DE EXTRACCIÓN DE FICHEROS -->	
	<sql>
		<type>EXECUTE</type>
		<value>	
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'REC_FICHERO_CONTRATOS';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE REC_FICHERO_CONTRATOS (
				RCF_AGE_ID      			NUMBER(16),
				RCF_SCA_ID   				NUMBER(16),
				CNT_ENV_ID      			NUMBER(24),
				EXP_ID          			NUMBER(16),
				RCF_CAR_DESCRIPCION			VARCHAR2(255 CHAR),
				CNT_COD_ENTIDAD 			NUMBER(27),
				CNT_COD_ENTIDAD_OFI_ADMIN	NUMBER(5),
				CNT_COD_OFI_ADMIN			NUMBER(4),
				CNT_DIR_OFI_ADMIN			VARCHAR2(255 CHAR),
				CNT_COD_PROPIETARIO			NUMBER(5),
				DD_TPR_CODIGO				VARCHAR2(5 CHAR),
				CNT_CONTRATO				NUMBER(17),
				CNT_NUMERO_ESPEC			NUMBER(15),
				CNT_IBAN					VARCHAR2(24 CHAR),
				CNT_COD_PROPIETARIO_DOM		VARCHAR2(20 CHAR),
				CNT_IBAN_PROP_DOM			VARCHAR2(24 CHAR),
				DD_EFC_CODIGO				VARCHAR2(25 CHAR),
				MOV_POS_VIVA_NO_VENCIDA		NUMBER(14,2),
				MOV_POS_VIVA_VENCIDA		NUMBER(14,2),
				MOV_INT_REMUNERATORIOS		NUMBER(14,2),
				MOV_INT_MORATORIOS			NUMBER(14,2),
				MOV_COMISIONES				NUMBER(14,2),
				MOV_GASTOS					NUMBER(14,2),
				MOV_IMPUESTOS				NUMBER(14,2),
				MOV_ENTREGAS				NUMBER(14,2),
				MOV_INT_ENTREGAS			NUMBER(14,2),
				MOV_DEUDA_IRREGULAR			NUMBER(14,2),
				MOV_LIMITE_INICIAL			NUMBER(14,2),
				MOV_LIMITE_ACTUAL			NUMBER(14,2),
				CNT_FECHA_CREACION			TIMESTAMP(6),
				CNT_FECHA_INI_IRREGU		TIMESTAMP(6),
				MOV_FECHA_POS_VENCIDA		TIMESTAMP(6),
				DD_CT1_DESCRIPCION_LARGA	VARCHAR2(1024 CHAR),
				DD_CT2_DESCRIPCION_LARGA	VARCHAR2(1024 CHAR),
				DD_CT3_DESCRIPCION_LARGA	VARCHAR2(1024 CHAR),
				DD_CT4_DESCRIPCION_LARGA	VARCHAR2(1024 CHAR),
				DD_CT5_DESCRIPCION_LARGA	VARCHAR2(1024 CHAR),
				DD_CT6_DESCRIPCION_LARGA	VARCHAR2(1024 CHAR),
				DD_GC1_DESCRIPCION			VARCHAR2(255 CHAR),
				DD_GC2_DESCRIPCION			VARCHAR2(255 CHAR),
				CNT_CONTACTO_ENTIDAD_NOMBRE	VARCHAR2(255 CHAR),
				CNT_CONTACTO_ENTIDAD_TEL	VARCHAR2(25 CHAR),
				CNT_CONTACTO_ENTIDAD_EMAIL	VARCHAR2(255 CHAR),
				DD_SIG_DESCRIPCION			VARCHAR2(50 CHAR),
				CNT_CUOTA_IMPORTE			NUMBER(14,2),
				CNT_CUOTA_PERIODICIDAD		NUMBER(3),
				CNT_FINALIDAD_CONTRATO		VARCHAR2(255 CHAR),
				CNT_FECHA_VENC				TIMESTAMP(6),
				CNT_SISTEMA_AMORTIZACION	VARCHAR2(255 CHAR),
				CNT_TIPO_INTERES_OPERACION	NUMBER(2,5),
				CNT_FECHA_EXTRA1			TIMESTAMP(6),
				CNT_FECHA_EXTRA2			TIMESTAMP(6),
				CNT_FECHA_EXTRA3			TIMESTAMP(6),
				CNT_FECHA_EXTRA4			TIMESTAMP(6),
				CNT_FECHA_EXTRA5			TIMESTAMP(6),
				CNT_FECHA_EXTRA6			TIMESTAMP(6),
				CNT_FECHA_EXTRA7			TIMESTAMP(6),
				CNT_FECHA_EXTRA8			TIMESTAMP(6),
				CNT_FECHA_EXTRA9			TIMESTAMP(6),
				CNT_FECHA_EXTRA10			TIMESTAMP(6),
				CNT_NUMERO_EXTRA1			NUMBER(14,2),
				CNT_NUMERO_EXTRA2			NUMBER(14,2),
				CNT_NUMERO_EXTRA3			NUMBER(14,2),
				CNT_NUMERO_EXTRA4			NUMBER(14,2),
				CNT_NUMERO_EXTRA5			NUMBER(14,2),
				CNT_NUMERO_EXTRA6			NUMBER(14,2),
				CNT_NUMERO_EXTRA7			NUMBER(14,2),
				CNT_NUMERO_EXTRA8			NUMBER(14,2),
				CNT_NUMERO_EXTRA9			NUMBER(14,2),
				CNT_NUMERO_EXTRA10			NUMBER(14,2),
				CNT_TEXTO_EXTRA1			VARCHAR2(250 CHAR),
				CNT_TEXTO_EXTRA2			VARCHAR2(250 CHAR),
				CNT_TEXTO_EXTRA3			VARCHAR2(250 CHAR),
				CNT_TEXTO_EXTRA4			VARCHAR2(250 CHAR),
				CNT_TEXTO_EXTRA5			VARCHAR2(250 CHAR),
				CNT_TEXTO_EXTRA6			VARCHAR2(250 CHAR),
				CNT_TEXTO_EXTRA7			VARCHAR2(250 CHAR),
				CNT_TEXTO_EXTRA8			VARCHAR2(250 CHAR),
				CNT_TEXTO_EXTRA9			VARCHAR2(250 CHAR),
				CNT_TEXTO_EXTRA10			VARCHAR2(250 CHAR)
			)
		';
		execute immediate v_sql;
		END IF;
		end;				
		</value>
		<msg>Creación de la tabla REC_FICHERO_CONTRATOS</msg>
	</sql>		
	<sql>
		<type>EXECUTE</type>
		<value>		
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'REC_FICHERO_PERSONAS';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='				
			CREATE TABLE REC_FICHERO_PERSONAS (
				RCF_AGE_ID					NUMBER(16),
				PER_COD_ENTIDAD_PROPIETARIO	NUMBER(5),
				PER_ID						NUMBER(16),
				DD_TPE_CODIGO				NUMBER(1),
				DD_TDI_DESCRIPCION			VARCHAR2(20 CHAR),
				PER_DOC_ID					VARCHAR2(20 CHAR),
				PER_NOMBRE					VARCHAR2(100 CHAR),
				PER_APELLIDO1				VARCHAR2(100 CHAR),
				PER_APELLIDO2				VARCHAR2(100 CHAR),
				DD_SCE_DESCRIPCION			VARCHAR2(255 CHAR),
				PER_FECHA_CONSTITUCION		TIMESTAMP(6),
				PER_FECHA_NACIMIENTO		TIMESTAMP(6),
				DD_CIC_DESCRIPCION_LARGA	VARCHAR2(255 CHAR),
				DD_SEX_DESCRIPCION_LARGA	VARCHAR2(255 CHAR),
				PER_EMAIL					VARCHAR2(255 CHAR),
				PER_SALDO_PASIVO			NUMBER(14,2),
				PER_RIESGO					NUMBER(14,2),
				PER_RIESGO_IND				NUMBER(14,2),
				PER_DEUDA_IRREGULAR_DIR		NUMBER(14,2),
				PER_DEUDA_IRREGULAR_IND		NUMBER(14,2),
				PER_DEUDA_IRRE_GRP_DIR		NUMBER(14,2),
				PER_DEUDA_IRRE_GRP_IND		NUMBER(14,2),
				PER_ULTIMA_ACTUACION		VARCHAR2(1024 CHAR),
				PER_GESTION_COMPARTIDA		VARCHAR2(2 CHAR),
				PER_FECHA_EXTRA1			TIMESTAMP(6),
				PER_FECHA_EXTRA2			TIMESTAMP(6),
				PER_FECHA_EXTRA3			TIMESTAMP(6),
				PER_FECHA_EXTRA4			TIMESTAMP(6),
				PER_FECHA_EXTRA5			TIMESTAMP(6),
				PER_EXTRA_1					NUMBER(14,2),
				PER_EXTRA_2					NUMBER(14,2),
				PER_EXTRA_3					NUMBER(14,2),
				PER_EXTRA_4					NUMBER(14,2),
				PER_EXTRA_5					NUMBER(14,2),
				PER_TEXTO_EXTRA_1			VARCHAR2(250 CHAR),
				PER_TEXTO_EXTRA_2			VARCHAR2(250 CHAR),
				PER_TEXTO_EXTRA_3			VARCHAR2(250 CHAR),
				PER_TEXTO_EXTRA_4			VARCHAR2(250 CHAR),
				PER_TEXTO_EXTRA_5			VARCHAR2(250 CHAR)
			)		
		';
		execute immediate v_sql;
		END IF;
		end;				
		</value>
		<msg>Creación de la tabla REC_FICHERO_PERSONAS</msg>
	</sql>		
	<sql>
		<type>EXECUTE</type>
		<value>		
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'REC_FICHERO_CONTRATOS_PERSONAS';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='				
			CREATE TABLE REC_FICHERO_CONTRATOS_PERSONAS (
				RCF_AGE_ID					NUMBER(16),
				CPE_ID_ENVIO				NUMBER(24),
				PER_COD_ENTIDAD_PROPIETARIO	NUMBER(5),
				PER_ID						NUMBER(16),
				DD_TIN_DESCRIPCION_LARGA	VARCHAR2(255 CHAR),
				CPE_ORDEN					NUMBER(4),
				PER_FECHA_EXTRA1			TIMESTAMP(6),
				PER_FECHA_EXTRA2			TIMESTAMP(6),
				PER_FECHA_EXTRA3			TIMESTAMP(6),
				PER_FECHA_EXTRA4			TIMESTAMP(6),
				PER_FECHA_EXTRA5			TIMESTAMP(6),
				PER_EXTRA_1					NUMBER(14,2),
				PER_EXTRA_2					NUMBER(14,2),
				PER_EXTRA_3					NUMBER(14,2),
				PER_EXTRA_4					NUMBER(14,2),
				PER_EXTRA_5					NUMBER(14,2),
				PER_TEXTO_EXTRA_1			VARCHAR2(250 CHAR),
				PER_TEXTO_EXTRA_2			VARCHAR2(250 CHAR),
				PER_TEXTO_EXTRA_3			VARCHAR2(250 CHAR),
				PER_TEXTO_EXTRA_4			VARCHAR2(250 CHAR),
				PER_TEXTO_EXTRA_5			VARCHAR2(250 CHAR)
			)
		';
		execute immediate v_sql;
		END IF;
		end;				
		</value>
		<msg>Creación de la tabla REC_FICHERO_CONTRATOS_PERSONAS</msg>
	</sql>			
	<sql>
		<type>EXECUTE</type>
		<value>		
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'REC_FICHERO_CONTRATOS_BAJAS';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='				
			CREATE TABLE REC_FICHERO_CONTRATOS_BAJAS (
				RCF_AGE_ID					NUMBER(16),
				CNT_ENV_ID      			NUMBER(24), 
				CNT_FECHA_ESC				TIMESTAMP(6),
				DD_MOB_DESCRIPCION_LARGA	VARCHAR2(255 CHAR),
				CNT_FECHA_EXTRA1			TIMESTAMP(6),
				CNT_FECHA_EXTRA2			TIMESTAMP(6),
				CNT_FECHA_EXTRA3			TIMESTAMP(6),
				CNT_FECHA_EXTRA4			TIMESTAMP(6),
				CNT_FECHA_EXTRA5			TIMESTAMP(6),
				CNT_NUMERO_EXTRA1			NUMBER(14,2),
				CNT_NUMERO_EXTRA2			NUMBER(14,2),
				CNT_NUMERO_EXTRA3			NUMBER(14,2),
				CNT_NUMERO_EXTRA4			NUMBER(14,2),
				CNT_NUMERO_EXTRA5			NUMBER(14,2),
				CNT_TEXTO_EXTRA1			VARCHAR2(250 CHAR),
				CNT_TEXTO_EXTRA2			VARCHAR2(250 CHAR),
				CNT_TEXTO_EXTRA3			VARCHAR2(250 CHAR),
				CNT_TEXTO_EXTRA4			VARCHAR2(250 CHAR),
				CNT_TEXTO_EXTRA5			VARCHAR2(250 CHAR)
			)
		';
		execute immediate v_sql;
		END IF;
		end;				
		</value>
		<msg>Creación de la tabla REC_FICHERO_CONTRATOS_BAJAS</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<value>		
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'REC_FICHERO_PERSONAS_PALANCAS';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='				
			CREATE TABLE REC_FICHERO_PERSONAS_PALANCAS (
				RCF_AGE_ID					NUMBER(16),
				PER_COD_ENTIDAD_PROPIETARIO	NUMBER(5),
				PER_ID						NUMBER(16),
				EXP_ID						NUMBER(16),
				PAL_PER_ID					NUMBER(16),
				RCF_TPP_DESCRIPCION_LARGA	VARCHAR2(255 CHAR),
				RCF_STP_DESCRIPCION_LARGA	VARCHAR2(255 CHAR),
				PAL_DELEGADA				NUMBER(1),
				PAL_PRIORIDAD				NUMBER(2),
				PPA_FECHA_EXTRA1			TIMESTAMP(6),
				PPA_FECHA_EXTRA2			TIMESTAMP(6),
				PPA_FECHA_EXTRA3			TIMESTAMP(6),
				PPA_FECHA_EXTRA4			TIMESTAMP(6),
				PPA_FECHA_EXTRA5			TIMESTAMP(6),
				PPA_EXTRA_1					NUMBER(14,2),
				PPA_EXTRA_2					NUMBER(14,2),
				PPA_EXTRA_3					NUMBER(14,2),
				PPA_EXTRA_4					NUMBER(14,2),
				PPA_EXTRA_5					NUMBER(14,2),
				PPA_TEXTO_EXTRA_1			VARCHAR2(250 CHAR),
				PPA_TEXTO_EXTRA_2			VARCHAR2(250 CHAR),
				PPA_TEXTO_EXTRA_3			VARCHAR2(250 CHAR),
				PPA_TEXTO_EXTRA_4			VARCHAR2(250 CHAR),
				PPA_TEXTO_EXTRA_5			VARCHAR2(250 CHAR)
			)
		';
		execute immediate v_sql;
		END IF;
		end;				
		</value>
		<msg>Creación de la tabla REC_FICHERO_PERSONAS_PALANCAS</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<value>		
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'REC_FICHERO_DIRECCIONES';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='				
			CREATE TABLE REC_FICHERO_DIRECCIONES (
				RCF_AGE_ID					NUMBER(16),
				PER_COD_ENTIDAD_PROPIETARIO	NUMBER(5),
				PER_ID						NUMBER(16),
				DIR_ID						NUMBER(16),
				DD_TVI_DESCRIPCION			VARCHAR2(100 CHAR),
				DIR_DOMICILIO				VARCHAR2(100 CHAR),
				DIR_DOM_N					VARCHAR2(10 CHAR),
				DIR_DOM_PORTAL				VARCHAR2(10 CHAR),
				DIR_DOM_PISO				VARCHAR2(10 CHAR),
				DIR_DOM_ESC					VARCHAR2(10 CHAR),
				DIR_DOM_PUERTA				VARCHAR2(10 CHAR),
				DIR_CODIGO_POSTAL			VARCHAR2(10 CHAR),
				DIR_PROVINCIA				VARCHAR2(100 CHAR),
				DIR_POBLACION				VARCHAR2(100 CHAR),
				DIR_MUNICIPIO				VARCHAR2(100 CHAR),
				DIR_PRINCIPAL				NUMBER(1),
				DIR_ESTADO					VARCHAR2(50 CHAR),
				DIR_TIPO					VARCHAR2(50 CHAR),
				DIR_BLOQUEADA				NUMBER(1),
				DIR_FECHA_EXTRA1			TIMESTAMP(6),
				DIR_FECHA_EXTRA2			TIMESTAMP(6),
				DIR_FECHA_EXTRA3			TIMESTAMP(6),
				DIR_FECHA_EXTRA4			TIMESTAMP(6),
				DIR_FECHA_EXTRA5			TIMESTAMP(6),
				DIR_EXTRA_1					NUMBER(14,2),
				DIR_EXTRA_2					NUMBER(14,2),
				DIR_EXTRA_3					NUMBER(14,2),
				DIR_EXTRA_4					NUMBER(14,2),
				DIR_EXTRA_5					NUMBER(14,2),
				DIR_TEXTO_EXTRA_1			VARCHAR2(250 CHAR),
				DIR_TEXTO_EXTRA_2			VARCHAR2(250 CHAR),
				DIR_TEXTO_EXTRA_3			VARCHAR2(250 CHAR),
				DIR_TEXTO_EXTRA_4			VARCHAR2(250 CHAR),
				DIR_TEXTO_EXTRA_5			VARCHAR2(250 CHAR)
			)
		';
		execute immediate v_sql;
		END IF;
		end;				
		</value>
		<msg>Creación de la tabla REC_FICHERO_DIRECCIONES</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<value>		
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'REC_FICHERO_RECIBOS';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='				
			CREATE TABLE REC_FICHERO_RECIBOS (
				RCF_AGE_ID					NUMBER(16),
				REC_ID						NUMBER(16),
				CNT_ENV_ID					NUMBER(24),
				REC_CODIGO					NUMBER(20),
				REC_FECHA_VENCIMIENTO		TIMESTAMP(6),
				REC_FECHA_FACTURACION		TIMESTAMP(6),
				DD_TRE_DESCRIPCION_LARGA	VARCHAR2(100 CHAR),
				DD_TIN_DESCRIPCION_LARGA	VARCHAR2(255 CHAR),
				REC_IMPORTE					NUMBER(14,2),
				REC_IMPORTE_IMPAGADO		NUMBER(14,2),
				REC_CAPITAL					NUMBER(14,2),
				REC_IMP_INT_ORDINARIOS		NUMBER(14,2),
				REC_IMP_INT_MORATORIOS		NUMBER(14,2),
				REC_COMISIONES				NUMBER(14,2),
				REC_GASTOS					NUMBER(14,2),
				REC_IMPUESTOS				NUMBER(14,2),
				REC_FECHA_EXTRA1			TIMESTAMP(6),
				REC_FECHA_EXTRA2			TIMESTAMP(6),
				REC_FECHA_EXTRA3			TIMESTAMP(6),
				REC_FECHA_EXTRA4			TIMESTAMP(6),
				REC_FECHA_EXTRA5			TIMESTAMP(6),
				REC_EXTRA_1					NUMBER(14,2),
				REC_EXTRA_2					NUMBER(14,2),
				REC_EXTRA_3					NUMBER(14,2),
				REC_EXTRA_4					NUMBER(14,2),
				REC_EXTRA_5					NUMBER(14,2),
				REC_TEXTO_EXTRA_1			VARCHAR2(250 CHAR),
				REC_TEXTO_EXTRA_2			VARCHAR2(250 CHAR),
				REC_TEXTO_EXTRA_3			VARCHAR2(250 CHAR),
				REC_TEXTO_EXTRA_4			VARCHAR2(250 CHAR),
				REC_TEXTO_EXTRA_5			VARCHAR2(250 CHAR)
			)
		';
		execute immediate v_sql;
		END IF;
		end;				
		</value>
		<msg>Creación de la tabla REC_FICHERO_RECIBOS</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<value>		
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'REC_FICHERO_TELEFONOS';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='				
			CREATE TABLE REC_FICHERO_TELEFONOS (
				RCF_AGE_ID					NUMBER(16),
				PER_COD_ENTIDAD_PROPIETARIO	NUMBER(5),
				PER_ID						NUMBER(16),
				TEL_TELEFONO				VARCHAR2(20 CHAR),
				DD_TTE_DESCRIPCION			VARCHAR2(100 CHAR),
				TEL_BLOQUEADO				NUMBER(1),
				TEL_ULTIMO_CONTACTO			NUMBER(1),
				TEL_ORIGEN					VARCHAR2(10 CHAR),
				TEL_BD_ORIGEN				VARCHAR2(50 CHAR),
				TEL_FECHA_EXP_VIGENCIA		TIMESTAMP(6),
				DIR_FECHA_EXTRA1			TIMESTAMP(6),
				DIR_FECHA_EXTRA2			TIMESTAMP(6),
				DIR_FECHA_EXTRA3			TIMESTAMP(6),
				DIR_FECHA_EXTRA4			TIMESTAMP(6),
				DIR_FECHA_EXTRA5			TIMESTAMP(6),
				DIR_EXTRA_1					NUMBER(14,2),
				DIR_EXTRA_2					NUMBER(14,2),
				DIR_EXTRA_3					NUMBER(14,2),
				DIR_EXTRA_4					NUMBER(14,2),
				DIR_EXTRA_5					NUMBER(14,2),
				DIR_TEXTO_EXTRA_1			VARCHAR2(250 CHAR),
				DIR_TEXTO_EXTRA_2			VARCHAR2(250 CHAR),
				DIR_TEXTO_EXTRA_3			VARCHAR2(250 CHAR),
				DIR_TEXTO_EXTRA_4			VARCHAR2(250 CHAR),
				DIR_TEXTO_EXTRA_5			VARCHAR2(250 CHAR)
			)
		';
		execute immediate v_sql;
		END IF;
		end;				
		</value>
		<msg>Creación de la tabla REC_FICHERO_TELEFONOS</msg>
	</sql>		
<!-- A PARTIR DE AQUÍ CREACIÓN DE LAS TABLAS TMP PROPIAS DEL JOB -->
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'TMP_REC_EXP_AGE_MAR';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE TMP_REC_EXP_AGE_MAR (
				RCF_AGE_ID   	NUMBER(16) NOT NULL,
				RCF_SCA_ID   	NUMBER(16) NOT NULL, 
				EXP_ID      	NUMBER(16) NOT NULL,
				PER_ID      	NUMBER(16) NOT NULL
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla TMP_REC_EXP_AGE_MAR</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'TMP_REC_EXP_AGE_MAR_EXC';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE TMP_REC_EXP_AGE_MAR_EXC (
				RCF_AGE_ID   	NUMBER(16) NOT NULL, 
				RCF_SCA_ID   	NUMBER(16) NOT NULL,
				EXP_ID      	NUMBER(16) NOT NULL,
				PER_ID      	NUMBER(16) NOT NULL				
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla TMP_REC_EXP_AGE_MAR_EXC</msg>
	</sql>			
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'TMP_REC_EXP_AGE_MAR_GES';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE TMP_REC_EXP_AGE_MAR_GES (
				RCF_AGE_ID   	NUMBER(16) NOT NULL, 
				RCF_SCA_ID   	NUMBER(16) NOT NULL,
				EXP_ID      	NUMBER(16) NOT NULL,
				PER_ID      	NUMBER(16) NOT NULL,
				GES_ID      	INTEGER NOT NULL
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla TMP_REC_EXP_AGE_MAR_GES</msg>
	</sql>		
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'TMP_REC_EXP_AGE_CNT';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE TMP_REC_EXP_AGE_CNT (
				RCF_AGE_ID   	NUMBER(16) NOT NULL, 
				RCF_SCA_ID   	NUMBER(16) NOT NULL,
				EXP_ID      	NUMBER(16) NOT NULL,
				PER_ID      	NUMBER(16) NOT NULL,
				CNT_ID      	NUMBER(16) NOT NULL,
				GES_ID      	INTEGER NOT NULL
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla TMP_REC_EXP_AGE_CNT</msg>
	</sql>		
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'TMP_REC_EXP_AGE_CNT_EXC';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE TMP_REC_EXP_AGE_CNT_EXC (
				RCF_AGE_ID   	NUMBER(16) NOT NULL,
				RCF_SCA_ID   	NUMBER(16) NOT NULL,  
				EXP_ID      	NUMBER(16) NOT NULL,
				PER_ID      	NUMBER(16) NOT NULL,
				CNT_ID      	NUMBER(16) NOT NULL,
				GES_ID      	INTEGER NOT NULL
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla TMP_REC_EXP_AGE_CNT_EXC</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'TMP_REC_CONTRATOS_CONS_BAJA';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE TMP_REC_CONTRATOS_CONS_BAJA (
				EXP_ID          NUMBER(16) NOT NULL,			
				CNT_ID          NUMBER(16) NOT NULL,
			    RCF_AGE_ID      NUMBER(16) NOT NULL
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla TMP_REC_CONTRATOS_BAJA</msg>
	</sql>					
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'TMP_REC_CONTRATOS_BAJA';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE TMP_REC_CONTRATOS_BAJA (
				CNT_ID          NUMBER(16) NOT NULL,
			    RCF_AGE_ID      NUMBER(16) NOT NULL
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla TMP_REC_CONTRATOS_BAJA</msg>
	</sql>		
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'TMP_REC_CONTRATOS_BAJA_MOT';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE TMP_REC_CONTRATOS_BAJA_MOT (
				CNT_ID          NUMBER(16) NOT NULL,
			    RCF_AGE_ID      NUMBER(16) NOT NULL,
				DD_MOB_ID       NUMBER(16) DEFAULT 2 NOT NULL
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla TMP_REC_CONTRATOS_BAJA_MOT</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'TMP_REC_FICHERO_CONTRATOS';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE TMP_REC_FICHERO_CONTRATOS (
				RCF_AGE_ID      			NUMBER(16) NOT NULL,
				RCF_SCA_ID      			NUMBER(16) NOT NULL,
				CNT_ENV_ID      			NUMBER(22) NOT NULL,
			    CNT_COD_PROPIETARIO			NUMBER(5) NOT NULL,
				DD_TPR_CODIGO				VARCHAR2(5 CHAR) NOT NULL,
				CNT_CONTRATO				NUMBER(17) NOT NULL
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla TMP_REC_FICHERO_CONTRATOS</msg>
	</sql>					
<!-- A PARTIR DE AQUÍ CREACIÓN DE LAS TABLAS TMP DE OTROS JOBS NECESARIAS PARA LAS PRUEBAS -->
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'TMP_REC_EXP_REPARTO_AGENCIAS';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE TMP_REC_EXP_REPARTO_AGENCIAS (
				EXP_ID          NUMBER(16) NOT NULL,
				CAR_ID          NUMBER(16) NOT NULL,
				RCF_SCA_ID      NUMBER(16) NOT NULL,
				RCF_AGE_ID	    NUMBER(16) NOT NULL,
				VRE		    	NUMBER(16,2) NOT NULL
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla TMP_REC_EXP_REPARTO_AGENCIAS</msg>
	</sql>		
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		n_aux NUMBER;
		begin
		SELECT count(*) into nCount FROM TMP_REC_EXP_REPARTO_AGENCIAS;
		IF(nCount = 0)
		THEN
      	n_aux := 1;
			WHILE n_aux &lt;= 100
			LOOP 
			   	v_sql:='			
					INSERT INTO TMP_REC_EXP_REPARTO_AGENCIAS (EXP_ID, CAR_ID, RCF_SCA_ID, RCF_AGE_ID, VRE)
						VALUES (
							(SELECT EXP_ID FROM EXP_EXPEDIENTES WHERE BORRADO = 0 AND EXP_ID NOT IN (SELECT EXP_ID FROM TMP_REC_EXP_REPARTO_AGENCIAS) AND rowNum = 1),
							(CASE WHEN :n_aux1 &lt;= 50 THEN 1 ELSE 2 END),
							(CASE WHEN :n_aux2 &lt;= 25 THEN 1 WHEN (25 &lt; :n_aux3) AND (:n_aux4 &lt;= 50) THEN 2 WHEN (50 &lt; :n_aux5) AND (:n_aux6 &lt;= 75) THEN 3 ELSE 4 END),
							(CASE WHEN :n_aux7 &lt;= 10 THEN 1 WHEN (10 &lt; :n_aux8) AND (:n_aux9 &lt;= 20) THEN 2 WHEN (20 &lt; :n_aux10) AND (:n_aux11 &lt;= 30) THEN 3 
								  WHEN (30 &lt; :n_aux12) AND (:n_aux13 &lt;= 40) THEN 1 WHEN (40 &lt; :n_aux14) AND (:n_aux15 &lt;= 50) THEN 2 WHEN (50 &lt; :n_aux16) AND (:n_aux17 &lt;= 60) THEN 3
								  WHEN (60 &lt; :n_aux18) AND (:n_aux19 &lt;= 70) THEN 1 WHEN (70 &lt; :n_aux20) AND (:n_aux21 &lt;= 80) THEN 2 WHEN (80 &lt; :n_aux22) AND (:n_aux23 &lt;= 90) THEN 3														
								ELSE 4 END),
							:n_aux24*100)
				';
			   execute immediate v_sql using  n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux, n_aux;
		    n_aux := n_aux + 1;
			END LOOP;
		END IF;
		end;				
		</value>
		<msg>Carga de la tabla TMP_REC_EXP_REPARTO_AGENCIAS</msg>
	</sql>			
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		n_aux NUMBER;
    	n_exp_id NUMBER;
		begin
		SELECT count(*) into nCount FROM BATCH_DATOS_SALIDA;
		IF(nCount = 0)
		THEN
      	n_aux := 1;        
			WHILE n_aux &lt;= 10
			LOOP 
				SELECT EXP_ID INTO n_exp_id FROM TMP_REC_EXP_REPARTO_AGENCIAS WHERE EXP_ID NOT IN (SELECT EXP_ID FROM BATCH_DATOS_SALIDA) AND rowNum = 1;
			   	v_sql:='			
					INSERT INTO BATCH_DATOS_SALIDA (EXP_ID, EXP_DESCRIPCION, EXP_MANUAL, DD_AEX_ID, DD_EEX_ID, EXP_FECHA_EST_ID, OFI_ID, CNT_ID, PER_ID, ARQ_ID, CEX_PASE, PEX_PASE)
						VALUES (
			              :n_exp_id, 
			              ''Exp. Recobro Pruebas '' || :n_aux, 0 , 2, 2, sysdate, 7101, 
			              (SELECT CNT_ID FROM CEX_CONTRATOS_EXPEDIENTE WHERE BORRADO = 0 AND EXP_ID = :n_exp_id),
			              (SELECT PER_ID FROM PEX_PERSONAS_EXPEDIENTE WHERE BORRADO = 0 AND EXP_ID = :n_exp_id),
			              1, 1, 1
			           )
				';
			   execute immediate v_sql using n_exp_id, n_aux, n_exp_id, n_exp_id;
		    n_aux := n_aux + 1;
			END LOOP;
		END IF;
		end;					
		</value>
		<msg>Carga de la tabla BATCH_DATOS_SALIDA</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		n_aux NUMBER;
		begin
		SELECT count(*) into nCount FROM BATCH_DATOS_EXCEPTUADOS;
		IF(nCount = 0)
		THEN
      	n_aux := 1;
			WHILE n_aux &lt;= 5
			LOOP 
				v_sql:='			
					INSERT INTO BATCH_DATOS_EXCEPTUADOS (PER_ID, CNT_ID, DD_MOB_ID, DD_MOB_CODIGO, DD_MOB_BORRADO)
						VALUES (
			              null, (SELECT CNT_ID FROM BATCH_DATOS_SALIDA WHERE CNT_ID NOT IN (SELECT CNT_ID FROM BATCH_DATOS_EXCEPTUADOS WHERE CNT_ID IS NOT NULL) 
			              AND PER_ID NOT IN (SELECT PER_ID FROM BATCH_DATOS_EXCEPTUADOS WHERE PER_ID IS NOT NULL) AND rowNum = 1),
			              6, ''OTR'', 0
			           )
				';
			   execute immediate v_sql;
         		v_sql:='			
					INSERT INTO BATCH_DATOS_EXCEPTUADOS (PER_ID, CNT_ID, DD_MOB_ID, DD_MOB_CODIGO, DD_MOB_BORRADO)
						VALUES (
			              (SELECT PER_ID FROM BATCH_DATOS_SALIDA WHERE CNT_ID NOT IN (SELECT CNT_ID FROM BATCH_DATOS_EXCEPTUADOS WHERE CNT_ID IS NOT NULL) 
			              AND PER_ID NOT IN (SELECT PER_ID FROM BATCH_DATOS_EXCEPTUADOS WHERE PER_ID IS NOT NULL) AND rowNum = 1), null,
			              6, ''OTR'', 0
			           )
				';
			   execute immediate v_sql;
		    n_aux := n_aux + 1;
			END LOOP;
		END IF;
		end;								
		</value>
		<msg>Carga de la tabla BATCH_DATOS_EXCEPTUADOS</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<msg>Creación de la tabla TMP_REC_EXP_ROTACION</msg>
		<value>
			declare
			nCount NUMBER;
			v_sql LONG;
			begin
			SELECT COUNT(*) INTO NCOUNT FROM ALL_TABLES WHERE TABLE_NAME = 'TMP_REC_EXP_ROTACION';
			IF(nCount &lt;= 0) THEN
		      v_sql:='
		        CREATE TABLE TMP_REC_EXP_ROTACION (
		          EXP_ID          NUMBER(16) NOT NULL,
		          RCF_AGE_ID      NUMBER(16) NOT NULL,
		          RCF_SCA_ID      NUMBER(16) NOT NULL,
		          ARQ_ID_NEW      NUMBER(16) NOT NULL
		        )
		      ';
	  		execute immediate v_sql;
			END IF;
			END;			
		</value>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'TMP_REC_EXP_EXTINCION_RU';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE TMP_REC_EXP_EXTINCION_RU (
			    EXP_ID          NUMBER(16) NOT NULL
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla TMP_REC_EXP_EXTINCION_RU</msg>
	</sql>		
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin
		SELECT count(*) into nCount FROM all_tables where table_name = 'TMP_REC_EXP_EXTINCION_RA';
		IF(nCount &lt;= 0)
		THEN
		v_sql:='			
			CREATE TABLE TMP_REC_EXP_EXTINCION_RA (
			    EXP_ID          NUMBER(16) NOT NULL,
				RCF_AGE_ID      NUMBER(16) NOT NULL,
				ARQ_ID          NUMBER(16) NOT NULL
			)
		';
		execute immediate v_sql;
		END IF;
		end;			
		</value>
		<msg>Creación de la tabla TMP_REC_EXP_EXTINCION_RA</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<msg>Crear tabla TMP_REC_EXP_SIN_RIESGOS.</msg>
		<value>
		declare
				nCount NUMBER;
				v_sql LONG;
				begin
				SELECT COUNT(*) INTO NCOUNT FROM ALL_TABLES WHERE TABLE_NAME = 'TMP_REC_EXP_SIN_RIESGOS';
				IF(nCount &lt;= 0) THEN
		      v_sql:='
		        CREATE TABLE TMP_REC_EXP_SIN_RIESGOS (
		            EXP_ID          NUMBER(16) NOT NULL
		        )
		      ';
		  		execute immediate v_sql;
				END IF;
		end;
		</value>
	</sql>		
	<sql>
		<type>EXECUTE</type>
		<msg>Crear tabla TMP_REC_EXP_CANCELADOS.</msg>
		<value>
		declare
				nCount NUMBER;
				v_sql LONG;
				begin
				SELECT COUNT(*) INTO NCOUNT FROM ALL_TABLES WHERE TABLE_NAME = 'TMP_REC_EXP_CANCELADOS';
				IF(nCount &lt;= 0) THEN
		      v_sql:='
		        CREATE TABLE TMP_REC_EXP_CANCELADOS (
		            EXP_ID          NUMBER(16) NOT NULL
		        )
		      ';
		  		execute immediate v_sql;
				END IF;
		end;
		</value>
	</sql>	
	<sql>	
		<type>EXECUTE</type>
		<msg>Crear tabla TMP_REC_EXP_DESNORMALIZADO</msg>
		<value>
		declare
				nCount NUMBER;
				v_sql LONG;
				begin
				SELECT COUNT(*) INTO NCOUNT FROM ALL_TABLES WHERE TABLE_NAME = 'TMP_REC_EXP_DESNORMALIZADO';
				IF(nCount &lt;= 0) THEN
		      v_sql:='
		        CREATE TABLE TMP_REC_EXP_DESNORMALIZADO (
		          EXP_ID          NUMBER(16) NOT NULL,
		          PER_ID          NUMBER(16) NOT NULL,
		          CNT_ID          NUMBER(16) NOT NULL,
		          ARQ_ID          NUMBER(16) NOT NULL,
		          RCF_AGE_ID      NUMBER(16) NOT NULL,
		          RCF_SCA_ID      NUMBER(16) NOT NULL
		        )';
		  		execute immediate v_sql;
				END IF;
		end;		
		</value>
	</sql>	
<!-- A PARTIR DE AQUÍ CARGA DE LAS TABLAS PROPIAS DEL JOB NECESARIAS PARA LAS PRUEBAS -->			
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		n_aux NUMBER;
		begin
		SELECT count(*) into nCount FROM REC_FICHERO_CONTRATOS;
		IF(nCount = 0)
		THEN
		  INSERT INTO REC_FICHERO_CONTRATOS (RCF_AGE_ID, RCF_SCA_ID, CNT_ENV_ID, CNT_COD_PROPIETARIO, DD_TPR_CODIGO, CNT_CONTRATO)
			SELECT AGE.RCF_AGE_ID, AGE.RCF_SCA_ID, to_char(TRUNC(sysdate-1), 'ddMMyyyy') || '1111' || 
			(SELECT CEX.CNT_ID FROM CEX_CONTRATOS_EXPEDIENTE CEX WHERE CEX.EXP_ID = AGE.EXP_ID),
			'1111', 'RE', (SELECT CEX.CNT_ID FROM CEX_CONTRATOS_EXPEDIENTE CEX WHERE CEX.EXP_ID = AGE.EXP_ID)
			FROM TMP_REC_EXP_REPARTO_AGENCIAS AGE;
		  INSERT INTO REC_FICHERO_CONTRATOS (RCF_AGE_ID, RCF_SCA_ID, CNT_ENV_ID, CNT_COD_PROPIETARIO, DD_TPR_CODIGO, CNT_CONTRATO)
							VALUES (4, 1, to_char(TRUNC(sysdate-1), 'ddMMyyyy') || '1111' || '2168873', 1111, 'RE', 2168873); 					
		  INSERT INTO REC_FICHERO_CONTRATOS (RCF_AGE_ID, RCF_SCA_ID, CNT_ENV_ID, CNT_COD_PROPIETARIO, DD_TPR_CODIGO, CNT_CONTRATO)
							VALUES (4, 2, to_char(TRUNC(sysdate-1), 'ddMMyyyy') || '1111' || '2168904', 1111, 'RE', 2168904);
		  INSERT INTO REC_FICHERO_CONTRATOS (RCF_AGE_ID, RCF_SCA_ID, CNT_ENV_ID, CNT_COD_PROPIETARIO, DD_TPR_CODIGO, CNT_CONTRATO)
							VALUES (4, 1, to_char(TRUNC(sysdate-1), 'ddMMyyyy') || '1111' || '2168826', 1111, 'RE', 2168826); 	
		  INSERT INTO REC_FICHERO_CONTRATOS (RCF_AGE_ID, RCF_SCA_ID, CNT_ENV_ID, CNT_COD_PROPIETARIO, DD_TPR_CODIGO, CNT_CONTRATO)
							VALUES (4, 2, to_char(TRUNC(sysdate-1), 'ddMMyyyy') || '1111' || '2168885', 1111, 'RE', 2168885); 	
		  INSERT INTO REC_FICHERO_CONTRATOS (RCF_AGE_ID, RCF_SCA_ID, CNT_ENV_ID, CNT_COD_PROPIETARIO, DD_TPR_CODIGO, CNT_CONTRATO)
							VALUES (4, 1, to_char(TRUNC(sysdate-1), 'ddMMyyyy') || '1111' || '2168893', 1111, 'RE', 2168893); 																						 											                
		END IF;
		end;										
		</value>
		<msg>Carga de la tabla REC_FICHERO_CONTRATOS</msg>
	</sql>		
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		n_aux NUMBER;
		begin
		SELECT count(*) into nCount FROM BATCH_DATOS_EXCEPTUADOS;
		IF(nCount = 0)
		THEN
			INSERT INTO BATCH_DATOS_EXCEPTUADOS (PER_ID, CNT_ID, DD_MOB_ID, DD_MOB_CODIGO, DD_MOB_BORRADO) VALUES (null, 1, 3, 'AER', 0);
			INSERT INTO BATCH_DATOS_EXCEPTUADOS (PER_ID, CNT_ID, DD_MOB_ID, DD_MOB_CODIGO, DD_MOB_BORRADO) VALUES (null, 2, 4, 'FAL', 0);		
		END IF;
		end;										
		</value>							
		<msg>Carga de contratos exceptuados en la tabla BATCH_DATOS_EXCEPTUADOS</msg>
	</sql>
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		n_aux NUMBER;
		begin
		SELECT count(*) into nCount FROM TMP_REC_EXP_DESNORMALIZADO;
		IF(nCount = 0)
		THEN
			v_sql:='INSERT INTO TMP_REC_EXP_DESNORMALIZADO (EXP_ID, PER_ID, CNT_ID, ARQ_ID, RCF_AGE_ID, RCF_SCA_ID)
				SELECT EXP_ID, (SELECT PEX.PER_ID FROM PEX_PERSONAS_EXPEDIENTE PEX WHERE PEX.EXP_ID = AGE.EXP_ID), 
					(SELECT CEX.CNT_ID  FROM CEX_CONTRATOS_EXPEDIENTE CEX WHERE CEX.EXP_ID = AGE.EXP_ID), CAR_ID, RCF_AGE_ID, RCF_SCA_ID
					FROM TMP_REC_EXP_REPARTO_AGENCIAS AGE WHERE ROWNUM &lt;= 80 and AGE.EXP_ID NOT IN 
						(SELECT SAL.EXP_ID FROM BATCH_DATOS_SALIDA SAL INNER JOIN CEX_CONTRATOS_EXPEDIENTE CEX2 ON SAL.CNT_ID = CEX2.CNT_ID)
			';
			execute immediate v_sql;
		END IF;
		end;											
		</value>							
		<msg>Carga de contratos exceptuados en la tabla TMP_REC_EXP_DESNORMALIZADO</msg>
	</sql>					
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		n_aux NUMBER;
		begin
		SELECT count(*) into nCount FROM TMP_REC_EXP_CANCELADOS;
		IF(nCount = 0)
		THEN
	      INSERT INTO TMP_REC_EXP_CANCELADOS (EXP_ID)  
	      	SELECT EXP_ID FROM TMP_REC_EXP_REPARTO_AGENCIAS AGE
	      	WHERE AGE.EXP_ID NOT IN (SELECT EXP_ID FROM TMP_REC_EXP_DESNORMALIZADO)
	      	and AGE.EXP_ID NOT IN (SELECT SAL.EXP_ID FROM BATCH_DATOS_SALIDA SAL INNER JOIN CEX_CONTRATOS_EXPEDIENTE CEX2 ON SAL.CNT_ID = CEX2.CNT_ID);  
	      INSERT INTO TMP_REC_EXP_CANCELADOS (EXP_ID) VALUES (269550);	          
	      INSERT INTO TMP_REC_EXP_CANCELADOS (EXP_ID) VALUES (269551);	 
	      INSERT INTO TMP_REC_EXP_CANCELADOS (EXP_ID) VALUES (269552);	 
	      INSERT INTO TMP_REC_EXP_CANCELADOS (EXP_ID) VALUES (269553);	 
	      INSERT INTO TMP_REC_EXP_CANCELADOS (EXP_ID) VALUES (269554);	     
		END IF;
		end;										
		</value>
		<msg>Carga de la tabla TMP_REC_EXP_CANCELADOS</msg>
	</sql>		
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		n_aux NUMBER;
		begin
		SELECT count(*) into nCount FROM BATCH_DATOS_ENTRADA;
		IF(nCount = 0)
		THEN		
		  v_sql:='INSERT INTO BATCH_DATOS_ENTRADA (EXP_ID, ARQ_ID, EXP_PROCESS_BPM, EXP_MARCADO_BPM, EXP_BORRADO, 
					DD_TPE_ID, DD_TPE_CODIGO, DD_TPE_BORRADO, DD_EEX_ID, DD_EEX_CODIGO, DD_EEX_BORRADO,
					RCF_ESQ_ID, RCF_CAR_ID, RCF_AGE_ID, RCF_SCA_ID)
		  			SELECT EXP_ID, 1, 1, 0, 0, 1, ''RECOBRO'', 0, 2, ''1'', 0, 1, 2, 4, 4 FROM TMP_REC_EXP_CANCELADOS
		  ';
		  execute immediate v_sql;        
		  v_sql:='INSERT INTO BATCH_DATOS_ENTRADA (EXP_ID, ARQ_ID, EXP_PROCESS_BPM, EXP_MARCADO_BPM, EXP_BORRADO, 
					DD_TPE_ID, DD_TPE_CODIGO, DD_TPE_BORRADO, DD_EEX_ID, DD_EEX_CODIGO, DD_EEX_BORRADO,
					RCF_ESQ_ID, RCF_CAR_ID, RCF_AGE_ID, RCF_SCA_ID)
		  			SELECT AGE.EXP_ID, 1, 1, 0, 0, 1, ''RECOBRO'', 0, 2, ''1'', 0, 1, AGE.CAR_ID AS RCF_AGE_ID, AGE.RCF_AGE_ID, AGE.RCF_SCA_ID
		  				FROM REC_FICHERO_CONTRATOS REC
		  				INNER JOIN CEX_CONTRATOS_EXPEDIENTE CEX ON CEX.CNT_ID = REC.CNT_CONTRATO
		  				INNER JOIN TMP_REC_EXP_REPARTO_AGENCIAS AGE ON CEX.EXP_ID = AGE.EXP_ID WHERE AGE.EXP_ID NOT IN (SELECT EXP_ID FROM BATCH_DATOS_ENTRADA)
		  ';
		  execute immediate v_sql;      		     
		END IF;
		end;										
		</value>
		<msg>Carga de la tabla BATCH_DATOS_ENTRADA</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		n_aux NUMBER;
		begin
		SELECT count(*) into nCount FROM TMP_REC_EXP_EXTINCION_RU;
		IF(nCount = 0)
		THEN		
		  v_sql:='INSERT INTO TMP_REC_EXP_EXTINCION_RU (EXP_ID) VALUES (269550)
		';
		execute immediate v_sql;           
		END IF;
		end;									
		</value>
		<msg>Carga de la tabla TMP_REC_EXP_EXTINCION_RU</msg>
	</sql>		
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		n_aux NUMBER;
		begin
		SELECT count(*) into nCount FROM TMP_REC_EXP_EXTINCION_RA;
		IF(nCount = 0)
		THEN		
		  v_sql:='INSERT INTO TMP_REC_EXP_EXTINCION_RA (EXP_ID, RCF_AGE_ID, ARQ_ID) VALUES (269551, 4, 4)
		';
		execute immediate v_sql;           
		END IF;
		end;										
		</value>
		<msg>Carga de la tabla TMP_REC_EXP_EXTINCION_RA</msg>
	</sql>			
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		n_aux NUMBER;
		begin
		SELECT count(*) into nCount FROM TMP_REC_EXP_SIN_RIESGOS;
		IF(nCount = 0)
		THEN		
		  v_sql:='INSERT INTO TMP_REC_EXP_SIN_RIESGOS (EXP_ID) VALUES (269552)
		';
		execute immediate v_sql;           
		END IF;
		end;				  									
		</value>
		<msg>Carga de la tabla TMP_REC_EXP_SIN_RIESGOS</msg>
	</sql>
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		n_aux NUMBER;
		begin
		SELECT count(*) into nCount FROM TMP_REC_EXP_ROTACION;
		IF(nCount = 0)
		THEN		
		  v_sql:='INSERT INTO TMP_REC_EXP_ROTACION (EXP_ID, RCF_AGE_ID, RCF_SCA_ID, ARQ_ID_NEW) VALUES (269553, 4, 4, 2)
		';
		execute immediate v_sql;           
		END IF;
		end;				  									
		</value>
		<msg>Carga de la tabla TMP_REC_EXP_ROTACION</msg>
	</sql>	
	<sql>
		<type>EXECUTE</type>
		<value>
		declare
		nCount NUMBER;
		v_sql LONG;
		begin		
		v_sql:='			
			TRUNCATE TABLE TMP_REC_EXP_REPARTO_AGENCIAS 
		';
		execute immediate v_sql;
		v_sql:='			
			INSERT INTO TMP_REC_EXP_REPARTO_AGENCIAS (EXP_ID, CAR_ID, RCF_SCA_ID, RCF_AGE_ID, VRE)
				SELECT TMP.EXP_ID, ENT.RCF_CAR_ID AS CAR_ID, ENT.RCF_SCA_ID, ENT.RCF_AGE_ID, 100 AS VRE
				FROM TMP_REC_EXP_DESNORMALIZADO TMP
				INNER JOIN BATCH_DATOS_ENTRADA ENT ON TMP.EXP_ID = ENT.EXP_ID
		';
		execute immediate v_sql;
				v_sql:='			
			INSERT INTO TMP_REC_EXP_REPARTO_AGENCIAS (EXP_ID, CAR_ID, RCF_SCA_ID, RCF_AGE_ID, VRE)
				SELECT TMP.EXP_ID, ENT.RCF_CAR_ID AS CAR_ID, ENT.RCF_SCA_ID, ENT.RCF_AGE_ID, 100 AS VRE
				FROM BATCH_DATOS_SALIDA TMP
				INNER JOIN BATCH_DATOS_ENTRADA ENT ON TMP.EXP_ID = ENT.EXP_ID
		';
		execute immediate v_sql;				
		end;			
		</value>
		<msg>Creación de la tabla TMP_REC_EXP_REPARTO_AGENCIAS</msg>
	</sql>		
</sqls>