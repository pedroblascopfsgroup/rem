CREATE TABLE DD_TAC_TIPO_ACTUACION
(
  DD_TAC_ID                 NUMBER(16)          IDENTITY,
  DD_TAC_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_TAC_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_TAC_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_TAC_TIPO_ACTUACION PRIMARY KEY (DD_TAC_ID),
  CONSTRAINT UK_DD_TAC_TIPO_ACTUACION UNIQUE (DD_TAC_CODIGO)
);

CREATE TABLE DD_TPO_TIPO_PROCEDIMIENTO
(
  DD_TPO_ID                 NUMBER(16),
  DD_TPO_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_TPO_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_TPO_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  DD_TPO_HTML               VARCHAR2(4000 CHAR),
  DD_TPO_XML_JBPM           VARCHAR2(50 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  DD_TAC_ID                 NUMBER(16),
  DD_TPO_SALDO_MIN          NUMBER(14,2),
  DD_TPO_SALDO_MAX          NUMBER(14,2),
  CONSTRAINT PK_DD_TPO_TIPO_PROCEDIMIENTO PRIMARY KEY (DD_TPO_ID),
  CONSTRAINT UK_DD_TPO_TIPO_PROCEDIMIENTO UNIQUE (DD_TPO_CODIGO),
  CONSTRAINT FK_DD_TPO_FK_DD_TAC  FOREIGN KEY (DD_TAC_ID) REFERENCES DD_TAC_TIPO_ACTUACION (DD_TAC_ID)
);

CREATE TABLE DD_AEX_AMBITOS_EXPEDIENTE
(
  DD_AEX_ID                 NUMBER(16)          IDENTITY,
  DD_AEX_CODIGO             VARCHAR2(25 CHAR)   NOT NULL,
  DD_AEX_DESCRIPCION        VARCHAR2(250 CHAR)  NOT NULL,
  DD_AEX_DESCRIPCION_LARGA  VARCHAR2(500 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_AEX_AMBITOS_EXPEDIENTE PRIMARY KEY (DD_AEX_ID),
  CONSTRAINT UK_DD_AEX_AMBITOS_EXPEDIENTE UNIQUE (DD_AEX_CODIGO)
);

CREATE TABLE DD_TIT_TIPO_ITINERARIOS
(
  DD_TIT_ID                 NUMBER(16)          IDENTITY,
  DD_TIT_CODIGO             VARCHAR2(50 CHAR)   NOT NULL,
  DD_TIT_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_TIT_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_TIT_TIPO_ITINERARIO PRIMARY KEY (DD_TIT_ID),
  CONSTRAINT UK_DD_TIT_TIPO_ITINERARIOS UNIQUE (DD_TIT_CODIGO)
);

CREATE TABLE ITI_ITINERARIOS
(
  ITI_ID            NUMBER(16)                  IDENTITY,
  ITI_NOMBRE        VARCHAR2(100 CHAR),
  VERSION           INTEGER                     DEFAULT 0                     NOT NULL,
  USUARIOCREAR      VARCHAR2(10 CHAR)           NOT NULL,
  FECHACREAR        TIMESTAMP(6)                NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 CHAR),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 CHAR),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL,
  DD_TIT_ID         NUMBER(16)                  NOT NULL,
  DD_AEX_ID         NUMBER(16),
  CONSTRAINT PK_ITI_ITINERARIOS PRIMARY KEY (ITI_ID),
  CONSTRAINT FK_ITI_ITIN_FK_DD_AEX_AMB_EXP FOREIGN KEY (DD_AEX_ID) REFERENCES DD_AEX_AMBITOS_EXPEDIENTE (DD_AEX_ID),
  CONSTRAINT FK_ITI_ITIN_FK_DD_TIT_TIPO_IT  FOREIGN KEY (DD_TIT_ID) REFERENCES DD_TIT_TIPO_ITINERARIOS (DD_TIT_ID)
);

CREATE TABLE RULE_DEFINITION
(
  RD_ID             NUMBER(16)                  IDENTITY,
  RD_NAME           VARCHAR2(250 CHAR)          NOT NULL,
  RD_DEFINITION     VARCHAR2(4000 CHAR)         NOT NULL,
  RD_NAME_LONG      VARCHAR2(500 BYTE),
  USUARIOCREAR      VARCHAR2(10 BYTE)           DEFAULT 'DD'                  NOT NULL,
  FECHACREAR        TIMESTAMP(6)                DEFAULT sysdate               NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 BYTE),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 BYTE),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_RULE_DEFINITION PRIMARY KEY (RD_ID)
);

CREATE TABLE DD_TSN_TIPO_SALTO_NIVEL
(
  DD_TSN_ID                 NUMBER(16)          IDENTITY,
  DD_TSN_CODIGO             VARCHAR2(10 CHAR)   NOT NULL,
  DD_TSN_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_TSN_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_TSN_TIPO_SALTO_NIVEL PRIMARY KEY (DD_TSN_ID),
  CONSTRAINT UK_TSN_TIPO_SALTO_NIVEL UNIQUE (DD_TSN_CODIGO)
);

CREATE TABLE ARQ_ARQUETIPOS
(
  ARQ_ID             NUMBER(16)                 IDENTITY,
  ITI_ID             NUMBER(16),
  ARQ_PRIORIDAD      NUMBER(16),
  ARQ_NOMBRE         VARCHAR2(100 CHAR),
  VERSION            INTEGER                    DEFAULT 0                     NOT NULL,
  USUARIOCREAR       VARCHAR2(10 CHAR)          NOT NULL,
  FECHACREAR         TIMESTAMP(6)               NOT NULL,
  USUARIOMODIFICAR   VARCHAR2(10 CHAR),
  FECHAMODIFICAR     TIMESTAMP(6),
  USUARIOBORRAR      VARCHAR2(10 CHAR),
  FECHABORRAR        TIMESTAMP(6),
  BORRADO            NUMBER(1)                  DEFAULT 0                     NOT NULL,
  ARQ_NIVEL          NUMBER(4)                  DEFAULT 0                     NOT NULL,
  ARQ_GESTION        NUMBER(1)                  DEFAULT 1                     NOT NULL,
  ARQ_PLAZO_DISPARO  NUMBER(16)                 DEFAULT 0,
  DD_TSN_ID          NUMBER(16),
  RD_ID              NUMBER(16),
  CONSTRAINT PK_ARQ_ARQUETIPOS PRIMARY KEY (ARQ_ID),
  CONSTRAINT FK_ARQ_ARQU_FK_ITI_AR_ITI_ITIN FOREIGN KEY (ITI_ID) REFERENCES ITI_ITINERARIOS (ITI_ID),
  CONSTRAINT FK_ARQ_ARQU_FK_RULE_DEFINITION FOREIGN KEY (RD_ID) REFERENCES RULE_DEFINITION (RD_ID),
  CONSTRAINT FK_ARQ_ARQU_FK_DD_TSN_ID FOREIGN KEY (DD_TSN_ID) REFERENCES DD_TSN_TIPO_SALTO_NIVEL (DD_TSN_ID)
);

CREATE TABLE DD_PRV_PROVINCIA
(
  DD_PRV_ID                 NUMBER(16)          IDENTITY,
  DD_PRV_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_PRV_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_PRV_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_PRV_PROVINCIA PRIMARY KEY (DD_PRV_ID),
  CONSTRAINT UK_DD_PRV_PROVINCIA UNIQUE (DD_PRV_CODIGO)
);

CREATE TABLE OFI_OFICINAS
(
  OFI_ID                NUMBER(16)              IDENTITY,
  DD_PRV_ID             NUMBER(16),
  OFI_CODIGO            NUMBER(4)               NOT NULL,
  OFI_NOMBRE            VARCHAR2(100 CHAR),
  OFI_TIPO_VIA          VARCHAR2(100 CHAR),
  OFI_DOMICILIO         VARCHAR2(100 CHAR),
  OFI_DOMICILIO_PLAZA   VARCHAR2(100 CHAR),
  OFI_CODIGO_POSTAL     NUMBER(5),
  OFI_PERSONA_CONTACTO  VARCHAR2(100 CHAR),
  OFI_TELEFONO2         VARCHAR2(100 CHAR),
  OFI_TELEFONO1         VARCHAR2(100 CHAR),
  VERSION               INTEGER                 DEFAULT 0                     NOT NULL,
  USUARIOCREAR          VARCHAR2(10 CHAR)       NOT NULL,
  FECHACREAR            TIMESTAMP(6)            NOT NULL,
  USUARIOMODIFICAR      VARCHAR2(10 CHAR),
  FECHAMODIFICAR        TIMESTAMP(6),
  USUARIOBORRAR         VARCHAR2(10 CHAR),
  FECHABORRAR           TIMESTAMP(6),
  BORRADO               NUMBER(1)               DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_OFI_OFICINAS PRIMARY KEY (OFI_ID),
  CONSTRAINT FK_OFI_OFIC_FK_FF_PRV_DD_PRV_P FOREIGN KEY (DD_PRV_ID) REFERENCES DD_PRV_PROVINCIA (DD_PRV_ID)
);

CREATE TABLE NIV_NIVEL
(
  NIV_ID                 NUMBER(16)             IDENTITY,
  NIV_DESCRIPCION        VARCHAR2(50 CHAR),
  NIV_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                INTEGER                DEFAULT 0                     NOT NULL,
  USUARIOCREAR           VARCHAR2(10 CHAR)      NOT NULL,
  FECHACREAR             TIMESTAMP(6)           NOT NULL,
  USUARIOMODIFICAR       VARCHAR2(10 CHAR),
  FECHAMODIFICAR         TIMESTAMP(6),
  USUARIOBORRAR          VARCHAR2(10 CHAR),
  FECHABORRAR            TIMESTAMP(6),
  BORRADO                NUMBER(1)              DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_NIV_NIVEL PRIMARY KEY (NIV_ID)
);

CREATE TABLE ZON_ZONIFICACION
(
  ZON_ID                 NUMBER(16)             IDENTITY,
  ZON_COD                VARCHAR2(50 CHAR)      NOT NULL,
  ZON_NUM_CENTRO         VARCHAR2(20 CHAR),
  ZON_DESCRIPCION        VARCHAR2(50 CHAR),
  ZON_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  ZON_PID                INTEGER,
  NIV_ID                 NUMBER(16)             NOT NULL,
  OFI_ID                 NUMBER(16),
  VERSION                INTEGER                DEFAULT 0                     NOT NULL,
  USUARIOCREAR           VARCHAR2(10 CHAR)      NOT NULL,
  FECHACREAR             TIMESTAMP(6)           NOT NULL,
  USUARIOMODIFICAR       VARCHAR2(10 CHAR),
  FECHAMODIFICAR         TIMESTAMP(6),
  USUARIOBORRAR          VARCHAR2(10 CHAR),
  FECHABORRAR            TIMESTAMP(6),
  BORRADO                NUMBER(1)              DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_ZON_ZONIFICACION PRIMARY KEY (ZON_ID),
  CONSTRAINT ZON_ZONIFICACION_IBFK_2  FOREIGN KEY (OFI_ID)  REFERENCES OFI_OFICINAS (OFI_ID),
  CONSTRAINT ZON_ZONIFICACION_IBFK_1  FOREIGN KEY (NIV_ID)  REFERENCES NIV_NIVEL (NIV_ID)
);

CREATE TABLE COM_COMITES
(
  COM_ID                   NUMBER(16)           IDENTITY,
  ZON_ID                   NUMBER(16),
  COM_NOMBRE               VARCHAR2(100 CHAR),
  COM_ATRIBUCION_MIN       INTEGER,
  COM_ATRIBUCION_MAX       INTEGER,
  COM_PRIORIDAD            INTEGER,
  COM_N_MIEMBROS           INTEGER,
  COM_N_MIEMBROS_RESTRICT  INTEGER,
  VERSION                  INTEGER              DEFAULT 0                     NOT NULL,
  USUARIOCREAR             VARCHAR2(10 CHAR)    NOT NULL,
  FECHACREAR               TIMESTAMP(6)         NOT NULL,
  USUARIOMODIFICAR         VARCHAR2(10 CHAR),
  FECHAMODIFICAR           TIMESTAMP(6),
  USUARIOBORRAR            VARCHAR2(10 CHAR),
  FECHABORRAR              TIMESTAMP(6),
  BORRADO                  NUMBER(1)            DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_COM_COMITES PRIMARY KEY (COM_ID),
  CONSTRAINT FK_COM_COMI_REFERENCE_ZON_ZONI  FOREIGN KEY (ZON_ID)  REFERENCES ZON_ZONIFICACION (ZON_ID)
);

CREATE TABLE SES_SESIONES_COMITE
(
  SES_ID            NUMBER(16)                  IDENTITY,
  COM_ID            NUMBER(16),
  SES_FECHA_INI     DATE,
  SES_FECHA_FIN     DATE,
  VERSION           INTEGER                     DEFAULT 0                     NOT NULL,
  USUARIOCREAR      VARCHAR2(10 CHAR)           NOT NULL,
  FECHACREAR        TIMESTAMP(6)                NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 CHAR),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 CHAR),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_SES_SESIONES_COMITE PRIMARY KEY (SES_ID),
  CONSTRAINT FK_SES_SESI_FK_SES_CO_COM_COMI  FOREIGN KEY (COM_ID)  REFERENCES COM_COMITES (COM_ID)
);

CREATE TABLE DCO_DECISION_COMITE
(
  DCO_ID             NUMBER(16)                 IDENTITY,
  SES_ID             NUMBER(16),
  DCO_OBSERVACIONES  VARCHAR2(100 CHAR),
  VERSION            INTEGER                    DEFAULT 0                     NOT NULL,
  USUARIOCREAR       VARCHAR2(10 CHAR)          NOT NULL,
  FECHACREAR         TIMESTAMP(6)               NOT NULL,
  USUARIOMODIFICAR   VARCHAR2(10 CHAR),
  FECHAMODIFICAR     TIMESTAMP(6),
  USUARIOBORRAR      VARCHAR2(10 CHAR),
  FECHABORRAR        TIMESTAMP(6),
  BORRADO            NUMBER(1)                  DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DCO_DECISION_COMITE PRIMARY KEY (DCO_ID),
  CONSTRAINT FK_DCO_DECI_FK_SES_DC_SES_SESI  FOREIGN KEY (SES_ID)  REFERENCES SES_SESIONES_COMITE (SES_ID)
);

CREATE TABLE DD_CIM_CAUSAS_IMPAGO
(
  DD_CIM_ID                 NUMBER(16)          IDENTITY,
  DD_CIM_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_CIM_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_CIM_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_CIM_CAUSAS_IMPAGO PRIMARY KEY (DD_CIM_ID),
  CONSTRAINT UK_DD_CIM_CAUSAS_IMPAGO UNIQUE (DD_CIM_CODIGO)
);

CREATE TABLE DD_PRA_PROPUESTA_AAA
(
  DD_PRA_ID                 NUMBER(16)          IDENTITY,
  DD_PRA_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_PRA_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_PRA_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_PRA_PROPUESTA_AAA PRIMARY KEY (DD_PRA_ID),
  CONSTRAINT UK_DD_PRA_PROPUESTA_AAA UNIQUE (DD_PRA_CODIGO)
);

CREATE TABLE DD_TAA_TIPO_AYUDA_ACTUACION
(
  DD_TAA_ID                 NUMBER(16)          IDENTITY,
  DD_TAA_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_TAA_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_TAA_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_TAA_TIPO_AYUDA_ACTUACIO2 PRIMARY KEY (DD_TAA_ID),
  CONSTRAINT UK_DD_TAA_TIPO_AYUDA_ACTUACION UNIQUE (DD_TAA_CODIGO)
);

CREATE TABLE AAA_ACTITUD_APTITUD_ACTUACION
(
  AAA_ID                    NUMBER(16)          IDENTITY,
  DD_CIM_ID                 NUMBER(16),
  DD_TAA_ID                 NUMBER(16),
  DD_PRA_ID                 NUMBER(16),
  AAA_GESTIONES             VARCHAR2(1024 CHAR),
  AAA_COMETARIOS_SITUACION  VARCHAR2(1024 CHAR),
  AAA_PROPUESTA_ACTUACION   VARCHAR2(1024 CHAR),
  AAA_TIPO_AYUDA_ACTUACION  VARCHAR2(1024 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  AAA_REVISION              VARCHAR2(1024 CHAR),
  CONSTRAINT PK_AAA_ACTITUD_APTITUD_ACTUACI PRIMARY KEY (AAA_ID),
  CONSTRAINT FK_AAA_ACTI_FK_AAA_DD_DD_CIM_C  FOREIGN KEY (DD_CIM_ID)  REFERENCES DD_CIM_CAUSAS_IMPAGO (DD_CIM_ID),
  CONSTRAINT FK_AAA_ACTI_FK_DD_PRA_PROP  FOREIGN KEY (DD_PRA_ID)  REFERENCES DD_PRA_PROPUESTA_AAA (DD_PRA_ID),
  CONSTRAINT FK_AAA_ACTI_FK_AAA_DD_DD_TAA_T  FOREIGN KEY (DD_TAA_ID)  REFERENCES DD_TAA_TIPO_AYUDA_ACTUACION (DD_TAA_ID)
);

CREATE TABLE DD_EEX_ESTADO_EXPEDIENTE
(
  DD_EEX_ID                 NUMBER(16)          IDENTITY,
  DD_EEX_CODIGO             VARCHAR2(50 CHAR)   NOT NULL,
  DD_EEX_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_EEX_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_EEX_ESTADO_EXPEDIENTE PRIMARY KEY (DD_EEX_ID),
  CONSTRAINT UK_DD_EEX_ESTADO_EXPEDIENTE UNIQUE (DD_EEX_CODIGO)
);

CREATE TABLE DD_EIN_ENTIDAD_INFORMACION
(
  DD_EIN_ID                 NUMBER(16)          IDENTITY,
  DD_EIN_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_EIN_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_EIN_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_EIN_ENTIDAD_INFORMACION PRIMARY KEY (DD_EIN_ID),
  CONSTRAINT UK_DD_EIN_ENTIDAD_INFORMACION UNIQUE (DD_EIN_CODIGO)
);

CREATE TABLE DD_EST_ESTADOS_ITINERARIOS
(
  DD_EST_ID                 NUMBER(16)          IDENTITY,
  DD_EIN_ID                 NUMBER(16)          NOT NULL,
  DD_EST_ORDEN              INTEGER             NOT NULL,
  DD_EST_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_EST_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_EST_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_EST_ESTADOS_ITINERARIOS PRIMARY KEY (DD_EST_ID),
  CONSTRAINT UK_DD_EST_ESTADOS_ITINERARIOS UNIQUE (DD_EST_CODIGO),
  CONSTRAINT FK_DD_EST_E_REFERENCE_DD_EIN_E  FOREIGN KEY (DD_EIN_ID) REFERENCES DD_EIN_ENTIDAD_INFORMACION (DD_EIN_ID)
);

CREATE TABLE EXP_EXPEDIENTES
(
  EXP_ID            NUMBER(16)                  IDENTITY,
  AAA_ID            NUMBER(16),
  DCO_ID            NUMBER(16),
  DD_EST_ID         NUMBER(16),
  EXP_FECHA_EST_ID  TIMESTAMP(6)                NOT NULL,
  OFI_ID            NUMBER(16)                  NOT NULL,
  ARQ_ID            NUMBER(16)                  NOT NULL,
  COM_ID            NUMBER(16),
  EXP_PROCESS_BPM   NUMBER(16),
  EXP_MANUAL        NUMBER(1)                   DEFAULT 0                     NOT NULL,
  VERSION           INTEGER                     DEFAULT 0                     NOT NULL,
  USUARIOCREAR      VARCHAR2(10 CHAR)           NOT NULL,
  FECHACREAR        TIMESTAMP(6)                NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 CHAR),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 CHAR),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL,
  DD_EEX_ID         NUMBER(16),
  EXP_DESCRIPCION   VARCHAR2(310 CHAR),
  CONSTRAINT PK_EXP_EXPEDIENTES PRIMARY KEY (EXP_ID),
  CONSTRAINT FK_EXP_EXPE_REFERENCE_ARQ_ARQU FOREIGN KEY (ARQ_ID) REFERENCES ARQ_ARQUETIPOS (ARQ_ID),
  CONSTRAINT FK_EXP_EXPE_REFERENCE_OFI_OFIC FOREIGN KEY (OFI_ID) REFERENCES OFI_OFICINAS (OFI_ID),
  CONSTRAINT FK_EXP_EXPE_FK_EXP_CO_COM_COMI FOREIGN KEY (COM_ID) REFERENCES COM_COMITES (COM_ID),
  CONSTRAINT FK_EXP_EXPE_FK_DCOM_E_DCO_DECI FOREIGN KEY (DCO_ID) REFERENCES DCO_DECISION_COMITE (DCO_ID),
  CONSTRAINT FK_EXP_EXPE_FK_AAA_EX_AAA_ACTI FOREIGN KEY (AAA_ID) REFERENCES AAA_ACTITUD_APTITUD_ACTUACION (AAA_ID),
  CONSTRAINT FK_EXP_EXPE_REFERENCE_DD_EEX FOREIGN KEY (DD_EEX_ID) REFERENCES DD_EEX_ESTADO_EXPEDIENTE (DD_EEX_ID),
  CONSTRAINT FK_EXP_EXPE_FK_EST_EX_DD_EST_E FOREIGN KEY (DD_EST_ID) REFERENCES DD_EST_ESTADOS_ITINERARIOS (DD_EST_ID)
);

CREATE TABLE DD_TDE_TIPO_DESPACHO
(
  DD_TDE_ID                 NUMBER(16)          IDENTITY,
  DD_TDE_CODIGO             VARCHAR2(50 CHAR)   NOT NULL,
  DD_TDE_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_TDE_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_TDE_TIPO_DESPACHO PRIMARY KEY (DD_TDE_ID),
  CONSTRAINT UK_DD_TDE_TIPO_DESPACHO UNIQUE (DD_TDE_CODIGO)
);

CREATE TABLE DES_DESPACHO_EXTERNO
(
  DES_ID                NUMBER(16)              IDENTITY,
  DES_DESPACHO          VARCHAR2(100 CHAR),
  DES_TIPO_VIA          VARCHAR2(100 CHAR),
  DES_DOMICILIO         VARCHAR2(100 CHAR),
  DES_DOMICILIO_PLAZA   VARCHAR2(100 CHAR),
  DES_CODIGO_POSTAL     NUMBER(5),
  DES_PERSONA_CONTACTO  VARCHAR2(100 CHAR),
  DES_TELEFONO2         VARCHAR2(100 CHAR),
  DES_TELEFONO1         VARCHAR2(100 CHAR),
  VERSION               INTEGER                 DEFAULT 0                     NOT NULL,
  USUARIOCREAR          VARCHAR2(10 CHAR)       NOT NULL,
  FECHACREAR            TIMESTAMP(6)            NOT NULL,
  USUARIOMODIFICAR      VARCHAR2(10 CHAR),
  FECHAMODIFICAR        TIMESTAMP(6),
  USUARIOBORRAR         VARCHAR2(10 CHAR),
  FECHABORRAR           TIMESTAMP(6),
  BORRADO               NUMBER(1)               DEFAULT 0                     NOT NULL,
  ZON_ID                NUMBER(16),
  DD_TDE_ID             NUMBER(16),
  CONSTRAINT PK_DES_DESPACHO_EXTERNO PRIMARY KEY (DES_ID),
  CONSTRAINT FK_DES_ZON_ID  FOREIGN KEY (ZON_ID) REFERENCES ZON_ZONIFICACION (ZON_ID),
  CONSTRAINT FK_DES_TDE_ID  FOREIGN KEY (DD_TDE_ID) REFERENCES DD_TDE_TIPO_DESPACHO (DD_TDE_ID)
);


CREATE TABLE ENTIDADCONFIG
(
  ID          NUMBER(16)                        NOT NULL,
  ENTIDAD_ID  NUMBER(16),
  DATAKEY     VARCHAR2(32 CHAR),
  DATAVALUE   VARCHAR2(255 CHAR)
);

CREATE TABLE ENTIDAD
(
  ID                NUMBER(16)                  IDENTITY,
  DESCRIPCION       VARCHAR2(255 CHAR),
  USUARIOCREAR      VARCHAR2(10 CHAR)           NOT NULL,
  FECHACREAR        TIMESTAMP(6)                NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 CHAR),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 CHAR),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_ENTIDAD PRIMARY KEY (ID)
);

CREATE TABLE ZON_PEF_USU
(
  ZON_ID            NUMBER(16)                  NOT NULL,
  PEF_ID            NUMBER(16)                  NOT NULL,
  USU_ID            NUMBER(16)                  NOT NULL,
  ZPU_ID            NUMBER(16)                  NOT NULL,
  VERSION           INTEGER                     DEFAULT 0                     NOT NULL,
  USUARIOCREAR      VARCHAR2(10 CHAR)           NOT NULL,
  FECHACREAR        TIMESTAMP(6)                NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 CHAR),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 CHAR),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL
);

CREATE TABLE USU_USUARIOS
(
  USU_ID                   NUMBER(16)           IDENTITY,
  ENTIDAD_ID               NUMBER(16),
  USU_USERNAME             VARCHAR2(10 CHAR)    NOT NULL,
  USU_PASSWORD             VARCHAR2(50 CHAR),
  USU_NOMBRE               VARCHAR2(50 CHAR),
  USU_APELLIDO1            VARCHAR2(50 CHAR),
  USU_APELLIDO2            VARCHAR2(50 CHAR),
  USU_TELEFONO             VARCHAR2(10 CHAR),
  USU_MAIL                 VARCHAR2(50 CHAR),
  VERSION                  INTEGER              DEFAULT 0                     NOT NULL,
  USUARIOCREAR             VARCHAR2(10 CHAR)    NOT NULL,
  FECHACREAR               TIMESTAMP(6)         NOT NULL,
  USUARIOMODIFICAR         VARCHAR2(10 CHAR),
  FECHAMODIFICAR           TIMESTAMP(6),
  USUARIOBORRAR            VARCHAR2(10 CHAR),
  FECHABORRAR              TIMESTAMP(6),
  BORRADO                  NUMBER(1)            DEFAULT 0                     NOT NULL,
  USU_EXTERNO              NUMBER(1)            DEFAULT 0,
  USU_FECHA_VIGENCIA_PASS  DATE                             NOT NULL,
  CONSTRAINT PK_USU_USUARIOS PRIMARY KEY (USU_ID),
  CONSTRAINT AK_UK_USU_USUARIOS_USU_USUA UNIQUE (USU_USERNAME),
  CONSTRAINT FK_USU_USUA_FK_USU_EN_ENTIDAD FOREIGN KEY (ENTIDAD_ID) REFERENCES ENTIDAD (ID)
);

CREATE TABLE USD_USUARIOS_DESPACHOS
(
  USD_ID              NUMBER(16)                IDENTITY,
  USU_ID              NUMBER(16)                NOT NULL,
  DES_ID              NUMBER(16)                NOT NULL,
  USD_GESTOR_DEFECTO  NUMBER(1)                 NOT NULL,
  USD_SUPERVISOR      NUMBER(1)                 NOT NULL,
  VERSION             NUMBER                    DEFAULT 0                     NOT NULL,
  USUARIOCREAR        VARCHAR2(10 CHAR)         NOT NULL,
  FECHACREAR          TIMESTAMP(6)              NOT NULL,
  USUARIOMODIFICAR    VARCHAR2(10 CHAR),
  FECHAMODIFICAR      TIMESTAMP(6),
  USUARIOBORRAR       VARCHAR2(10 CHAR),
  FECHABORRAR         TIMESTAMP(6),
  BORRADO             NUMBER(1)                 DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_USD_USUARIOS_DESPACHOS PRIMARY KEY (USD_ID),
  CONSTRAINT FK_USD_DES_ID  FOREIGN KEY (DES_ID) REFERENCES DES_DESPACHO_EXTERNO (DES_ID),
  CONSTRAINT FK_USD_USU_ID  FOREIGN KEY (USU_ID) REFERENCES USU_USUARIOS (USU_ID)
);

CREATE TABLE DD_EAS_ESTADO_ASUNTOS
(
  DD_EAS_ID                 NUMBER(16)          IDENTITY,
  DD_EAS_CODIGO             VARCHAR2(2 CHAR)    NOT NULL,
  DD_EAS_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_EAS_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_EAS_ESTADO_ASUNTOS PRIMARY KEY (DD_EAS_ID),
  CONSTRAINT UK_DD_EAS_ESTADO_ASUNTOS UNIQUE (DD_EAS_CODIGO)
);


CREATE TABLE ASU_ASUNTOS
(
  ASU_ID               NUMBER(16)               IDENTITY,
  GAS_ID               NUMBER(16),
  DD_EST_ID            NUMBER(16),
  ASU_FECHA_EST_ID     TIMESTAMP(6)             NOT NULL,
  ASU_PROCESS_BPM      NUMBER(16),
  ASU_NOMBRE           VARCHAR2(50 CHAR),
  EXP_ID               NUMBER(16),
  VERSION              INTEGER                  DEFAULT 0                     NOT NULL,
  USUARIOCREAR         VARCHAR2(10 CHAR)        NOT NULL,
  FECHACREAR           TIMESTAMP(6)             NOT NULL,
  USUARIOMODIFICAR     VARCHAR2(10 CHAR),
  FECHAMODIFICAR       TIMESTAMP(6),
  USUARIOBORRAR        VARCHAR2(10 CHAR),
  FECHABORRAR          TIMESTAMP(6),
  BORRADO              NUMBER(1)                DEFAULT 0                     NOT NULL,
  DD_EAS_ID            NUMBER(16),
  ASU_ASU_ID           NUMBER(16),
  ASU_OBSERVACION      VARCHAR2(1000 CHAR),
  SUP_ID               NUMBER(16),
  SUP_COM_ID           NUMBER(16),
  COM_ID               NUMBER(16),
  DCO_ID               NUMBER(16),
  ASU_FECHA_RECEP_DOC  DATE,
  USD_ID               NUMBER(16),
  SAN_GEX_ID           NUMBER(16),
  DTYPE                VARCHAR2(20 CHAR)        DEFAULT 'SANAsunto'           NOT NULL,
  SAN_DES_COL_ID       NUMBER(16),
  CONSTRAINT PK_ASU_ASUNTOS PRIMARY KEY (ASU_ID),
  CONSTRAINT FK_ASU_ASU  FOREIGN KEY (ASU_ASU_ID) REFERENCES ASU_ASUNTOS (ASU_ID),
  CONSTRAINT FK_ASU_EXP FOREIGN KEY (EXP_ID) REFERENCES EXP_EXPEDIENTES (EXP_ID),
  CONSTRAINT FK_ASU_ASUN_REFERENCE_SUP FOREIGN KEY (SUP_ID)REFERENCES USD_USUARIOS_DESPACHOS (USD_ID),
  CONSTRAINT FK_ASU_ASUN_REFERENCE_GAS_GEST FOREIGN KEY (GAS_ID) REFERENCES USD_USUARIOS_DESPACHOS (USD_ID),
  CONSTRAINT FK_ASU_USD_ID FOREIGN KEY (USD_ID) REFERENCES USD_USUARIOS_DESPACHOS (USD_ID),
  CONSTRAINT FK_ASU_EAS  FOREIGN KEY (DD_EAS_ID) REFERENCES DD_EAS_ESTADO_ASUNTOS (DD_EAS_ID),
  CONSTRAINT FK_ASU_ASUN_REFERENCE_COM_SUP FOREIGN KEY (SUP_COM_ID) REFERENCES USU_USUARIOS (USU_ID),
  CONSTRAINT FK_ASU_ASUN_FK_EST_AS_DD_EST_E FOREIGN KEY (DD_EST_ID) REFERENCES DD_EST_ESTADOS_ITINERARIOS (DD_EST_ID),
  CONSTRAINT FK_ASU_SAN_GEX_ID FOREIGN KEY (SAN_GEX_ID) REFERENCES USD_USUARIOS_DESPACHOS (USD_ID),
  CONSTRAINT FK_ASU_SAN_DES_COL_ID FOREIGN KEY (SAN_DES_COL_ID) REFERENCES DES_DESPACHO_EXTERNO (DES_ID)
);

CREATE TABLE AFA_FICHA_ACEPTACION
(
  AFA_ID              NUMBER(16),
  ASU_ID              NUMBER(16),
  AFA_ACEPTADO        NUMBER(1)                 DEFAULT NULL,
  AFA_CONFLICTO       NUMBER(1)                 DEFAULT NULL,
  AFA_DOC_RECOPILADA  NUMBER(1)                 DEFAULT NULL,
  VERSION             INTEGER                   DEFAULT 0,
  USUARIOCREAR        VARCHAR2(10 CHAR),
  FECHACREAR          TIMESTAMP(6),
  USUARIOMODIFICAR    VARCHAR2(10 CHAR),
  FECHAMODIFICAR      TIMESTAMP(6),
  USUARIOBORRAR       VARCHAR2(10 CHAR),
  FECHABORRAR         TIMESTAMP(6),
  BORRADO             NUMBER(1)                 DEFAULT 0,
  CONSTRAINT PK_AFA_FICHA_ACEPTACION PRIMARY KEY (AFA_ID),
  CONSTRAINT FK_AFA_ASU FOREIGN KEY (ASU_ID) REFERENCES ASU_ASUNTOS (ASU_ID)
);

CREATE TABLE DD_TRE_TIPO_RECLAMACION
(
  DD_TRE_ID                 NUMBER(16)          IDENTITY,
  DD_TRE_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_TRE_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_TRE_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_TRE_TIPO_RECLAMACION PRIMARY KEY (DD_TRE_ID),
  CONSTRAINT UK_DD_TRE_TIPO_RECLAMACION UNIQUE (DD_TRE_CODIGO)
);

---TABLA DE TIPO DE PLAZAS

CREATE TABLE DD_PLA_PLAZAS
(
  DD_PLA_ID                 NUMBER(16)          IDENTITY,
  DD_PLA_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_PLA_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_PLA_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_PLA_PLAZAS PRIMARY KEY (DD_PLA_ID),
  CONSTRAINT UK_DD_PLA_PLAZAS UNIQUE (DD_PLA_CODIGO)
);


CREATE TABLE DD_JUZ_JUZGADOS_PLAZA
(
  DD_JUZ_ID                 NUMBER(16)          IDENTITY,
  DD_JUZ_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_JUZ_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_JUZ_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  DD_PLA_ID                 NUMBER(16)          NOT NULL,
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_JUZ_JUZGADOS_PLAZA PRIMARY KEY(DD_JUZ_ID),
  CONSTRAINT UK_DD_JUZ_JUZGADOS_PLAZA UNIQUE (DD_JUZ_CODIGO),
  CONSTRAINT FK_DD_JUZ_DD_PLA_ID  FOREIGN KEY (DD_PLA_ID) REFERENCES DD_PLA_PLAZAS (DD_PLA_ID)
);

CREATE TABLE ITE_ITER
(
  ITE_ID            NUMBER(16)                  IDENTITY,
  ASU_ID            NUMBER(16),
  ITE_N_AUTO        VARCHAR2(50 CHAR),
  PRC_ID            NUMBER(16),
  VERSION           INTEGER                     DEFAULT 0                     NOT NULL,
  USUARIOCREAR      VARCHAR2(10 CHAR)           NOT NULL,
  FECHACREAR        TIMESTAMP(6)                NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 CHAR),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 CHAR),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_ITE_ITER PRIMARY KEY (ITE_ID),
  CONSTRAINT FK_ITE_ITER_FK_ASU_ASUNT FOREIGN KEY (ASU_ID) REFERENCES ASU_ASUNTOS (ASU_ID)
);

CREATE TABLE DD_EPR_ESTADO_PROCEDIMIENTO
(
  DD_EPR_ID                 NUMBER(16)          NOT NULL,
  DD_EPR_CODIGO             VARCHAR2(2 CHAR)    NOT NULL,
  DD_EPR_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_EPR_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_EPR_ESTADO_PROCEDIMIENTO PRIMARY KEY (DD_EPR_ID),
  CONSTRAINT UK_DD_EPR_ESTADO_PROCEDIMIENTO UNIQUE (DD_EPR_CODIGO)
);

CREATE TABLE PRC_PROCEDIMIENTOS
(
  PRC_ID                         NUMBER(16)     IDENTITY,
  ASU_ID                         NUMBER(16),
  DD_TAC_ID                      NUMBER(16),
  DD_TRE_ID                      NUMBER(16),
  DD_TPO_ID                      NUMBER(16),
  PRC_PORCENTAJE_RECUPERACION    NUMBER(3),
  PRC_PLAZO_RECUPERACION         INTEGER,
  PRC_SALDO_ORIGINAL_VENCIDO     NUMBER(14,2),
  PRC_SALDO_ORIGINAL_NO_VENCIDO  NUMBER(14,2),
  PRC_SALDO_RECUPERACION         NUMBER(14,2),
  VERSION                        INTEGER        DEFAULT 0                     NOT NULL,
  USUARIOCREAR                   VARCHAR2(10 CHAR) NOT NULL,
  FECHACREAR                     TIMESTAMP(6)   NOT NULL,
  USUARIOMODIFICAR               VARCHAR2(10 CHAR),
  FECHAMODIFICAR                 TIMESTAMP(6),
  USUARIOBORRAR                  VARCHAR2(10 CHAR),
  FECHABORRAR                    TIMESTAMP(6),
  BORRADO                        NUMBER(1)      DEFAULT 0                     NOT NULL,
  PRC_PRC_ID                     NUMBER(16),
  DD_JUZ_ID                      NUMBER(16),
  PRC_COD_PROC_EN_JUZGADO        VARCHAR2(50 CHAR),
  PRC_DECIDIDO                   NUMBER(1)      DEFAULT 0,
  PRC_PROCESS_BPM                NUMBER(16),
  PRC_DOC_FECHA                  TIMESTAMP(6),
  PRC_DOC_OBSERVACIONES          VARCHAR2(500 CHAR),
  DD_EPR_ID                      NUMBER(16),
  ITE_ID                         NUMBER(16),
  DTYPE							 VARCHAR2(20 CHAR) DEFAULT 'SANProcedimiento' NOT NULL,
  CONSTRAINT PK_PRC_PROCEDIMIENTOS PRIMARY KEY (PRC_ID),
  CONSTRAINT FK_PRC_PROC_FK_PRC_TPO_T  FOREIGN KEY (DD_TPO_ID) REFERENCES DD_TPO_TIPO_PROCEDIMIENTO (DD_TPO_ID),
  CONSTRAINT FK_PRC_PROC_FK_PRC_AS_ASU_ASUN FOREIGN KEY (ASU_ID) REFERENCES ASU_ASUNTOS (ASU_ID),
  CONSTRAINT FK_PRC_PROC_FK_DD_TRE_DD_TRE_T FOREIGN KEY (DD_TRE_ID) REFERENCES DD_TRE_TIPO_RECLAMACION (DD_TRE_ID),
  CONSTRAINT FK_PRC_PROC_FK_DD_TAC_DD_TAC_T  FOREIGN KEY (DD_TAC_ID)  REFERENCES DD_TAC_TIPO_ACTUACION (DD_TAC_ID),
  CONSTRAINT FK_PRC_PROC_REFERENCE_PRC_PROC  FOREIGN KEY (PRC_PRC_ID)  REFERENCES PRC_PROCEDIMIENTOS (PRC_ID),
  CONSTRAINT FK_PRC_PROC_REFERENCE_JUZ_PLA FOREIGN KEY (DD_JUZ_ID) REFERENCES DD_JUZ_JUZGADOS_PLAZA (DD_JUZ_ID),
  CONSTRAINT FK_PRC_P_FK_ITE_I  FOREIGN KEY (ITE_ID)  REFERENCES ITE_ITER (ITE_ID)
);

--
-- TAREAS
--
-- Tablas requeridas por TareaNotificacion
CREATE TABLE DPR_DECISIONES_PROCEDIMIENTOS
(
  DPR_ID            NUMBER(16)                  NOT NULL,
  PRC_ID            NUMBER(16)                  NOT NULL,
  TAR_ID            NUMBER(16),
  DPR_FINALIZA      NUMBER(1)                   DEFAULT 0                     NOT NULL,
  DPR_PARALIZA      NUMBER(1)                   DEFAULT 0                     NOT NULL,
  DD_CDE_ID         NUMBER(16),
  DD_EDE_ID         NUMBER(16)                  NOT NULL,
  DPR_PROCESS_BPM   NUMBER(16),
  DPR_FECHA_PARA    TIMESTAMP(6),
  DPR_COMENTARIOS   VARCHAR2(255 CHAR),
  VERSION           INTEGER                     DEFAULT 0                     NOT NULL,
  USUARIOCREAR      VARCHAR2(10 CHAR)           NOT NULL,
  FECHACREAR        TIMESTAMP(6)                NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 CHAR),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 CHAR),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DPR_DEC_PROCEDIMIENTOS PRIMARY KEY (DPR_ID)
);
CREATE TABLE DD_CDE_CAUSAS_DECISION
(
  DD_CDE_ID                 NUMBER(16)          NOT NULL,
  DD_CDE_CODIGO             VARCHAR2(50 CHAR)   NOT NULL,
  DD_CDE_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_CDE_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_CDE_CAUSAS_DECISION PRIMARY KEY (DD_CDE_ID)
);
CREATE TABLE DD_EDE_ESTADOS_DECISION
(
  DD_EDE_ID                 NUMBER(16)          NOT NULL,
  DD_EDE_CODIGO             VARCHAR2(50 CHAR)   NOT NULL,
  DD_EDE_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_EDE_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_EDE_ESTADOS_DECISION PRIMARY KEY (DD_EDE_ID)
);
CREATE TABLE PRD_PROCEDIMIENTOS_DERIVADOS
(
  PRD_ID            NUMBER(16)                  NOT NULL,
  PRC_ID            NUMBER(16)                  NOT NULL,
  DPR_ID            NUMBER(16)                  NOT NULL,
  VERSION           INTEGER                     DEFAULT 0                     NOT NULL,
  USUARIOCREAR      VARCHAR2(10 CHAR)           NOT NULL,
  FECHACREAR        TIMESTAMP(6)                NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 CHAR),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 CHAR),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_PRD_PROC_DERIVADOS PRIMARY KEY (PRD_ID)
);
CREATE TABLE RCR_RECURSOS_PROCEDIMIENTOS
(
  RCR_ID                         NUMBER(16)     NOT NULL,
  PRC_ID                         NUMBER(16)     NOT NULL,
  DD_ACT_ID                      NUMBER(16),
  DD_DTR_ID                      NUMBER(16),
  DD_CRE_ID                      NUMBER(16),
  DD_DRR_ID                      NUMBER(16),
  DD_FAV_ID                      NUMBER(16),
  TAR_ID                         NUMBER(16),
  RCR_FECHA_RECURSO              DATE,
  RCR_FECHA_IMPUGNACION          DATE,
  RCR_FECHA_VISTA                DATE,
  RCR_FECHA_RESOLUCION           DATE,
  RCR_OBSERVACIONES              VARCHAR2(500 CHAR),
  RCR_OBSERVACIONES_IMPUGNACION  VARCHAR2(500 CHAR),
  RCR_OBSERVACIONES_RESOLUCION   VARCHAR2(500 CHAR),
  RCR_CONFIRM_VISTA              NUMBER(1),
  RCR_CONFIRM_IMPUGNACION        NUMBER(1),
  RCR_OBSERVACIONES_VISTA        VARCHAR2(500 CHAR),
  VERSION                        INTEGER        DEFAULT 0,
  USUARIOCREAR                   VARCHAR2(10 CHAR) NOT NULL,
  FECHACREAR                     TIMESTAMP(6)   NOT NULL,
  USUARIOMODIFICAR               VARCHAR2(10 CHAR),
  FECHAMODIFICAR                 TIMESTAMP(6),
  USUARIOBORRAR                  VARCHAR2(10 CHAR),
  FECHABORRAR                    TIMESTAMP(6),
  BORRADO                        NUMBER(1)      DEFAULT 0,
   CONSTRAINT PK_RCR_RECURSOS_PROC PRIMARY KEY (RCR_ID)
);
CREATE TABLE DD_ACT_ACTOR
(
  DD_ACT_ID                 NUMBER(16)          NOT NULL,
  DD_ACT_CODIGO             VARCHAR2(50 CHAR)   NOT NULL,
  DD_ACT_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_ACT_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  DD_ACT_PATRON             VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_ACT_ACTOR PRIMARY KEY (DD_ACT_ID)
);
CREATE TABLE DD_DTR_TIPO_RECURSO
(
  DD_DTR_ID                 NUMBER(16)          NOT NULL,
  DD_DTR_CODIGO             VARCHAR2(50 CHAR)   NOT NULL,
  DD_DTR_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_DTR_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  DD_DTR_PATRON             VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_DTR_TIPO_RECURSO PRIMARY KEY (DD_DTR_ID)
);
CREATE TABLE DD_CRE_CAUSA_RECURSO
(
  DD_CRE_ID                 NUMBER(16)          NOT NULL,
  DD_CRE_CODIGO             VARCHAR2(50 CHAR)   NOT NULL,
  DD_CRE_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_CRE_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  DD_CRE_PATRON             VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_CRE_CAUSA_RECURSO PRIMARY KEY (DD_CRE_ID)
);
CREATE TABLE DD_DRR_RESULTADO_RESOL
(
  DD_DRR_ID                 NUMBER(16)          NOT NULL,
  DD_DRR_CODIGO             VARCHAR2(50 CHAR)   NOT NULL,
  DD_DRR_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_DRR_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  DD_DRR_PATRON             VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_DRR_RESULTADO_RESOL PRIMARY KEY (DD_DRR_ID)
);
CREATE TABLE TEX_TAREA_EXTERNA
(
  TEX_ID            NUMBER(16)                  NOT NULL,
  TAR_ID            NUMBER(16)                  NOT NULL,
  TAP_ID            NUMBER(16)                  NOT NULL,
  TEX_TOKEN_ID_BPM  NUMBER(16),
  TEX_DETENIDA      NUMBER(1)                   DEFAULT 0                     NOT NULL,
  VERSION           INTEGER                     DEFAULT 0                     NOT NULL,
  USUARIOCREAR      VARCHAR2(10 CHAR)           NOT NULL,
  FECHACREAR        TIMESTAMP(6)                NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 CHAR),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 CHAR),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL,
  TEX_CANCELADA     NUMBER(1)                   DEFAULT 0,
  CONSTRAINT TEX_TAREA_EXTERNA_PK PRIMARY KEY (TEX_ID)
);
CREATE TABLE TAP_TAREA_PROCEDIMIENTO
(
  TAP_ID                      NUMBER(16)        NOT NULL,
  DD_TPO_ID                   NUMBER(16)        NOT NULL,
  TAP_CODIGO                  VARCHAR2(50 CHAR) NOT NULL,
  TAP_VIEW                    VARCHAR2(200 CHAR),
  TAP_SCRIPT_VALIDACION       VARCHAR2(1000 CHAR),
  TAP_SCRIPT_VALIDACION_JBPM  VARCHAR2(1000 CHAR),
  TAP_SCRIPT_DECISION         VARCHAR2(1000 CHAR),
  DD_TPO_ID_BPM               NUMBER(16),
  TAP_SUPERVISOR              NUMBER(1)         DEFAULT 0                     NOT NULL,
  TAP_DESCRIPCION             VARCHAR2(250 CHAR),
  VERSION                     INTEGER           DEFAULT 0                     NOT NULL,
  USUARIOCREAR                VARCHAR2(10 CHAR) NOT NULL,
  FECHACREAR                  TIMESTAMP(6)      NOT NULL,
  USUARIOMODIFICAR            VARCHAR2(10 CHAR),
  FECHAMODIFICAR              TIMESTAMP(6),
  USUARIOBORRAR               VARCHAR2(10 CHAR),
  FECHABORRAR                 TIMESTAMP(6),
  BORRADO                     NUMBER(1)         DEFAULT 0                     NOT NULL,
  TAP_ALERT_NO_RETORNO        VARCHAR2(50 CHAR),
  TAP_ALERT_VUELTA_ATRAS      VARCHAR2(50 CHAR),
  DD_FAP_ID                   NUMBER(16),
  CONSTRAINT PK_TAP_TAREA_PROCEDIMIENTO PRIMARY KEY (TAP_ID)
);
CREATE TABLE DD_FAP_FASE_PROCESAL
(
  DD_FAP_ID                 NUMBER(16)          NOT NULL,
  DD_FAP_CODIGO             VARCHAR2(10 CHAR)   NOT NULL,
  DD_FAP_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_FAP_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
   CONSTRAINT PK_DD_FAP_FASE_PROCESAL PRIMARY KEY (DD_FAP_ID)
);
CREATE TABLE TEV_TAREA_EXTERNA_VALOR
(
  TEV_ID            NUMBER(16)                  NOT NULL,
  TEX_ID            NUMBER(16)                  NOT NULL,
  TEV_NOMBRE        VARCHAR2(250 CHAR)          NOT NULL,
  TEV_VALOR         VARCHAR2(1000 CHAR),
  VERSION           INTEGER                     DEFAULT 0                     NOT NULL,
  USUARIOCREAR      VARCHAR2(10 CHAR)           NOT NULL,
  FECHACREAR        TIMESTAMP(6)                NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 CHAR),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 CHAR),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL,
  CONSTRAINT TEV_TAREA_EXTERNA_VALOR_PK PRIMARY KEY (TEV_ID)
);
CREATE TABLE DD_TAR_TIPO_TAREA_BASE
(
  DD_TAR_ID                 NUMBER(16)          NOT NULL,
  DD_TAR_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_TAR_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_TAR_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_TAR_TIPO_TAREA_BASE PRIMARY KEY (DD_TAR_ID)
);
CREATE TABLE DD_STA_SUBTIPO_TAREA_BASE
(
  DD_STA_ID                 NUMBER(16)          NOT NULL,
  DD_TAR_ID                 NUMBER(16),
  DD_STA_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_STA_DESCRIPCION        VARCHAR2(250 CHAR),
  DD_STA_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  DD_STA_GESTOR             NUMBER(1),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_STA_SUBTIPO_TAREA_BASE PRIMARY KEY (DD_STA_ID)
);
CREATE TABLE TAR_TAREAS_NOTIFICACIONES
(
  TAR_ID                NUMBER(16)              NOT NULL,
  CLI_ID                NUMBER(16),
  EXP_ID                NUMBER(16),
  ASU_ID                NUMBER(16),
  TAR_TAR_ID            NUMBER(16),
  SPR_ID                NUMBER(16),
  SCX_ID                NUMBER(16),
  DD_EST_ID             NUMBER(16),
  DD_EIN_ID             NUMBER(16),
  DD_STA_ID             NUMBER(16),
  TAR_CODIGO            VARCHAR2(100 CHAR)      NOT NULL,
  TAR_TAREA             VARCHAR2(100 CHAR),
  TAR_DESCRIPCION       VARCHAR2(4000 CHAR),
  TAR_FECHA_FIN         TIMESTAMP(6),
  TAR_FECHA_INI         TIMESTAMP(6),
  TAR_EN_ESPERA         NUMBER(1)               DEFAULT 0                     NOT NULL,
  TAR_ALERTA            NUMBER(1)               DEFAULT 0                     NOT NULL,
  TAR_TAREA_FINALIZADA  NUMBER(1)               DEFAULT 0,
  TAR_EMISOR            VARCHAR2(50 CHAR)       NOT NULL,
  VERSION               INTEGER                 DEFAULT 0                     NOT NULL,
  USUARIOCREAR          VARCHAR2(10 CHAR)       NOT NULL,
  FECHACREAR            TIMESTAMP(6)            NOT NULL,
  USUARIOMODIFICAR      VARCHAR2(10 CHAR),
  FECHAMODIFICAR        TIMESTAMP(6),
  USUARIOBORRAR         VARCHAR2(10 CHAR),
  FECHABORRAR           TIMESTAMP(6),
  BORRADO               NUMBER(1)               DEFAULT 0                     NOT NULL,
  PRC_ID                NUMBER(16),
  CMB_ID                NUMBER(16),
  SET_ID                NUMBER(16),
  TAR_FECHA_VENC        TIMESTAMP(6),
  OBJ_ID                NUMBER(16),
  DTYPE                 VARCHAR2(20 CHAR)       DEFAULT 'SANTareaNotificacion' NOT NULL,
  SAN_TAR_FECHA_VENC_REAL TIMESTAMP(6),
  CONSTRAINT PK_TAR_TAREAS_NOTIFICACIONES PRIMARY KEY (TAR_ID)
);
--
-- DIAS FESTIVOS
--
CREATE TABLE SAN_FES_FESTIVOS
(
  SAN_FES_ID            NUMBER(16)              NOT NULL,
  SAN_FES_YEAR			NUMBER(16)              NOT NULL,
  SAN_FES_MONTH         NUMBER(16)              NOT NULL,
  SAN_FES_DAY_START     NUMBER(16)              NOT NULL,
  SAN_FES_DAY_END       NUMBER(16)              NOT NULL,
  VERSION               INTEGER                 DEFAULT 0                     NOT NULL,
  USUARIOCREAR          VARCHAR2(10 CHAR)       NOT NULL,
  FECHACREAR            TIMESTAMP(6)            NOT NULL,
  USUARIOMODIFICAR      VARCHAR2(10 CHAR),
  FECHAMODIFICAR        TIMESTAMP(6),
  USUARIOBORRAR         VARCHAR2(10 CHAR),
  FECHABORRAR           TIMESTAMP(6),
  BORRADO               NUMBER(1)               DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_SAN_FES_FESTIVOS PRIMARY KEY (SAN_FES_ID)
);

--
-- REGISTRO DE EVENTOS
--
-- Tipo de registro  
CREATE TABLE SAN_DD_TRG_TIPO_REGISTRO
(
  DD_TRG_ID                 NUMBER(16)          NOT NULL,
  DD_TRG_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_TRG_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_TRG_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_TRG_TIPO_REGISTRO PRIMARY KEY (DD_TRG_ID),
  CONSTRAINT UK_DD_TRG_TIPO_REGISTRO UNIQUE (DD_TRG_CODIGO)
);
-- Registro
CREATE TABLE SAN_REG_REGISTRO
(
  REG_ID                         NUMBER(16)     IDENTITY,
  DD_TRG_ID                      NUMBER(16)     NOT NULL,
  TRG_EIN_CODIGO                 VARCHAR2(20 CHAR)   NOT NULL,
  TRG_EIN_ID                     NUMBER(16)     NOT NULL,
  USU_ID                         NUMBER(16)     NOT NULL,
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0,
  CONSTRAINT PK_SAN_REG_REGISTRO PRIMARY KEY (REG_ID),
  CONSTRAINT FK_SAN_REG_FK_DD_TRG FOREIGN KEY (DD_TRG_ID) REFERENCES SAN_DD_TRG_TIPO_REGISTRO (DD_TRG_ID),
  CONSTRAINT FK_SAN_REG_USU_ID  FOREIGN KEY (USU_ID) REFERENCES USU_USUARIOS (USU_ID)
);
-- Info del registro
CREATE TABLE SAN_IRG_INFO_REGISTRO
(
  IRG_ID                         NUMBER(16)     IDENTITY,
  REG_ID                         NUMBER(16)     NOT NULL,
  IRG_CLAVE                      VARCHAR2(20 CHAR)   NOT NULL,
  IRG_VALOR                      VARCHAR2(100 CHAR),
  IRG_VALOR_CLOB                 VARCHAR2(1000 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0,
  CONSTRAINT PK_SAN_IRG_INFO_REGISTRO PRIMARY KEY (IRG_ID),
  CONSTRAINT FK_SAN_IRG_REG_ID  FOREIGN KEY (REG_ID) REFERENCES SAN_REG_REGISTRO (REG_ID)
);


