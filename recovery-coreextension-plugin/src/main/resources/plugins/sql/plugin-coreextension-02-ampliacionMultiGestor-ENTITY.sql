/*
CREATE SEQUENCE S_DD_TGE_TIPO_GESTOR
  START WITH 1
  MAXVALUE 999999999999999999999999999;

CREATE TABLE DD_TGE_TIPO_GESTOR
(
  DD_TGE_ID                 NUMBER(16),
  DD_TGE_CODIGO             VARCHAR2(20 CHAR)   NOT NULL,
  DD_TGE_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_TGE_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_TGE_TIPO_GESTOR PRIMARY KEY (DD_TGE_ID)
);


CREATE TABLE DD_TGE_TIPO_GESTOR_LG
(
  DD_TGE_ID                 NUMBER(16)          NOT NULL,
  DD_TGE_LANG               VARCHAR2(20 CHAR)   NOT NULL,
  DD_TGE_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_TGE_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_TGE_TIPO_GESTOR_LG PRIMARY KEY (DD_TGE_ID, DD_TGE_LANG),
  CONSTRAINT FK_DD_TGE_LG_FK_DD_TGE FOREIGN KEY (DD_TGE_ID) REFERENCES DD_TGE_TIPO_GESTOR (DD_TGE_ID)
);

*/

--ALTER TABLE TAR_TAREAS_NOTIFICACIONES ADD(DD_TGE_ID NUMBER(16));

--ALTER TABLE TAR_TAREAS_NOTIFICACIONES ADD (
--  CONSTRAINT FK_TAR_DD_TGE 
-- FOREIGN KEY (DD_TGE_ID) 
-- REFERENCES DD_TGE_TIPO_GESTOR (DD_TGE_ID));
 
 
CREATE SEQUENCE S_GAA_GESTOR_ADICIONAL_ASUNTO
  START WITH 1
  MAXVALUE 999999999999999999999999999;

CREATE TABLE GAA_GESTOR_ADICIONAL_ASUNTO
(
  GAA_ID                    NUMBER(16)     NOT NULL,
  ASU_ID                    NUMBER(16)     NOT NULL,
  USD_ID                    NUMBER(16)     NOT NULL,
  DD_TGE_ID                 NUMBER(16)          NOT NULL,
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_GAA_GESTOR_ADICIONAL_ASUNTO PRIMARY KEY (GAA_ID),
  CONSTRAINT FK_GAA_ASU_ASUNTO FOREIGN KEY (ASU_ID) REFERENCES ASU_ASUNTOS (ASU_ID),
  CONSTRAINT FK_GAA_USD FOREIGN KEY (USD_ID) REFERENCES USD_USUARIOS_DESPACHOS (USD_ID),
  CONSTRAINT FK_GAA_DD_TGE FOREIGN KEY (DD_TGE_ID) REFERENCES UNMASTER.DD_TGE_TIPO_GESTOR (DD_TGE_ID)  
);

CREATE UNIQUE INDEX UK_GAA_GESTOR_ADICIONAL_ASUNTO ON GAA_GESTOR_ADICIONAL_ASUNTO (ASU_ID, DD_TGE_ID);

ALTER TABLE ASU_ASUNTOS ADD (DTYPE VARCHAR2(50 CHAR) DEFAULT 'EXTAsunto' NOT NULL);