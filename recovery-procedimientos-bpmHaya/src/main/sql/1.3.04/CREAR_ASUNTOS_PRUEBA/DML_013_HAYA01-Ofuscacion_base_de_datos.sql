--/*
--##########################################
--## Author: Sergio Hernández (adaptado por Roberto Lavalle)
--## Finalidad: ofuscar la base de datos de prueba 
--## INSTRUCCIONES:  Configurar variables marcadas con [PARAMETRO]
--## VERSIONES:
--##        0.1 Versión inicial
---------CON ESTE SCRIPT OFUSCAMOS----------
--PER_PERSONAS
--DIR_DIRECCIONES
--TEL_TELEFONO
--ASU_ASUNTOS
--EXP_EXPEDIENTES
--TAR_TAREAS_NOTIFICACIONES
--EXT_IAC_INFO_ADD_CONTRATO
--ZON_ZONIFICACION
--CAR_CARTERA
--DES_DESPACHO_EXTERNO
--CFI_CONFIGURACION_INFORMES
--------------------------------------------
--##########################################
--*/

WHENEVER SQLERROR EXIT SQL.SQLCODE;
SET SERVEROUTPUT ON; 
declare
    ERR_NUM NUMBER(25);  -- Vble. auxiliar para registrar errores en el script.
    ERR_MSG VARCHAR2(1024 CHAR); -- Vble. auxiliar para registrar errores en el script.

    /*
    * VARIABLES DEL SCRIPT
    *---------------------------------------------------------------------
    */    
    V_MSQL VARCHAR2(32000 CHAR);                        -- Sentencia a ejecutar 

BEGIN
	--##################
	DBMS_OUTPUT.PUT_LINE('[INFO] MODIFICACIONES EN PER_PERSONAS');  
	--##################

	-- CAMBIAMOS APELLIDOS QUE EMPIECEN POR LA A
	UPDATE PER_PERSONAS SET PER_APELLIDO1='ARANDA' WHERE PER_APELLIDO1 LIKE 'A%' and rownum <=2000;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='ABAD' WHERE PER_APELLIDO1 LIKE 'A%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('ARANDA');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='ALBA' WHERE PER_APELLIDO1 LIKE 'A%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('ARANDA', 'ABAD');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='ALFARO' WHERE PER_APELLIDO1 LIKE 'A%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('ARANDA', 'ABAD', 'ALBA');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='ALONSO' WHERE PER_APELLIDO1 LIKE 'A%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('ARANDA', 'ABAD', 'ALBA', 'ALFARO');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='ARIAS' WHERE PER_APELLIDO1 LIKE 'A%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('ARANDA', 'ABAD', 'ALBA', 'ALFARO', 'ALONSO');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='AYALA' WHERE PER_APELLIDO1 LIKE 'A%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('ARANDA', 'ABAD', 'ALBA', 'ALFARO', 'ALONSO', 'ARIAS');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='ALCOLEA' WHERE PER_APELLIDO1 LIKE 'A%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('ARANDA', 'ABAD', 'ALBA', 'ALFARO', 'ALONSO', 'ARIAS', 'AYALA');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='ALMEIDA' WHERE PER_APELLIDO1 LIKE 'A%' and PER_APELLIDO1 NOT IN ('ARANDA', 'ABAD', 'ALBA', 'ALFARO', 'ALONSO', 'ARIAS', 'AYALA', 'ALCOLEA');
	COMMIT;
	-- CAMBIAMOS APELLIDOS QUE EMPIECEN POR LA B
	UPDATE PER_PERSONAS SET PER_APELLIDO1='BLASCO' WHERE PER_APELLIDO1 LIKE 'B%' and rownum <=2000;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='BARRAL' WHERE PER_APELLIDO1 LIKE 'B%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('BLASCO');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='BERNAL' WHERE PER_APELLIDO1 LIKE 'B%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('BLASCO', 'BARRAL');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='BLANES' WHERE PER_APELLIDO1 LIKE 'B%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('BLASCO', 'BARRAL', 'BERNAL');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='BUENO' WHERE PER_APELLIDO1 LIKE 'B%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('BLASCO', 'BARRAL', 'BERNAL', 'BLANES');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='BERMEJO' WHERE PER_APELLIDO1 LIKE 'B%' AND PER_APELLIDO1 NOT IN ('BUENO','BLASCO', 'BARRAL', 'BERNAL', 'BLANES');
	COMMIT;
	-- CAMBIAMOS APELLIDOS QUE EMPIECEN POR LA C
	UPDATE PER_PERSONAS SET PER_APELLIDO1='CONDE' WHERE PER_APELLIDO1 LIKE 'C%' and rownum <=2000;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='CALPE' WHERE PER_APELLIDO1 LIKE 'C%' and rownum <=2000  AND PER_APELLIDO1 NOT IN ('CONDE');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='CASTRO' WHERE PER_APELLIDO1 LIKE 'C%' and rownum <=2000  AND PER_APELLIDO1 NOT IN ('CONDE', 'CALPE');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='CAMPOS' WHERE PER_APELLIDO1 LIKE 'C%' AND PER_APELLIDO1 NOT IN ('CONDE', 'CASTRO', 'CALPE');
	COMMIT;
	-- CAMBIAMOS APELLIDOS QUE EMPIECEN POR LA D
	UPDATE PER_PERSONAS SET PER_APELLIDO1='D?AZ' WHERE PER_APELLIDO1 LIKE 'D%' and rownum <=2000;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='DUQUE' WHERE PER_APELLIDO1 LIKE 'D%'AND rownum <=2000 AND PER_APELLIDO1 NOT IN ('D?AZ');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='DUR?N' WHERE PER_APELLIDO1 LIKE 'D%'AND PER_APELLIDO1 NOT IN ('D?AZ', 'DUQUE');
	COMMIT;
	-- CAMBIAMOS APELLIDOS QUE EMPIECEN POR LA E
	UPDATE PER_PERSONAS SET PER_APELLIDO1='ESPINOSA' WHERE PER_APELLIDO1 LIKE 'E%'and rownum <=2000;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='ESCOBAR' WHERE PER_APELLIDO1 LIKE 'E%'and rownum <=2000 AND PER_APELLIDO1 NOT IN ('ESPINOSA');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='ESTRADA' WHERE PER_APELLIDO1 LIKE 'E%'AND PER_APELLIDO1 NOT IN ('ESPINOSA', 'ESCOBAR');
	COMMIT;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='FUENTE' WHERE PER_APELLIDO1 LIKE 'F%' and rownum <=2000;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='FENOLLOSA' WHERE PER_APELLIDO1 LIKE 'F%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('FUENTE');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='FERNANDEZ' WHERE PER_APELLIDO1 LIKE 'F%' AND PER_APELLIDO1 NOT IN ('FUENTE', 'FENOLLOSA');
	COMMIT;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='GALLEGO' WHERE PER_APELLIDO1 LIKE 'G%' and rownum <=2000;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='GARCIA' WHERE PER_APELLIDO1 LIKE 'G%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('GALLEGO');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='GOMEZ' WHERE PER_APELLIDO1 LIKE 'G%' AND PER_APELLIDO1 NOT IN ('GALLEGO', 'GARCIA');
	COMMIT;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='HERRERA' WHERE PER_APELLIDO1 LIKE 'H%'and rownum <=2000;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='HERNANDEZ' WHERE PER_APELLIDO1 LIKE 'H%' and rownum <=2000 AND PER_APELLIDO1 NOT IN ('HERRERA');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='HOYOS' WHERE PER_APELLIDO1 LIKE 'H%' AND PER_APELLIDO1 NOT IN ('HERRERA', 'HERNANDEZ');
	COMMIT;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='IBAR' WHERE PER_APELLIDO1 LIKE 'I%'and rownum <=3000;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='IGLESIAS' WHERE PER_APELLIDO1 LIKE 'I%' and rownum <=3000 AND PER_APELLIDO1 NOT IN ('IBAR');
	UPDATE PER_PERSONAS SET PER_APELLIDO1='IBA?EZ' WHERE PER_APELLIDO1 LIKE 'I%' AND PER_APELLIDO1 NOT IN ('IGLESIAS', 'IBAR');
	COMMIT;
	UPDATE PER_PERSONAS SET PER_APELLIDO1='JIMENO' WHERE PER_APELLIDO1 LIKE 'J%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='KOVACS' WHERE PER_APELLIDO1 LIKE 'K%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='LLORENTE' WHERE PER_APELLIDO1 LIKE 'L%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='MARTIN' WHERE PER_APELLIDO1 LIKE 'M%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='NU?EZ' WHERE PER_APELLIDO1 LIKE 'N%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='OTERO' WHERE PER_APELLIDO1 LIKE 'O%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='PERN?A' WHERE PER_APELLIDO1 LIKE 'P%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='QUINTERO' WHERE PER_APELLIDO1 LIKE 'Q%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='RUIZ' WHERE PER_APELLIDO1 LIKE 'R%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='SANCHEZ' WHERE PER_APELLIDO1 LIKE 'S%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='TORRES' WHERE PER_APELLIDO1 LIKE 'T%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='UGALDE' WHERE PER_APELLIDO1 LIKE 'U%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='VELASCO' WHERE PER_APELLIDO1 LIKE 'V%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='WILDER' WHERE PER_APELLIDO1 LIKE 'W%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='XAMENA' WHERE PER_APELLIDO1 LIKE 'X%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='YELA' WHERE PER_APELLIDO1 LIKE 'Y%';
	UPDATE PER_PERSONAS SET PER_APELLIDO1='ZAMBRAZO' WHERE PER_APELLIDO1 LIKE 'Z%';
	commit;
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='TELLO' WHERE PER_APELLIDO2 LIKE 'A%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='AGUILAR' WHERE PER_APELLIDO2 LIKE 'B%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='BLANCO' WHERE PER_APELLIDO2 LIKE 'C%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='CASTRO' WHERE PER_APELLIDO2 LIKE 'D%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='DIAZ' WHERE PER_APELLIDO2 LIKE 'E%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='ESTEVEZ' WHERE PER_APELLIDO2 LIKE 'F%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='HERNANDEZ' WHERE PER_APELLIDO2 LIKE 'G%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='JIMENEZ' WHERE PER_APELLIDO2 LIKE 'H%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='MARTINEZ' WHERE PER_APELLIDO2 LIKE 'I%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='MARTIN' WHERE PER_APELLIDO2 LIKE 'J%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='MORENO' WHERE PER_APELLIDO2 LIKE 'K%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='MORALES' WHERE PER_APELLIDO2 LIKE 'L%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='EENCINA' WHERE PER_APELLIDO2 LIKE 'M%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='FONTAO' WHERE PER_APELLIDO2 LIKE 'N%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='GONZALO' WHERE PER_APELLIDO2 LIKE 'O%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='HOYOS' WHERE PER_APELLIDO2 LIKE 'P%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='JUGO' WHERE PER_APELLIDO2 LIKE 'Q%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='LOZANA' WHERE PER_APELLIDO2 LIKE 'R%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='MENOCAL' WHERE PER_APELLIDO2 LIKE 'S%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='NOCEDO' WHERE PER_APELLIDO2 LIKE 'T%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='PELAEZ' WHERE PER_APELLIDO2 LIKE 'U%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='RETES' WHERE PER_APELLIDO2 LIKE 'V%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='SAMANIEGO' WHERE PER_APELLIDO2 LIKE 'W%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='SUFIRIA' WHERE PER_APELLIDO2 LIKE 'X%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='URBINA' WHERE PER_APELLIDO2 LIKE 'Y%';
	--UPDATE PER_PERSONAS SET PER_APELLIDO2='YERA' WHERE PER_APELLIDO2 LIKE 'Z%';
	--COMMIT;

	update per_personas p
	set p.PER_DOC_ID = replace(replace(replace(replace(p.PER_DOC_ID, '1', '5'),'2','6'),'3','9'),'4','1'),
	--  p.PER_TELEFONO_1 = replace(replace(replace(replace(p.PER_TELEFONO_1 , '1', '2'),'3','4'),'5','6'),'7','8'),
	--  p.PER_TELEFONO_2 = replace(replace(replace(replace(p.PER_TELEFONO_2 , '1', '3'),'2','4'),'5','7'),'6','9'),
	--  p.PER_MOVIL_1 = replace(replace(replace(replace(p.PER_MOVIL_1  , '9', '8'),'7','6'),'5','4'),'3','2'),
	--  p.PER_MOVIL_2 = replace(replace(replace(replace(p.PER_MOVIL_2  , '9', '7'),'8','6'),'5','3'),'4','1'),
	    P.PER_EMAIL='email@pfsgroup.es';

	COMMIT;
	    
	update per_personas p
	set p.PER_APELLIDO1 = 'EMPRESA-',
	    p.PER_NOMBRE = replace(replace(replace(replace(p.PER_NOMBRE, 'A', 'E'),'I','A'),'O','I'),'U','O')
	WHERE p.DD_TPE_ID =2;

	COMMIT;

	update per_personas p
	set p.PER_APELLIDO1 = 'EMPRESA-',
	    p.PER_NOMBRE = replace(replace(replace(replace(p.PER_NOMBRE, 'M', 'N'),'S','T'),'D','I'),'L','O')
	WHERE p.DD_TPE_ID =2;

	COMMIT;

	update per_personas set per_nom50=substr(per_nombre||' '||per_apellido1||' '||per_apellido2,0,49);

	COMMIT;


	--##################
	DBMS_OUTPUT.PUT_LINE('[INFO] MODIFICACIONES EN DIR_DIRECCIONES');  
	--##################


	UPDATE DIR_DIRECCIONES SET
	DIR_DOM_PUERTA = DIR_DOM_N,
	DIR_DOM_N = DD_PRV_ID;

	COMMIT;

	--##################
	DBMS_OUTPUT.PUT_LINE('[INFO] MODIFICACIONES EN TEL_TELEFONOS');  
	--##################


	UPDATE TEL_TELEFONOS
	 SET TEL_TELEFONO = replace(replace(replace(replace(replace(TEL_TELEFONO , '1', '2'),'3','4'),'5','6'),'7','8'),'2','7');

	COMMIT;


	--##################
	DBMS_OUTPUT.PUT_LINE('[INFO] MODIFICACIONES EN OTRAS TABLAS');  
	--##################

	-- CAMBIAMOS DE NOMBRE LOS ASUNTOS
	DBMS_OUTPUT.PUT_LINE('[INFO] MODIFICACIONES EN OTRAS TABLAS: ASUNTOS');

	UPDATE ASU_ASUNTOS ASU1
	SET (ASU1.ASU_ID, ASU1.ASU_NOMBRE) = (
	   SELECT GA.ASU_ID, SUBSTR(GA.ASU_NOMBRE, 0, 49)
	   FROM (   
		SELECT A.ASU_ID, PER.PER_NOM50||' '||ASU_ID ASU_NOMBRE  FROM
		(SELECT ASU.ASU_ID, MAX(PER_ID) PER_ID FROM ASU_ASUNTOS ASU
		JOIN PRC_PROCEDIMIENTOS PRC ON PRC.ASU_ID=ASU.ASU_ID
		JOIN PRC_PER ON PRC_PER.PRC_ID=PRC.PRC_ID
		GROUP BY ASU.ASU_ID) A 
		LEFT JOIN PER_PERSONAS PER
		ON A.PER_ID=PER.PER_ID        
		) GA
	   WHERE GA.ASU_ID = ASU1.ASU_ID)
	WHERE ASU1.ASU_ID IN (
		SELECT DISTINCT ASU.ASU_ID FROM ASU_ASUNTOS ASU
		JOIN PRC_PROCEDIMIENTOS PRC ON PRC.ASU_ID=ASU.ASU_ID
		JOIN PRC_PER ON PRC_PER.PRC_ID=PRC.PRC_ID
		);

	COMMIT;

	-- CAMBIAMOS DE NOMBRE LOS EXPEDIENTES
	DBMS_OUTPUT.PUT_LINE('[INFO] MODIFICACIONES EN OTRAS TABLAS: EXPEDIENTES');

	UPDATE EXP_EXPEDIENTES EXP1
	SET (EXP1.EXP_ID, EXP1.EXP_DESCRIPCION) = (
	   SELECT GA.EXP_ID, EXP_DESCRIPCION 
	   FROM (   
		SELECT A.EXP_ID, SUBSTR(PER.PER_NOM50||' '||EXP_ID, 0, 49) EXP_DESCRIPCION  FROM
		(SELECT EXP.EXP_ID, MAX(PER_ID) PER_ID FROM EXP_EXPEDIENTES EXP
		JOIN PEX_PERSONAS_EXPEDIENTE PEX ON EXP.EXP_ID=PEX.EXP_ID
		GROUP BY EXP.EXP_ID) A
		LEFT JOIN PER_PERSONAS PER ON A.PER_ID=PER.PER_ID      
		) GA
	   WHERE GA.EXP_ID = EXP1.EXP_ID)
	WHERE EXP1.EXP_ID IN (SELECT DISTINCT EXP.EXP_ID FROM EXP_EXPEDIENTES EXP 
		                JOIN PEX_PERSONAS_EXPEDIENTE PEX ON EXP.EXP_ID=PEX.EXP_ID);

	COMMIT;

	DBMS_OUTPUT.PUT_LINE('[INFO] MODIFICACIONES EN OTRAS TABLAS: TAR_TAREAS_NOTIFICACIONES');

	update tar_tareas_notificaciones set tar_emisor='EMISOR' where tar_emisor <> 'AUTOMATICA';

	COMMIT;

	DBMS_OUTPUT.PUT_LINE('[INFO] MODIFICACIONES EN OTRAS TABLAS: EXT_IAC_INFO_ADD_CONTRATO');

	UPDATE EXT_IAC_INFO_ADD_CONTRATO 
	SET IAC_VALUE=replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(UPPER(IAC_VALUE), 'A', 'E'),'I','A'),'O','I'),'U','O'), 'M', 'N'),'S','T'),'V','J'),'L','B'), 'N', 'S'),'R','L'),'C','G'),'G','D') 
	WHERE DD_IFC_ID=35;

	DBMS_OUTPUT.PUT_LINE('[INFO] MODIFICACIONES EN OTRAS TABLAS: zon_zonificacion');

	update zon_zonificacion set zon_descripcion='BANKIA', zon_descripcion_larga='BANKIA'
	where zon_cod='01';

	update zon_zonificacion 
	set zon_descripcion=replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(UPPER(zon_descripcion), 'A', 'E'),'I','A'),'O','I'),'U','O'), 'M', 'N'),'S','T'),'V','J'),'L','B'), 'N', 'S'),'R','L'),'C','G'),'G','D'),
	zon_descripcion_larga=replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(UPPER(zon_descripcion_larga), 'A', 'E'),'I','A'),'O','I'),'U','O'), 'M', 'N'),'S','T'),'V','J'),'L','B'), 'N', 'S'),'R','L'),'C','G'),'G','D')
	where zon_cod<>'01';


	DBMS_OUTPUT.PUT_LINE('[INFO] MODIFICACIONES EN OTRAS TABLAS: car_cartera');

	update car_cartera
	set car_descripcion=replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(UPPER(car_descripcion), 'A', 'E'),'I','A'),'O','I'),'U','O'), 'M', 'N'),'S','T'),'V','J'),'L','B'), 'N', 'S'),'R','L'),'C','G'),'G','D'),
	 car_descripcion_larga=replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(UPPER(car_descripcion_larga), 'A', 'E'),'I','A'),'O','I'),'U','O'), 'M', 'N'),'S','T'),'V','J'),'L','B'), 'N', 'S'),'R','L'),'C','G'),'G','D');

	commit;

	DBMS_OUTPUT.PUT_LINE('[INFO] MODIFICACIONES EN OTRAS TABLAS: cfi_configuracion_informes');

	update cfi_configuracion_informes cfi
	set cfi.cfi_valor='JOSE GARCIA GARCIA' 
	where cfi.cfi_codigo='representante';

	update cfi_configuracion_informes cfi
	set cfi.cfi_valor='JUAN RODRIGUEZ RODRIGUEZ - ICAM 00001' 
	where cfi.cfi_codigo='direccion_letrada';

	update cfi_configuracion_informes cfi
	set cfi.cfi_valor='901000001' 
	where cfi.cfi_codigo='numfax';

	update cfi_configuracion_informes cfi
	set cfi.cfi_valor='contencioso@bankia.es' 
	where cfi.cfi_codigo='email';

	update cfi_configuracion_informes cfi
	set cfi.cfi_valor='jasper/img/logo_bankia.gif' 
	where cfi.cfi_codigo='direccionLogo';

	update cfi_configuracion_informes cfi
	set cfi.cfi_valor='jasper/img/logo_bankia.gif' 
	where cfi.cfi_codigo='direccionLogo2';

	update cfi_configuracion_informes cfi
	set cfi.cfi_valor='jasper/img/logo_bankia.gif' 
	where cfi.cfi_codigo='direccionLogo3';

	update cfi_configuracion_informes cfi
	set cfi.cfi_valor='recovery@bankia.es' 
	where cfi.cfi_codigo='email_origen';

	commit;

	DBMS_OUTPUT.PUT_LINE('[INFO] MODIFICACIONES EN OTRAS TABLAS: des_despacho_externo');

	update des_despacho_externo set des_despacho= 'DESPACHO '||substr(des_Despacho,0,5)||substr(des_id,-3) WHERE DES_DESPACHO NOT IN ('PROCURADORES','GRUPO PROCURADORES');

	COMMIT;

	UPDATE DES_DESPACHO_EXTERNO SET 
	DES_DOMICILIO_PLAZA='VALENCIA', DES_CODIGO_POSTAL= 46000, DES_TELEFONO1= 9636169||DES_ID, DES_TELEFONO2= 6266145||DES_ID, 
	DES_TIPO_VIA= 'C/', DES_PERSONA_CONTACTO='APELLIDOS, NOMBRE';  

	COMMIT;

	EXCEPTION
	     WHEN OTHERS THEN
		  ERR_NUM := SQLCODE;
		  ERR_MSG := SQLERRM;
		  DBMS_OUTPUT.put_line('[ERROR] Se ha producido un error en la ejecución:'||TO_CHAR(ERR_NUM));
		  DBMS_OUTPUT.put_line('-----------------------------------------------------------'); 
		  DBMS_OUTPUT.put_line(ERR_MSG);
		  ROLLBACK;
		  RAISE;

END;
/
exit