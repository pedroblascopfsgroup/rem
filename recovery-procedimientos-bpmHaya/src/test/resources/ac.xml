<?xml version="1.0" encoding="UTF-8" ?>
<beans xmlns="http://www.springframework.org/schema/beans" 
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
		xsi:schemaLocation="http://www.springframework.org/schema/beans
				 			http://www.springframework.org/schema/beans/spring-beans.xsd
				   			http://activemq.apache.org/schema/core
				   			http://activemq.apache.org/schema/core/activemq-core.xsd">
				   
	<!-- JMS ConnectionFactory to use, configuring the embedded broker using XML -->
  	<connectionFactory xmlns="http://activemq.apache.org/schema/core" id="jmsFactory" brokerURL="vm://localhost"/>
  	
    <!--  lets create an embedded ActiveMQ Broker -->  
	<broker xmlns="http://activemq.apache.org/schema/core" useJmx="true" persistent="true" dataDirectory="/Documentos/borrar/mensajes-amq">
	
		<sslContext>
			<sslContext keyStore="file:/Documentos/borrar/apache-activemq-5.10.2/broker.ks" keyStorePassword="password"
				trustStore="file:/Documentos/borrar/apache-activemq-5.10.2/client.ks" trustStorePassword="password"/>
		</sslContext>
		
		<transportConnectors>
			<transportConnector name="vm" uri="vm://localhost:61626" />
			<transportConnector name="ssl" uri="ssl://localhost:61627" />
		</transportConnectors>
	</broker>
	
<!-- 
<bean id="bridgedBroker" class="org.apache.activemq.broker.BrokerService"
	 init-method="start" destroy-method="stop">
	  <property name="brokerName" value="instanceB"/>
	  <property name="persistent" value="true"/>
	  <property name="useJmx" value="false"/>
	  <property name="transportConnectors">
	  	<bean class="org.apache.activemq.broker.TransportConnector">
	  		<property name="uri" value="ssl://0.0.0.0:61626?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/>
	  		<property name="name" value="ssl"/>
	  	</bean>
	  </property>
	  <property name="dataDirectory" value="/Documentos/borrar/mensajes-amq" />
	  <property name="sslContext">
	  	<bean class="org.apache.activemq.spring.SpringSslContext">
	  		<property name="keyStoreType" value="file:/Documentos/borrar/apache-activemq-5.10.2/broker.ks"/>
	  		<property name="keyStorePassword" value="password"/>
	  		<property name="trustStore" value="file:/Documentos/borrar/apache-activemq-5.10.2/client.ks"/>
	  		<property name="trustStorePassword" value="password"/>
	  	</bean>
	  </property>

	  <property name="jmsBridgeConnectors">
	    <bean class="org.apache.activemq.network.jms.JmsQueueConnector">
	      
	      <property name="outboundQueueConnectionFactory">
	        <bean class="org.apache.activemq.ActiveMQConnectionFactory">
	          <property name="brokerURL" 
	           value="failover:(tcp://localhost:61617)?maxReconnectDelay=10" />
	        </bean>
	      </property>
	      
		  	      
	      <property name="outboundQueueBridges">
	        <list>
	          <bean class="org.apache.activemq.network.jms.OutboundQueueBridge">
	            <constructor-arg value="queue1"/>
	          </bean>
	          <bean class="org.apache.activemq.network.jms.OutboundQueueBridge">
	            <constructor-arg value="queue2"/>
	          </bean>
	        </list>
	      </property>
	    </bean>
	  </property>
	</bean>
-->	
</beans>
 