-- *************************************************************************** --
-- **      Insertar los procuradores según necesidades Caja canarias        ** --
-- *************************************************************************** --

-- Insertar procuradores en la tabla USU_USUARIOS
--Insert into PFSMASTER.USU_USUARIOS (USU_ID, ENTIDAD_ID, USU_USERNAME, USU_NOMBRE, USU_APELLIDO1, USU_APELLIDO2, VERSION, USUARIOCREAR, FECHACREAR, BORRADO, USU_EXTERNO)
--Values(PFSMASTER.S_USU_USUARIOS.nextval, 1, 'PRO_NAApellido2', 'Nombre1', 'Apellido1', 'Apellido2', 0, 'DD', SYSDATE, 0, 1);

...

-- crear perfil para los usuarios
Insert into PEF_PERFILES (PEF_ID, PEF_DESCRIPCION_LARGA, PEF_DESCRIPCION, VERSION, USUARIOCREAR, FECHACREAR, BORRADO, PEF_CODIGO)
Values(S_PEF_PERFILES.nextval, 'Procurador', 'Procurador', 0, 'DD', SYSDATE, 0, '15');

-- asignar perfil a los usuarios creados y zonificarlos
--Insert into ZON_PEF_USU (ZON_ID, PEF_ID, USU_ID, ZPU_ID, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
--Values((SELECT ZON_ID FROM ZON_ZONIFICACION WHERE ZON_NUM_CENTRO = 9999), (SELECT PEF_ID FROM PEF_PERFILES WHERE PEF_DESCRIPCION = 'Procurador')
--, (SELECT USU_ID FROM PFSMASTER.USU_USUARIOS WHERE USU_USERNAME='PRO_NAApellido2'), S_ZON_PEF_USU.nextval, 0, 'DD', SYSDATE, 0);

...

-- Crear despacho PROCURADORES y zonificarlo a la entidad
Insert into DES_DESPACHO_EXTERNO (DES_ID, DES_DESPACHO, VERSION, USUARIOCREAR, FECHACREAR, BORRADO, ZON_ID, DD_TDE_ID)
Values(S_DES_DESPACHO_EXTERNO.nextval, 'GRUPO PROCURADORES', 0, 'DD', SYSDATE, 0, (SELECT ZON_ID FROM ZON_ZONIFICACION WHERE ZON_NUM_CENTRO = 9999), 2);

-- Asignar DESPACHO a los USUARIOS procuradores
--Insert into USD_USUARIOS_DESPACHOS (USD_ID, USU_ID, DES_ID, USD_GESTOR_DEFECTO, USD_SUPERVISOR, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
--Values(S_USD_USUARIOS_DESPACHOS.nextval, (SELECT USU_ID FROM PFSMASTER.USU_USUARIOS WHERE USU_USERNAME='PRO_NAApellido2'), (SELECT DES_ID FROM DES_DESPACHO_EXTERNO WHERE DES_DESPACHO = 'GRUPO PROCURADORES'), 0, 0, 0, 'DD', SYSDATE, 0);

...

-- Asingar USU_USUARIOS a los ASU_ASUNTOS
--UPDATE ASU_ASUNTOS SET 
--USD_ID = (SELECT USD_ID FROM PFSMASTER.USU_USUARIOS 
--			INNER JOIN PFS01.USD_USUARIOS_DESPACHOS ON PFSMASTER.USU_USUARIOS.USU_ID = PFS01.USD_USUARIOS_DESPACHOS.USU_ID 
--		  WHERE USU_USERNAME='PRO_NAApellido2') 
--WHERE ASU_ID = I)dDelAsunto;

...