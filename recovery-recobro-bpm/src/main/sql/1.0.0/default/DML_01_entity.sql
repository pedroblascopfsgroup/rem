-- INSERTAMOS LA DEFINICIÃ“N DEL PROCEDIMIENTO DE RECOBRO  

Insert into BANK01.DD_TPO_TIPO_PROCEDIMIENTO(DD_TPO_ID, DD_TPO_CODIGO, DD_TPO_DESCRIPCION, DD_TPO_DESCRIPCION_LARGA, DD_TPO_HTML, DD_TPO_XML_JBPM, DD_TAC_ID, VERSION, USUARIOCREAR, FECHACREAR, BORRADO)
Values(BANK01.S_DD_TPO_TIPO_PROCEDIMIENTO.nextval, 'P100', 'Procedimiento de Recobro', 'Procedimiento de Recobro', '', 'recobro', (select DD_TAC_ID from BANK01.DD_TAC_TIPO_ACTUACION where DD_TAC_CODIGO='REC'), 0, 'DD', SYSDATE, 0);

-- INSERTAMOS LAS TAREAS DEFINIDAS DEL PROCEDIMIENTO DE RECOBRO  

-- P100_nodoInicioPorSQL

Insert into BANK01.TAP_TAREA_PROCEDIMIENTO(TAP_ID, DD_TPO_ID, TAP_CODIGO, TAP_SUPERVISOR, TAP_DESCRIPCION,  
    VERSION, USUARIOCREAR, FECHACREAR, BORRADO, DD_FAP_ID, DTYPE, DD_STA_ID)
Values(BANK01.S_TAP_TAREA_PROCEDIMIENTO.nextval, (select DD_TPO_ID from BANK01.DD_TPO_TIPO_PROCEDIMIENTO where DD_TPO_CODIGO='P100'), 'P100_nodoInicioPorSQL', 0, 'Nodo inicio SQL',
 0, 'DD', SYSDATE, 0, (select DD_FAP_ID from BANK01.DD_FAP_FASE_PROCESAL where DD_FAP_CODIGO='09'), 'EXTTareaProcedimiento',
 (SELECT dd_sta_id FROM BANKMASTER.DD_STA_SUBTIPO_TAREA_BASE WHERE dd_sta_codigo = '39'));
 
-- P100_nodoEsperaController

Insert into BANK01.TAP_TAREA_PROCEDIMIENTO(TAP_ID, DD_TPO_ID, TAP_CODIGO, TAP_SUPERVISOR, TAP_DESCRIPCION, TAP_SCRIPT_DECISION, 
    VERSION, USUARIOCREAR, FECHACREAR, BORRADO, DD_FAP_ID, DTYPE, DD_STA_ID)
Values(BANK01.S_TAP_TAREA_PROCEDIMIENTO.nextval, (select DD_TPO_ID from BANK01.DD_TPO_TIPO_PROCEDIMIENTO where DD_TPO_CODIGO='P100'), 'P100_nodoEsperaController', 0, 'Nodo espera Controller',
 'comprobarMetaVolante() == true ? 
    ''avanzaBPM'' : ''marcarExpediente''
 ',
 0, 'DD', SYSDATE, 0, (select DD_FAP_ID from BANK01.DD_FAP_FASE_PROCESAL where DD_FAP_CODIGO='09'), 'EXTTareaProcedimiento',
 (SELECT dd_sta_id FROM BANKMASTER.DD_STA_SUBTIPO_TAREA_BASE WHERE dd_sta_codigo = '39'));
