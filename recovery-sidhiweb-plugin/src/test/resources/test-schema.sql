CREATE TABLE ENTIDADCONFIG  (
   ID                   INTEGER                      NOT NULL,
   ENTIDAD_ID           INTEGER,
   DATAKEY              VARCHAR,
   DATAVALUE            VARCHAR,
   CONSTRAINT PK_ENTIDADCONFIG PRIMARY KEY (ID)
);

CREATE SEQUENCE S_ENTIDADCONFIG
  AS INTEGER
  START WITH 1
  INCREMENT BY 1;

CREATE TABLE ENTIDAD  (
   ID                   INTEGER                     NOT NULL,
   DESCRIPCION          VARCHAR,
   USUARIOCREAR         VARCHAR                    NOT NULL,
   FECHACREAR           DATETIME                       NOT NULL,
   USUARIOMODIFICAR     VARCHAR,
   FECHAMODIFICAR       DATETIME,
   USUARIOBORRAR        VARCHAR,
   FECHABORRAR          DATETIME,
   BORRADO              INTEGER                    DEFAULT 0 NOT NULL,
   CONSTRAINT PK_ENTIDAD PRIMARY KEY (ID)
);

CREATE SEQUENCE S_ENTIDAD
  AS INTEGER
  START WITH 1
  INCREMENT BY 1;


CREATE TABLE USU_USUARIOS
(
  USU_ID                   NUMBER(16)           NOT NULL,
  ENTIDAD_ID               NUMBER(16),
  USU_USERNAME             VARCHAR2(50 CHAR)    NOT NULL,
  USU_PASSWORD             VARCHAR2(50 CHAR),
  USU_NOMBRE               VARCHAR2(50 CHAR),
  USU_APELLIDO1            VARCHAR2(50 CHAR),
  USU_APELLIDO2            VARCHAR2(50 CHAR),
  USU_TELEFONO             VARCHAR2(10 CHAR),
  USU_MAIL                 VARCHAR2(50 CHAR),
  VERSION                  INTEGER              DEFAULT 0                     NOT NULL,
  USUARIOCREAR             VARCHAR2(10 CHAR)    NOT NULL,
  FECHACREAR               TIMESTAMP(6)         NOT NULL,
  USUARIOMODIFICAR         VARCHAR2(10 CHAR),
  FECHAMODIFICAR           TIMESTAMP(6),
  USUARIOBORRAR            VARCHAR2(10 CHAR),
  FECHABORRAR              TIMESTAMP(6),
  BORRADO                  NUMBER(1)            DEFAULT 0                     NOT NULL,
  USU_EXTERNO              NUMBER(1)            DEFAULT 0,
  USU_FECHA_VIGENCIA_PASS  DATE                 DEFAULT SYSDATE               NOT NULL,
  CONSTRAINT PK_USU_USUARIOS PRIMARY KEY (USU_ID)
);

CREATE SEQUENCE S_USU_USUARIOS
  AS INTEGER
  START WITH 1
  INCREMENT BY 1;
  
CREATE TABLE DD_TDE_TIPO_DESPACHO
(
  DD_TDE_ID                 NUMBER(16)          NOT NULL,
  DD_TDE_CODIGO             VARCHAR2(50 CHAR)   NOT NULL,
  DD_TDE_DESCRIPCION        VARCHAR2(50 CHAR),
  DD_TDE_DESCRIPCION_LARGA  VARCHAR2(250 CHAR),
  VERSION                   INTEGER             DEFAULT 0                     NOT NULL,
  USUARIOCREAR              VARCHAR2(10 CHAR)   NOT NULL,
  FECHACREAR                TIMESTAMP(6)        NOT NULL,
  USUARIOMODIFICAR          VARCHAR2(10 CHAR),
  FECHAMODIFICAR            TIMESTAMP(6),
  USUARIOBORRAR             VARCHAR2(10 CHAR),
  FECHABORRAR               TIMESTAMP(6),
  BORRADO                   NUMBER(1)           DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_DD_TDE_TIPO_DESPACHO PRIMARY KEY (DD_TDE_ID)
);
CREATE SEQUENCE S_DD_TDE_TIPO_DESPACHO
  AS INTEGER
  START WITH 1
  INCREMENT BY 1;

CREATE TABLE DES_DESPACHO_EXTERNO
(
  DES_ID                NUMBER(16)              NOT NULL,
  DES_DESPACHO          VARCHAR2(100 CHAR),
  DES_TIPO_VIA          VARCHAR2(100 CHAR),
  DES_DOMICILIO         VARCHAR2(100 CHAR),
  DES_DOMICILIO_PLAZA   VARCHAR2(100 CHAR),
  DES_CODIGO_POSTAL     NUMBER(5),
  DES_PERSONA_CONTACTO  VARCHAR2(100 CHAR),
  DES_TELEFONO2         VARCHAR2(100 CHAR),
  DES_TELEFONO1         VARCHAR2(100 CHAR),
  VERSION               INTEGER                 DEFAULT 0                     NOT NULL,
  USUARIOCREAR          VARCHAR2(10 CHAR)       NOT NULL,
  FECHACREAR            TIMESTAMP(6)            NOT NULL,
  USUARIOMODIFICAR      VARCHAR2(10 CHAR),
  FECHAMODIFICAR        TIMESTAMP(6),
  USUARIOBORRAR         VARCHAR2(10 CHAR),
  FECHABORRAR           TIMESTAMP(6),
  BORRADO               NUMBER(1)               DEFAULT 0                     NOT NULL,
  ZON_ID                NUMBER(16),
  DD_TDE_ID             NUMBER(16),
  CONSTRAINT PK_DES_DESPACHO_EXTERNO PRIMARY KEY (DES_ID)
);

CREATE SEQUENCE S_DES_DESPACHO_EXTERNO
  AS INTEGER
  START WITH 503
  INCREMENT BY 1;

CREATE TABLE USD_USUARIOS_DESPACHOS (
    USD_ID              INTEGER                    NOT NULL,
    USU_ID              INTEGER                   NOT NULL,
    DES_ID              INTEGER                    NOT NULL,
    USD_GESTOR_DEFECTO  INTEGER                     NOT NULL,
    USD_SUPERVISOR      INTEGER                     NOT NULL,
    VERSION             INTEGER              DEFAULT 0   NOT NULL,
    USUARIOCREAR        VARCHAR               NOT NULL,
    FECHACREAR          DATETIME                   NOT NULL,
    USUARIOMODIFICAR    VARCHAR,
    FECHAMODIFICAR      DATETIME,
    USUARIOBORRAR       VARCHAR,
    FECHABORRAR         DATETIME,
    BORRADO             INTEGER         DEFAULT 0   NOT NULL,
    CONSTRAINT PK_USD_USUARIOS_DESPACHOS PRIMARY KEY (USD_ID)
);
CREATE SEQUENCE S_USD_USUARIOS_DESPACHOS
  AS INTEGER
  START WITH 503
  INCREMENT BY 1;

CREATE TABLE FUN_FUNCIONES  (
   FUN_ID               INTEGER                      NOT NULL,
   FUN_DESCRIPCION_LARGA VARCHAR,
   FUN_DESCRIPCION      VARCHAR,
   VERSION              INTEGER                        DEFAULT 0 NOT NULL,
   USUARIOCREAR         VARCHAR                    NOT NULL,
   FECHACREAR           DATETIME                       NOT NULL,
   USUARIOMODIFICAR     VARCHAR,
   FECHAMODIFICAR       DATETIME,
   USUARIOBORRAR        VARCHAR,
   FECHABORRAR          DATETIME,
   BORRADO              INTEGER                    DEFAULT 0 NOT NULL,
   CONSTRAINT PK_FUN_FUNCIONES PRIMARY KEY (FUN_ID)
);
CREATE SEQUENCE S_FUN_FUNCIONES
  AS INTEGER
  START WITH 503
  INCREMENT BY 1;

CREATE TABLE PEF_PERFILES  (
   PEF_ID               INTEGER              NOT NULL,
   PEF_CODIGO           VARCHAR      NOT NULL,
   PEF_DESCRIPCION      VARCHAR,
   PEF_DESCRIPCION_LARGA VARCHAR,
   VERSION              INTEGER                 DEFAULT 0 NOT NULL,
   USUARIOCREAR         VARCHAR       NOT NULL,
   FECHACREAR           DATETIME               NOT NULL,
   USUARIOMODIFICAR     VARCHAR,
   FECHAMODIFICAR       DATETIME,
   USUARIOBORRAR        VARCHAR,
   FECHABORRAR          DATETIME,
   BORRADO              INTEGER             DEFAULT 0 NOT NULL,
   CONSTRAINT PK_PEF_PERFILES PRIMARY KEY (PEF_ID)
);
CREATE SEQUENCE S_PEF_PERFILES
  AS INTEGER
  START WITH 503
  INCREMENT BY 1;

CREATE TABLE ZON_PEF_USU
(
  ZON_ID            NUMBER(16)                  NOT NULL,
  PEF_ID            NUMBER(16)                  NOT NULL,
  USU_ID            NUMBER(16)                  NOT NULL,
  ZPU_ID            NUMBER(16)                  NOT NULL,
  VERSION           INTEGER                     DEFAULT 0                     NOT NULL,
  USUARIOCREAR      VARCHAR2(10 CHAR)           NOT NULL,
  FECHACREAR        TIMESTAMP(6)                NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 CHAR),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 CHAR),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_ZON_PEF_USU PRIMARY KEY (ZPU_ID)
);
CREATE SEQUENCE S_ZON_PEF_USU
  AS INTEGER
  START WITH 503
  INCREMENT BY 1;

CREATE TABLE FUN_PEF
(
  FUN_ID            NUMBER(16)                  NOT NULL,
  PEF_ID            NUMBER(16)                  NOT NULL,
  FP_ID             NUMBER(16)                  NOT NULL,
  VERSION           NUMBER                      DEFAULT 0                     NOT NULL,
  USUARIOCREAR      VARCHAR2(10 CHAR)           NOT NULL,
  FECHACREAR        TIMESTAMP(6)                NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 CHAR),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 CHAR),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL,
  CONSTRAINT PK_FUN_PEF PRIMARY KEY (FP_ID)
);
CREATE SEQUENCE S_FUN_PEF
  AS INTEGER
  START WITH 503
  INCREMENT BY 1;
