--/*
--##########################################
--## AUTOR=LORENZO LERATE
--## FECHA_CREACION=29-2-2016
--## ARTEFACTO=web
--## VERSION_ARTEFACTO=9.1
--## INCIDENCIA_LINK=CMREC-2285
--## PRODUCTO=NO
--## Finalidad: DDL Creación de la tabla AUX_TAR_TAREAS_NOTIFICACIONES
--##           
--## INSTRUCCIONES:
--## VERSIONES:
--##        0.1 Versión inicial
--##########################################
--*/

--------------------------------------------------------
--  DDL for Table AUX_TAR_TAREAS_NOTIFICACIONES
--------------------------------------------------------
  CREATE TABLE "AUX_TAR_TAREAS_NOTIFICACIONES" 
   (	"TAR_ID" NUMBER(16,0), 
	"CLI_ID" NUMBER(16,0), 
	"EXP_ID" NUMBER(16,0), 
	"ASU_ID" NUMBER(16,0), 
	"TAR_TAR_ID" NUMBER(16,0), 
	"SPR_ID" NUMBER(16,0), 
	"SCX_ID" NUMBER(16,0), 
	"DD_EST_ID" NUMBER(16,0), 
	"DD_EIN_ID" NUMBER(16,0), 
	"DD_STA_ID" NUMBER(16,0), 
	"TAR_CODIGO" VARCHAR2(100 CHAR), 
	"TAR_TAREA" VARCHAR2(100 CHAR), 
	"TAR_DESCRIPCION" VARCHAR2(4000 CHAR), 
	"TAR_FECHA_FIN" TIMESTAMP (6), 
	"TAR_FECHA_INI" TIMESTAMP (6), 
	"TAR_EN_ESPERA" NUMBER(1,0) DEFAULT 0, 
	"TAR_ALERTA" NUMBER(1,0) DEFAULT 0, 
	"TAR_TAREA_FINALIZADA" NUMBER(1,0) DEFAULT 0, 
	"TAR_EMISOR" VARCHAR2(50 CHAR), 
	"VERSION" NUMBER(*,0) DEFAULT 0, 
	"USUARIOCREAR" VARCHAR2(50 CHAR), 
	"FECHACREAR" TIMESTAMP (6), 
	"USUARIOMODIFICAR" VARCHAR2(50 CHAR), 
	"FECHAMODIFICAR" TIMESTAMP (6), 
	"USUARIOBORRAR" VARCHAR2(50 CHAR), 
	"FECHABORRAR" TIMESTAMP (6), 
	"BORRADO" NUMBER(1,0) DEFAULT 0, 
	"PRC_ID" NUMBER(16,0), 
	"CMB_ID" NUMBER(16,0), 
	"SET_ID" NUMBER(16,0), 
	"TAR_FECHA_VENC" TIMESTAMP (6), 
	"OBJ_ID" NUMBER(16,0), 
	"TAR_FECHA_VENC_REAL" TIMESTAMP (6), 
	"DTYPE" VARCHAR2(30 CHAR) DEFAULT 'EXTTareaNotificacion', 
	"NFA_TAR_REVISADA" NUMBER(1,0) DEFAULT 0, 
	"NFA_TAR_FECHA_REVIS_ALER" TIMESTAMP (6), 
	"NFA_TAR_COMENTARIOS_ALERTA" VARCHAR2(255 CHAR), 
	"DD_TRA_ID" NUMBER(16,0), 
	"CNT_ID" NUMBER(16,0), 
	"TAR_DESTINATARIO" VARCHAR2(20 CHAR), 
	"TAR_TIPO_DESTINATARIO" VARCHAR2(20 CHAR), 
	"TAR_ID_DEST" NUMBER(16,0), 
	"PER_ID" NUMBER(16,0), 
	"RPR_REFERENCIA" NUMBER(16,0), 
	"T_REFERENCIA" NUMBER(16,0), 
	"SYS_GUID" VARCHAR2(32 BYTE)
   ) 
   /*
   SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "DRECOVERYONL8M" 
  */
  ;
  /*
--------------------------------------------------------
--  DDL for Index TAR_TAREAS_NOTIF_INDEX_5
--------------------------------------------------------

  CREATE INDEX "CM01"."TAR_TAREAS_NOTIF_INDEX_5" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("SPR_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M" ;
--------------------------------------------------------
--  DDL for Index TAR_TAREAS_NOTIF_INDEX_4
--------------------------------------------------------

  CREATE INDEX "CM01"."TAR_TAREAS_NOTIF_INDEX_4" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("TAR_TAR_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M" ;
--------------------------------------------------------
--  DDL for Index TAR_TAREAS_NOTIF_INDEX_3
--------------------------------------------------------

  CREATE INDEX "CM01"."TAR_TAREAS_NOTIF_INDEX_3" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("ASU_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M" ;
--------------------------------------------------------
--  DDL for Index TAR_TAREAS_NOTIF_INDEX_2
--------------------------------------------------------

  CREATE INDEX "CM01"."TAR_TAREAS_NOTIF_INDEX_2" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("EXP_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M" ;
--------------------------------------------------------
--  DDL for Index TAR_TAREAS_NOTIF_INDEX_1
--------------------------------------------------------

  CREATE INDEX "CM01"."TAR_TAREAS_NOTIF_INDEX_1" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("CLI_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M" ;
--------------------------------------------------------
--  DDL for Index PK_TAR_TAREAS_NOTIFICACIONES
--------------------------------------------------------

  CREATE UNIQUE INDEX "CM01"."PK_TAR_TAREAS_NOTIFICACIONES" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("TAR_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M" ;
--------------------------------------------------------
--  DDL for Index IDX_TAR_TAREAS_NOTIF_ID_DEST
--------------------------------------------------------

  CREATE INDEX "CM01"."IDX_TAR_TAREAS_NOTIF_ID_DEST" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("TAR_ID_DEST") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M" ;
--------------------------------------------------------
--  DDL for Index IDX_TAR_TAREAS_TAR_DEST
--------------------------------------------------------

  CREATE INDEX "CM01"."IDX_TAR_TAREAS_TAR_DEST" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("TAR_TIPO_DESTINATARIO", "TAR_ID_DEST") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M" ;
--------------------------------------------------------
--  DDL for Index IDX_TAR_TAREAS_NOTIF_TIPO_DEST
--------------------------------------------------------

  CREATE INDEX "CM01"."IDX_TAR_TAREAS_NOTIF_TIPO_DEST" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("TAR_TIPO_DESTINATARIO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M" ;
--------------------------------------------------------
--  DDL for Index IDX_TAR_FECHA_VENC
--------------------------------------------------------

  CREATE INDEX "CM01"."IDX_TAR_FECHA_VENC" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("TAR_FECHA_VENC") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M" ;
--------------------------------------------------------
--  DDL for Index IDX_TAR_PRC
--------------------------------------------------------

  CREATE INDEX "CM01"."IDX_TAR_PRC" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("PRC_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M" ;
--------------------------------------------------------
--  DDL for Index IDX_TAR_PENDIENTES
--------------------------------------------------------

  CREATE INDEX "CM01"."IDX_TAR_PENDIENTES" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("TAR_FECHA_FIN", "BORRADO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M" ;
--------------------------------------------------------
--  DDL for Index IDX_TAR_TAR_ID_ASU_ID
--------------------------------------------------------

  CREATE INDEX "CM01"."IDX_TAR_TAR_ID_ASU_ID" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("TAR_ID", "ASU_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M" 
  PARALLEL 4 ;
--------------------------------------------------------
--  DDL for Index IDX_TAR_TAR_TAREA_FINALIZADA
--------------------------------------------------------

  CREATE INDEX "CM01"."IDX_TAR_TAR_TAREA_FINALIZADA" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("TAR_TAREA_FINALIZADA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "DRECOVERYONL8M" ;
--------------------------------------------------------
--  DDL for Index UK_TAR_SYS_GUID
--------------------------------------------------------

  CREATE UNIQUE INDEX "CM01"."UK_TAR_SYS_GUID" ON "CM01"."TAR_TAREAS_NOTIFICACIONES" ("SYS_GUID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "DRECOVERYONL8M" ;
--------------------------------------------------------
--  Constraints for Table TAR_TAREAS_NOTIFICACIONES
--------------------------------------------------------

  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "PK_TAR_TAREAS_NOTIFICACIONES" PRIMARY KEY ("TAR_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "IRECOVERYONL8M"  ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" MODIFY ("TAR_CODIGO" NOT NULL ENABLE);
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" MODIFY ("TAR_ID" NOT NULL ENABLE);
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" MODIFY ("DTYPE" NOT NULL ENABLE);
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" MODIFY ("BORRADO" NOT NULL ENABLE);
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" MODIFY ("FECHACREAR" NOT NULL ENABLE);
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" MODIFY ("USUARIOCREAR" NOT NULL ENABLE);
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" MODIFY ("VERSION" NOT NULL ENABLE);
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" MODIFY ("TAR_ALERTA" NOT NULL ENABLE);
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" MODIFY ("TAR_EN_ESPERA" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table TAR_TAREAS_NOTIFICACIONES
--------------------------------------------------------

  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_SCX_ID" FOREIGN KEY ("SCX_ID")
	  REFERENCES "CM01"."SCX_SOL_CANCELAC_EXP" ("SCX_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_CNT" FOREIGN KEY ("CNT_ID")
	  REFERENCES "CM01"."CNT_CONTRATOS" ("CNT_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_DD_TRA_ID" FOREIGN KEY ("DD_TRA_ID")
	  REFERENCES "CM01"."NFA_DD_TRA_TIPO_REVI_ALE" ("DD_TRA_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_TAREAS_USU_ID" FOREIGN KEY ("TAR_ID_DEST")
	  REFERENCES "CMMASTER"."USU_USUARIOS" ("USU_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_TARE_FK_CMB_COMU_BPM" FOREIGN KEY ("CMB_ID")
	  REFERENCES "CM01"."CMB_COMUNICACION_BPM" ("CMB_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_TARE_FK_SPR_TA_SPR_SOLI" FOREIGN KEY ("SPR_ID")
	  REFERENCES "CM01"."SPR_SOLICITUD_PRORROGA" ("SPR_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_TARE_FK_TAR_AS_ASU_ASUN" FOREIGN KEY ("ASU_ID")
	  REFERENCES "CM01"."ASU_ASUNTOS" ("ASU_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_TARE_FK_TAR_DD_DD_EST_E" FOREIGN KEY ("DD_EST_ID")
	  REFERENCES "CMMASTER"."DD_EST_ESTADOS_ITINERARIOS" ("DD_EST_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_TARE_FK_TAR_DD_DD_STA_S" FOREIGN KEY ("DD_STA_ID")
	  REFERENCES "CMMASTER"."DD_STA_SUBTIPO_TAREA_BASE" ("DD_STA_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_TARE_FK_TAR_OBJETIVO" FOREIGN KEY ("OBJ_ID")
	  REFERENCES "CM01"."OBJ_OBJETIVO" ("OBJ_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_TARE_FK_TAR_PR_PRC_PROC" FOREIGN KEY ("PRC_ID")
	  REFERENCES "CM01"."PRC_PROCEDIMIENTOS" ("PRC_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_TARE_FK_TAR_TA_TAR_TARE" FOREIGN KEY ("TAR_TAR_ID")
	  REFERENCES "CM01"."TAR_TAREAS_NOTIFICACIONES" ("TAR_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_TARE_REFERENCE_CLI_CLIE" FOREIGN KEY ("CLI_ID")
	  REFERENCES "CM01"."CLI_CLIENTES" ("CLI_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_TARE_REFERENCE_DD_EIN_E" FOREIGN KEY ("DD_EIN_ID")
	  REFERENCES "CMMASTER"."DD_EIN_ENTIDAD_INFORMACION" ("DD_EIN_ID") ENABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_TARE_REFERENCE_EXP_EXPE" FOREIGN KEY ("EXP_ID")
	  REFERENCES "CM01"."EXP_EXPEDIENTES" ("EXP_ID") DISABLE;
  ALTER TABLE "CM01"."TAR_TAREAS_NOTIFICACIONES" ADD CONSTRAINT "FK_TAR_TAR_FK_SET_SOL_EXCL_TEL" FOREIGN KEY ("SET_ID")
	  REFERENCES "CM01"."SET_SOL_EXCL_TELECOBRO" ("SET_ID") ENABLE;
*/
