-- --------------------------------------------------------------------------------
-- Routine DDL
-- Note: comments before and after the routine body will not be stored by the server
-- --------------------------------------------------------------------------------
DELIMITER $$

CREATE DEFINER=`lindorff`@`62.15.160.2` PROCEDURE `Crear_H_Procedimiento_Especifico`(OUT o_error_status varchar(500))
MY_BLOCK_H_PRC_ESP: BEGIN

-- ===============================================================================================
-- Autor: Gonzalo Martín, PFS Group
-- Fecha creación: Septiembre 2013
-- Responsable última modificación: Gonzalo Martín, PFS Group
-- Fecha última modificación: 10/12/2013
-- Motivos del cambio: SP Lindorff v0
-- Cliente: Recovery BI Lindorff  
--
-- Descripción: Procedimiento almancenado que crea la tabla de hechos Concurso, Declarativo, 
--              Ejecución Ordinaria, Hipotecario, Monitorio.
-- ===============================================================================================

-- --------------------------------------------------------------------------------
-- DEFINICIÓN DE LOS HANDLER DE ERROR
-- --------------------------------------------------------------------------------
DECLARE EXIT handler for 1062 set o_error_status := 'Error 1062: La tabla ya existe';
DECLARE EXIT handler for 1048 set o_error_status := 'Error 1048: Has intentado insertar un valor nulo'; 
DECLARE EXIT handler for 1318 set o_error_status := 'Error 1318: Número de parámetros incorrecto'; 

-- --------------------------------------------------------------------------------
-- DEFINICIÓN DEL HANDLER GENÉRICO DE ERROR
-- --------------------------------------------------------------------------------
DECLARE EXIT handler for sqlexception set o_error_status:= 'Se ha producido un error en el proceso';


-- ----------------------------------------------------------------------------------------------
--                                   COMUNES A TODOS
-- ----------------------------------------------------------------------------------------------

 CREATE TABLE IF NOT EXISTS TEMP_PROCEDIMIENTO_ESPECIFICO_JERARQUIA (
  `DIA_ID` DATE NOT NULL,                               
  `ITER` DECIMAL(16,0) NOT NULL,   
  `FASE_ACTUAL` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL, 
  `NIVEL` decimal(2,0) NULL,
  `CONTEXTO` varchar(300) NULL,
  `CODIGO_FASE_ACTUAL` varchar(20) NULL,  
  `PRIORIDAD_FASE` INT NULL,     
  `ASUNTO` DECIMAL(16,0) NULL,
  `PRIORIDAD_PROCEDIMIENTO` INT NULL,
  `TIPO_PROCEDIMIENTO_DETALLE` DECIMAL(16,0) NULL,
  `FASE_PARALIZADA` INT NULL,
  `FASE_FINALIZADA` INT NULL,
  `FASE_CON_RECURSO` INT NULL
  ); 

 CREATE TABLE IF NOT EXISTS TEMP_PROCEDIMIENTO_ESPECIFICO_DETALLE (
  `ITER` DECIMAL(16,0) NULL ,
  `MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL
  );  


 CREATE TABLE IF NOT EXISTS TEMP_PROCEDIMIENTO_ESPECIFICO_DECISION (                              
  `FASE_ACTUAL` DECIMAL(16,0) NULL,
  `FASE_PARALIZADA` INT NULL,
  `FASE_FINALIZADA` INT NULL,
  `FECHA_HASTA` DATE NULL  
  ); 
  
  
 CREATE TABLE IF NOT EXISTS TEMP_PROCEDIMIENTO_ESPECIFICO_RECURSO (                              
  `FASE_ACTUAL` DECIMAL(16,0) NULL,
  `FASE_CON_RECURSO` INT NULL,
  `FECHA_RESOLUCION` DATE NULL  
  ); 
 
 /*
-- ----------------------------------------------------------------------------------------------
--                                      CONCURSOS
-- ----------------------------------------------------------------------------------------------
  
 CREATE TABLE IF NOT EXISTS H_CONCURSO( 
  `DIA_ID` DATE NOT NULL, 
  `FECHA_CARGA_DATOS` DATE NOT NULL,                              
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                      
  -- Dimensiones
  `FECHA_AUTO_FASE_COMUN` DATE NULL,
  `FECHA_LIQUIDACION` DATE NULL,
  `FECHA_PUBLICACION_BOE` DATE NULL,
  `FECHA_INSINUACION_FINAL_CREDITO` DATE NULL, 
  `FECHA_AUTO_APERTURA_CONVENIO` DATE NULL, 
  `FECHA_REGISTRAR_IAC` DATE NULL, 
  `FECHA_INTERPOSICION_DEMANDA` DATE NULL, 
  `FECHA_JUNTA_ACREEDORES` DATE NULL,                     
  `FECHA_REGISTRAR_RESOLUCION_APERTURA_LIQUIDACION` DATE NULL, 
  `TRAMO_DIAS_AUTO_FASE_COMUN_A_DIA_ANALISIS_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_AUTO_FASE_COMUN_A_LIQUIDACION_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_CONCURSOS` INT NULL,
  `PLAZO_AUTO_FASE_COMUN_A_DIA_ANALISIS` INT NULL,
  `PLAZO_AUTO_FASE_COMUN_A_LIQUIDACION` INT NULL, 
  `PLAZO_PUBLICACION_BOE_A_INSINUACION_CREDITO` INT NULL, 
  `PLAZO_AUTO_FASE_COMUN_A_AUTO_APERTURA_CONVENIO` INT NULL, 
  `PLAZO_REGISTRAR_IAC_A_INTERPOSICION_DEMANDA` INT NULL, 
  `PLAZO_AUTO_APERTURA_CONVENIO_A_JUNTA_ACREEDORES` INT NULL, 
  `PLAZO_AUTO_FASE_COMUN_A_REG_RESOL_APERTURA_LIQUIDACION_DIRECTO` INT NULL,
  `PLAZO_AUTO_FASE_COMUN_A_REG_RESOL_APERTURA_LIQUIDACION_CONVENIO` INT NULL     
 );
 

 CREATE TABLE IF NOT EXISTS H_CONCURSO_MES( 
  `MES_ID` DECIMAL(16,0) NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_AUTO_FASE_COMUN` DATE NULL,
  `FECHA_LIQUIDACION` DATE NULL,
  `FECHA_PUBLICACION_BOE` DATE NULL,
  `FECHA_INSINUACION_FINAL_CREDITO` DATE NULL, 
  `FECHA_AUTO_APERTURA_CONVENIO` DATE NULL, 
  `FECHA_REGISTRAR_IAC` DATE NULL, 
  `FECHA_INTERPOSICION_DEMANDA` DATE NULL, 
  `FECHA_JUNTA_ACREEDORES` DATE NULL,                     
  `FECHA_REGISTRAR_RESOLUCION_APERTURA_LIQUIDACION` DATE NULL, 
  `TRAMO_DIAS_AUTO_FASE_COMUN_A_DIA_ANALISIS_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_AUTO_FASE_COMUN_A_LIQUIDACION_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_CONCURSOS` INT NULL,
  `PLAZO_AUTO_FASE_COMUN_A_DIA_ANALISIS` INT NULL,
  `PLAZO_AUTO_FASE_COMUN_A_LIQUIDACION` INT NULL, 
  `PLAZO_PUBLICACION_BOE_A_INSINUACION_CREDITO` INT NULL, 
  `PLAZO_AUTO_FASE_COMUN_A_AUTO_APERTURA_CONVENIO` INT NULL, 
  `PLAZO_REGISTRAR_IAC_A_INTERPOSICION_DEMANDA` INT NULL, 
  `PLAZO_AUTO_APERTURA_CONVENIO_A_JUNTA_ACREEDORES` INT NULL, 
  `PLAZO_AUTO_FASE_COMUN_A_REG_RESOL_APERTURA_LIQUIDACION_DIRECTO` INT NULL,
  `PLAZO_AUTO_FASE_COMUN_A_REG_RESOL_APERTURA_LIQUIDACION_CONVENIO` INT NULL     
 );
 

 CREATE TABLE IF NOT EXISTS H_CONCURSO_TRIMESTRE( 
  `TRIMESTRE_ID` DECIMAL(16,0) NOT NULL, 
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_AUTO_FASE_COMUN` DATE NULL,
  `FECHA_LIQUIDACION` DATE NULL,
  `FECHA_PUBLICACION_BOE` DATE NULL,
  `FECHA_INSINUACION_FINAL_CREDITO` DATE NULL, 
  `FECHA_AUTO_APERTURA_CONVENIO` DATE NULL, 
  `FECHA_REGISTRAR_IAC` DATE NULL, 
  `FECHA_INTERPOSICION_DEMANDA` DATE NULL, 
  `FECHA_JUNTA_ACREEDORES` DATE NULL,                     
  `FECHA_REGISTRAR_RESOLUCION_APERTURA_LIQUIDACION` DATE NULL, 
  `TRAMO_DIAS_AUTO_FASE_COMUN_A_DIA_ANALISIS_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_AUTO_FASE_COMUN_A_LIQUIDACION_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_CONCURSOS` INT NULL,
  `PLAZO_AUTO_FASE_COMUN_A_DIA_ANALISIS` INT NULL,
  `PLAZO_AUTO_FASE_COMUN_A_LIQUIDACION` INT NULL, 
  `PLAZO_PUBLICACION_BOE_A_INSINUACION_CREDITO` INT NULL, 
  `PLAZO_AUTO_FASE_COMUN_A_AUTO_APERTURA_CONVENIO` INT NULL, 
  `PLAZO_REGISTRAR_IAC_A_INTERPOSICION_DEMANDA` INT NULL, 
  `PLAZO_AUTO_APERTURA_CONVENIO_A_JUNTA_ACREEDORES` INT NULL, 
  `PLAZO_AUTO_FASE_COMUN_A_REG_RESOL_APERTURA_LIQUIDACION_DIRECTO` INT NULL,
  `PLAZO_AUTO_FASE_COMUN_A_REG_RESOL_APERTURA_LIQUIDACION_CONVENIO` INT NULL     
 );
 
 
 
 CREATE TABLE IF NOT EXISTS H_CONCURSO_ANIO( 
  `ANIO_ID` DECIMAL(16,0) NOT NULL, 
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                      
  -- Dimensiones
  `FECHA_AUTO_FASE_COMUN` DATE NULL,
  `FECHA_LIQUIDACION` DATE NULL,
  `FECHA_PUBLICACION_BOE` DATE NULL,
  `FECHA_INSINUACION_FINAL_CREDITO` DATE NULL, 
  `FECHA_AUTO_APERTURA_CONVENIO` DATE NULL, 
  `FECHA_REGISTRAR_IAC` DATE NULL, 
  `FECHA_INTERPOSICION_DEMANDA` DATE NULL, 
  `FECHA_JUNTA_ACREEDORES` DATE NULL,                     
  `FECHA_REGISTRAR_RESOLUCION_APERTURA_LIQUIDACION` DATE NULL, 
  `TRAMO_DIAS_AUTO_FASE_COMUN_A_DIA_ANALISIS_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_AUTO_FASE_COMUN_A_LIQUIDACION_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_CONCURSOS` INT NULL,
  `PLAZO_AUTO_FASE_COMUN_A_DIA_ANALISIS` INT NULL,
  `PLAZO_AUTO_FASE_COMUN_A_LIQUIDACION` INT NULL, 
  `PLAZO_PUBLICACION_BOE_A_INSINUACION_CREDITO` INT NULL, 
  `PLAZO_AUTO_FASE_COMUN_A_AUTO_APERTURA_CONVENIO` INT NULL, 
  `PLAZO_REGISTRAR_IAC_A_INTERPOSICION_DEMANDA` INT NULL, 
  `PLAZO_AUTO_APERTURA_CONVENIO_A_JUNTA_ACREEDORES` INT NULL, 
  `PLAZO_AUTO_FASE_COMUN_A_REG_RESOL_APERTURA_LIQUIDACION_DIRECTO` INT NULL,
  `PLAZO_AUTO_FASE_COMUN_A_REG_RESOL_APERTURA_LIQUIDACION_CONVENIO` INT NULL     
 );
 
 
 CREATE TABLE IF NOT EXISTS TEMP_CONCURSO_JERARQUIA (
  `DIA_ID` DATE NOT NULL,                               
  `ITER` DECIMAL(16,0) NOT NULL,   
  `FASE_ACTUAL` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL, 
  `NIVEL` decimal(2,0) NULL,
  `CONTEXTO` varchar(300) NULL,
  `CODIGO_FASE_ACTUAL` varchar(20) NULL,  
  `PRIORIDAD_FASE` INT NULL,   
  `ASUNTO` DECIMAL(16,0) NULL,
  `PRIORIDAD_PROCEDIMIENTO` INT NULL,
  `TIPO_PROCEDIMIENTO_DETALLE` DECIMAL(16,0) NULL,
  `FASE_PARALIZADA` INT NULL,
  `FASE_FINALIZADA` INT NULL,
  `FASE_CON_RECURSO` INT NULL
  ); 
  
  
 CREATE TABLE IF NOT EXISTS TEMP_CONCURSO_DETALLE (
  `ITER` DECIMAL(16,0) NULL ,
  `MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FECHA_AUTO_FASE_COMUN` DATE NULL,
  `FECHA_LIQUIDACION` DATE NULL,
  `FECHA_PUBLICACION_BOE` DATE NULL,
  `FECHA_INSINUACION_FINAL_CREDITO` DATE NULL, 
  `FECHA_AUTO_APERTURA_CONVENIO` DATE NULL, 
  `FECHA_REGISTRAR_IAC` DATE NULL, 
  `FECHA_INTERPOSICION_DEMANDA` DATE NULL, 
  `FECHA_JUNTA_ACREEDORES` DATE NULL,                     
  `FECHA_REGISTRAR_RESOLUCION_APERTURA_LIQUIDACION` DATE NULL
  );  
  

 CREATE TABLE IF NOT EXISTS TEMP_CONCURSO_TAREA (
  `ITER` DECIMAL(16,0) NULL,
  `FASE` DECIMAL(16,0) NULL,
  `TAREA` DECIMAL(16,0) NULL,
  `DESCRIPCION_TAREA` VARCHAR(100) NULL,
  `FECHA_INI` DATETIME NULL, 
  `FECHA_FIN` DATETIME NULL,
  `TAP_ID` DECIMAL(16,0) NULL,
  `TAR_ID` DECIMAL(16,0) NULL,
  `TEX_ID` DECIMAL(16,0) NULL,
  `DESCRIPCION_FORMULARIO` VARCHAR(50) NULL,        -- TEV_NOMBRE (TEV_TAREA_EXTERNA_VALOR)
  `FECHA_FORMULARIO` DATE NULL                      -- TEV_VALOR (TEV_TAREA_EXTERNA_VALOR)       
  );   
  
  
-- ----------------------------------------------------------------------------------------------
--                                      DECLARATIVO
-- ----------------------------------------------------------------------------------------------

 CREATE TABLE IF NOT EXISTS H_DECLARATIVO( 
  `DIA_ID` DATE NOT NULL,     
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                      
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_DECLARATIVO` DATE NULL,
  `FECHA_RESOLUCION_FIRME` DATE NULL,                     
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_DECL_A_RESOLUCION_FIRME_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_DECLARATIVOS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_DECL_A_RESOLUCION_FIRME` INT NULL    
 );
 

 CREATE TABLE IF NOT EXISTS H_DECLARATIVO_MES( 
  `MES_ID` DECIMAL(16,0) NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                      
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_DECLARATIVO` DATE NULL,
  `FECHA_RESOLUCION_FIRME` DATE NULL,                     
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_DECL_A_RESOLUCION_FIRME_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_DECLARATIVOS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_DECL_A_RESOLUCION_FIRME` INT NULL    
 );
 

 CREATE TABLE IF NOT EXISTS H_DECLARATIVO_TRIMESTRE( 
  `TRIMESTRE_ID` DECIMAL(16,0) NOT NULL, 
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_DECLARATIVO` DATE NULL,
  `FECHA_RESOLUCION_FIRME` DATE NULL,                     
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_DECL_A_RESOLUCION_FIRME_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_DECLARATIVOS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_DECL_A_RESOLUCION_FIRME` INT NULL    
 );
 
 
 CREATE TABLE IF NOT EXISTS H_DECLARATIVO_ANIO( 
  `ANIO_ID` DECIMAL(16,0) NOT NULL, 
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                     
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_DECLARATIVO` DATE NULL,
  `FECHA_RESOLUCION_FIRME` DATE NULL,                     
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_DECL_A_RESOLUCION_FIRME_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_DECLARATIVOS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_DECL_A_RESOLUCION_FIRME` INT NULL    
 );
 
 
 CREATE TABLE IF NOT EXISTS TEMP_DECLARATIVO_JERARQUIA (
  `DIA_ID` DATE NOT NULL,                               
  `ITER` DECIMAL(16,0) NOT NULL,   
  `FASE_ACTUAL` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL, 
  `NIVEL` decimal(2,0) NULL,
  `CONTEXTO` varchar(300) NULL,
  `CODIGO_FASE_ACTUAL` varchar(20) NULL,  
  `PRIORIDAD_FASE` INT NULL,    
  `ASUNTO` DECIMAL(16,0) NULL,
  `PRIORIDAD_PROCEDIMIENTO` INT NULL,
  `TIPO_PROCEDIMIENTO_DETALLE` DECIMAL(16,0) NULL,
  `FASE_PARALIZADA` INT NULL,
  `FASE_FINALIZADA` INT NULL,
  `FASE_CON_RECURSO` INT NULL
  ); 
  
  
 CREATE TABLE IF NOT EXISTS TEMP_DECLARATIVO_DETALLE (
  `ITER` DECIMAL(16,0) NULL ,
  `MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FECHA_INTERPOSICION_DEMANDA_DECLARATIVO` DATE NULL,
  `FECHA_RESOLUCION_FIRME` DATE NULL
  );  
  

 CREATE TABLE IF NOT EXISTS TEMP_DECLARATIVO_TAREA (
  `ITER` DECIMAL(16,0) NULL,
  `FASE` DECIMAL(16,0) NULL,
  `TAREA` DECIMAL(16,0) NULL,
  `DESCRIPCION_TAREA` VARCHAR(100) NULL,
  `FECHA_INI` DATETIME NULL, 
  `FECHA_FIN` DATETIME NULL,
  `TAP_ID` DECIMAL(16,0) NULL,
  `TAR_ID` DECIMAL(16,0) NULL,
  `TEX_ID` DECIMAL(16,0) NULL,
  `DESCRIPCION_FORMULARIO` VARCHAR(50) NULL,        -- TEV_NOMBRE (TEV_TAREA_EXTERNA_VALOR)
  `FECHA_FORMULARIO` DATE NULL                      -- TEV_VALOR (TEV_TAREA_EXTERNA_VALOR)       
  );   
  
  
-- ----------------------------------------------------------------------------------------------
--                                      EJECUCION_ORDINARIA
-- ----------------------------------------------------------------------------------------------

 CREATE TABLE IF NOT EXISTS H_EJECUCION_ORDINARIA( 
  `DIA_ID` DATE NOT NULL, 
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_EJECUCION_ORDINARIA` DATE NULL,
  `FECHA_INICIO_APREMIO` DATE NULL,                     
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_ORD_A_INICIO_APREMIO_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_EJECUCION_ORDINARIAS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_ORD_A_INICIO_APREMIO` INT NULL    
 );
 

 CREATE TABLE IF NOT EXISTS H_EJECUCION_ORDINARIA_MES( 
  `MES_ID` DECIMAL(16,0) NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                      
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_EJECUCION_ORDINARIA` DATE NULL,
  `FECHA_INICIO_APREMIO` DATE NULL,                     
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_ORD_A_INICIO_APREMIO_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_EJECUCION_ORDINARIAS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_ORD_A_INICIO_APREMIO` INT NULL    
 );
 

 CREATE TABLE IF NOT EXISTS H_EJECUCION_ORDINARIA_TRIMESTRE( 
  `TRIMESTRE_ID` DECIMAL(16,0) NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_EJECUCION_ORDINARIA` DATE NULL,
  `FECHA_INICIO_APREMIO` DATE NULL,                     
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_ORD_A_INICIO_APREMIO_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_EJECUCION_ORDINARIAS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_ORD_A_INICIO_APREMIO` INT NULL    
 );
 
 
 CREATE TABLE IF NOT EXISTS H_EJECUCION_ORDINARIA_ANIO( 
  `ANIO_ID` DECIMAL(16,0) NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_EJECUCION_ORDINARIA` DATE NULL,
  `FECHA_INICIO_APREMIO` DATE NULL,                     
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_ORD_A_INICIO_APREMIO_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_EJECUCION_ORDINARIAS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_ORD_A_INICIO_APREMIO` INT NULL    
 );
 
 
 CREATE TABLE IF NOT EXISTS TEMP_EJECUCION_ORDINARIA_JERARQUIA (
  `DIA_ID` DATE NOT NULL,                               
  `ITER` DECIMAL(16,0) NOT NULL,   
  `FASE_ACTUAL` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL, 
  `NIVEL` decimal(2,0) NULL,
  `CONTEXTO` varchar(300) NULL,
  `CODIGO_FASE_ACTUAL` varchar(20) NULL,  
  `PRIORIDAD_FASE` INT NULL, 
  `ASUNTO` DECIMAL(16,0) NULL,
  `PRIORIDAD_PROCEDIMIENTO` INT NULL,
  `TIPO_PROCEDIMIENTO_DETALLE` DECIMAL(16,0) NULL,
  `FASE_PARALIZADA` INT NULL,
  `FASE_FINALIZADA` INT NULL,
  `FASE_CON_RECURSO` INT NULL
  ); 
  
  
 CREATE TABLE IF NOT EXISTS TEMP_EJECUCION_ORDINARIA_DETALLE (
  `ITER` DECIMAL(16,0) NULL ,
  `MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FECHA_INTERPOSICION_DEMANDA_EJECUCION_ORDINARIA` DATE NULL,
  `FECHA_INICIO_APREMIO` DATE NULL
  );  
  

 CREATE TABLE IF NOT EXISTS TEMP_EJECUCION_ORDINARIA_TAREA (
  `ITER` DECIMAL(16,0) NULL,
  `FASE` DECIMAL(16,0) NULL,
  `TAREA` DECIMAL(16,0) NULL,
  `DESCRIPCION_TAREA` VARCHAR(100) NULL,
  `FECHA_INI` DATETIME NULL, 
  `FECHA_FIN` DATETIME NULL,
  `TAP_ID` DECIMAL(16,0) NULL,
  `TAR_ID` DECIMAL(16,0) NULL,
  `TEX_ID` DECIMAL(16,0) NULL,
  `DESCRIPCION_FORMULARIO` VARCHAR(50) NULL,        -- TEV_NOMBRE (TEV_TAREA_EXTERNA_VALOR)
  `FECHA_FORMULARIO` DATE NULL                      -- TEV_VALOR (TEV_TAREA_EXTERNA_VALOR)       
  );   
  
  

-- ----------------------------------------------------------------------------------------------
--                                      HIPOTECARIO
-- ----------------------------------------------------------------------------------------------

 CREATE TABLE IF NOT EXISTS H_HIPOTECARIO( 
  `DIA_ID` DATE NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                                        
  -- Dimensiones
  `FECHA_CREACION_ASUNTO` DATE NULL,
  `FECHA_INTERPOSICION_DEMANDA_HIPOTECARIO` DATE NULL,
  `FECHA_SUBASTA` DATE NULL,  
  `FECHA_CESION_REMATE` DATE NULL, 
  `FECHA_ADJUDICACION` DATE NULL,  
  `FASE_SUBASTA_HIPOTECARIO_ID` DECIMAL(16,0) NULL,                                 
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_HIP_A_SUBASTA_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_HIPOTECARIOS` INT NULL,
  `PLAZO_CREACION_ASUNTO_A_SUBASTA` INT NULL,
  `PLAZO_CREACION_ASUNTO_A_CESION_REMATE` INT NULL,
  `PLAZO_CREACION_ASUNTO_A_ADJUDICACION` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_HIP_A_SUBASTA` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_HIP_A_CESION_REMATE` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_HIP_A_ADJUDICACION` INT NULL ,
  `PLAZO_SUBASTA_A_ADJUDICACION` INT NULL      
 );
 

 CREATE TABLE IF NOT EXISTS H_HIPOTECARIO_MES( 
  `MES_ID` DECIMAL(16,0) NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                                         
  -- Dimensiones      
  `FECHA_CREACION_ASUNTO` DATE NULL,
  `FECHA_INTERPOSICION_DEMANDA_HIPOTECARIO` DATE NULL,
  `FECHA_SUBASTA` DATE NULL, 
  `FECHA_CESION_REMATE` DATE NULL, 
  `FECHA_ADJUDICACION` DATE NULL, 
  `FASE_SUBASTA_HIPOTECARIO_ID` DECIMAL(16,0) NULL,                                  
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_HIP_A_SUBASTA_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_HIPOTECARIOS` INT NULL,
  `PLAZO_CREACION_ASUNTO_A_SUBASTA` INT NULL,
  `PLAZO_CREACION_ASUNTO_A_CESION_REMATE` INT NULL,
  `PLAZO_CREACION_ASUNTO_A_ADJUDICACION` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_HIP_A_SUBASTA` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_HIP_A_CESION_REMATE` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_HIP_A_ADJUDICACION` INT NULL ,
  `PLAZO_SUBASTA_A_ADJUDICACION` INT NULL      
 );
 

 CREATE TABLE IF NOT EXISTS H_HIPOTECARIO_TRIMESTRE( 
  `TRIMESTRE_ID` DECIMAL(16,0) NOT NULL,   
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                                        
  -- Dimensiones
  `FECHA_CREACION_ASUNTO` DATE NULL,
  `FECHA_INTERPOSICION_DEMANDA_HIPOTECARIO` DATE NULL,
  `FECHA_SUBASTA` DATE NULL,  
  `FECHA_CESION_REMATE` DATE NULL, 
  `FECHA_ADJUDICACION` DATE NULL, 
  `FASE_SUBASTA_HIPOTECARIO_ID` DECIMAL(16,0) NULL,                                 
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_HIP_A_SUBASTA_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_HIPOTECARIOS` INT NULL,
  `PLAZO_CREACION_ASUNTO_A_SUBASTA` INT NULL,
  `PLAZO_CREACION_ASUNTO_A_CESION_REMATE` INT NULL,
  `PLAZO_CREACION_ASUNTO_A_ADJUDICACION` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_HIP_A_SUBASTA` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_HIP_A_CESION_REMATE` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_HIP_A_ADJUDICACION` INT NULL ,
  `PLAZO_SUBASTA_A_ADJUDICACION` INT NULL      
 );
 
 
 CREATE TABLE IF NOT EXISTS H_HIPOTECARIO_ANIO( 
  `ANIO_ID` DECIMAL(16,0) NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                                        
  -- Dimensiones
  `FECHA_CREACION_ASUNTO` DATE NULL,
  `FECHA_INTERPOSICION_DEMANDA_HIPOTECARIO` DATE NULL,
  `FECHA_SUBASTA` DATE NULL, 
  `FECHA_CESION_REMATE` DATE NULL, 
  `FECHA_ADJUDICACION` DATE NULL, 
  `FASE_SUBASTA_HIPOTECARIO_ID` DECIMAL(16,0) NULL,                                 
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_HIP_A_SUBASTA_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_HIPOTECARIOS` INT NULL,
  `PLAZO_CREACION_ASUNTO_A_SUBASTA` INT NULL,
  `PLAZO_CREACION_ASUNTO_A_CESION_REMATE` INT NULL,
  `PLAZO_CREACION_ASUNTO_A_ADJUDICACION` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_HIP_A_SUBASTA` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_HIP_A_CESION_REMATE` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_HIP_A_ADJUDICACION` INT NULL ,
  `PLAZO_SUBASTA_A_ADJUDICACION` INT NULL      
 );
 
 
 CREATE TABLE IF NOT EXISTS TEMP_HIPOTECARIO_JERARQUIA (
  `DIA_ID` DATE NOT NULL,                               
  `ITER` DECIMAL(16,0) NOT NULL,   
  `FASE_ACTUAL` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL, 
  `NIVEL` decimal(2,0) NULL,
  `CONTEXTO` varchar(300) NULL,
  `CODIGO_FASE_ACTUAL` varchar(20) NULL,  
  `PRIORIDAD_FASE` INT NULL,      
  `ASUNTO` DECIMAL(16,0) NULL,
  `PRIORIDAD_PROCEDIMIENTO` INT NULL,
  `TIPO_PROCEDIMIENTO_DETALLE` DECIMAL(16,0) NULL,
  `FASE_PARALIZADA` INT NULL,
  `FASE_FINALIZADA` INT NULL,
  `FASE_CON_RECURSO` INT NULL
  ); 
  
  
 CREATE TABLE IF NOT EXISTS TEMP_HIPOTECARIO_DETALLE (
  `ITER` DECIMAL(16,0) NULL ,
  `ASUNTO` DECIMAL(16,0) NULL,
  `MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FECHA_CREACION_ASUNTO` DATE NULL,
  `FECHA_INTERPOSICION_DEMANDA_HIPOTECARIO` DATE NULL,
  `FECHA_SUBASTA` DATE NULL,
  `FECHA_CESION_REMATE` DATE NULL, 
  `FECHA_ADJUDICACION` DATE NULL, 
  `ULTIMA_TAREA_CREADA` DECIMAL(16,0) NULL,
  `FECHA_ULTIMA_TAREA_CREADA` DATETIME NULL,
  `TAP_ID_ULTIMA_TAREA_CREADA` DECIMAL(16,0) NULL,
  `FASE_SUBASTA` DECIMAL(16,0) NULL
  );  
  

 CREATE TABLE IF NOT EXISTS TEMP_HIPOTECARIO_TAREA (
  `ITER` DECIMAL(16,0) NULL,
  `FASE` DECIMAL(16,0) NULL,
  `TAREA` DECIMAL(16,0) NULL,
  `DESCRIPCION_TAREA` VARCHAR(100) NULL,
  `FECHA_INI` DATETIME NULL, 
  `FECHA_FIN` DATETIME NULL,
  `TAP_ID` DECIMAL(16,0) NULL,
  `TAR_ID` DECIMAL(16,0) NULL,
  `TEX_ID` DECIMAL(16,0) NULL,
  `DESCRIPCION_FORMULARIO` VARCHAR(50) NULL,        -- TEV_NOMBRE (TEV_TAREA_EXTERNA_VALOR)
  `FECHA_FORMULARIO` DATE NULL                      -- TEV_VALOR (TEV_TAREA_EXTERNA_VALOR)       
  );   
  
  */
-- ----------------------------------------------------------------------------------------------
--                                      MONITORIO
-- ----------------------------------------------------------------------------------------------


 CREATE TABLE IF NOT EXISTS H_MONITORIO( 
  `DIA_ID` DATE NOT NULL,     
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_MONITORIO` DATE NULL,
  `FECHA_CONFIRMACION_ADMISION_DEMANDA` DATE NULL,  
  `FECHA_CONFIRMACION_REQUERIMIENTO` DATE NULL, 
  `FECHA_DECRETO_FINALIZACIZACION` DATE NULL,  
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_MON_A_ADMISION_DEMANDA_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_MON_A_DECRETO_FINALIZACION_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_ADMISION_DEMANDA_MON_A_REQUERIMIENTO_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_REQUERIMIENTO_MON_A_DECRETO_FINALIZACIZACION_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_MONITORIOS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_MON_A_ADMISION_DEMANDA` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_MON_A_DECRETO_FINALIZACION` INT NULL,  
  `PLAZO_ADMISION_DEMANDA_MON_A_REQUERIMIENTO` INT NULL,
  `PLAZO_REQUERIMIENTO_MON_A_DECRETO_FINALIZACIZACION` INT NULL  
 );
 

 CREATE TABLE IF NOT EXISTS H_MONITORIO_MES( 
  `MES_ID` DECIMAL(16,0) NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_MONITORIO` DATE NULL,
  `FECHA_CONFIRMACION_ADMISION_DEMANDA` DATE NULL,  
  `FECHA_CONFIRMACION_REQUERIMIENTO` DATE NULL, 
  `FECHA_DECRETO_FINALIZACIZACION` DATE NULL,  
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_MON_A_ADMISION_DEMANDA_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_MON_A_DECRETO_FINALIZACION_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_ADMISION_DEMANDA_MON_A_REQUERIMIENTO_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_REQUERIMIENTO_MON_A_DECRETO_FINALIZACIZACION_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_MONITORIOS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_MON_A_ADMISION_DEMANDA` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_MON_A_DECRETO_FINALIZACION` INT NULL,  
  `PLAZO_ADMISION_DEMANDA_MON_A_REQUERIMIENTO` INT NULL,
  `PLAZO_REQUERIMIENTO_MON_A_DECRETO_FINALIZACIZACION` INT NULL  
 );
 

 CREATE TABLE IF NOT EXISTS H_MONITORIO_TRIMESTRE( 
  `TRIMESTRE_ID` DECIMAL(16,0) NOT NULL,   
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_MONITORIO` DATE NULL,
  `FECHA_CONFIRMACION_ADMISION_DEMANDA` DATE NULL,  
  `FECHA_CONFIRMACION_REQUERIMIENTO` DATE NULL, 
  `FECHA_DECRETO_FINALIZACIZACION` DATE NULL,  
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_MON_A_ADMISION_DEMANDA_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_MON_A_DECRETO_FINALIZACION_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_ADMISION_DEMANDA_MON_A_REQUERIMIENTO_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_REQUERIMIENTO_MON_A_DECRETO_FINALIZACIZACION_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_MONITORIOS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_MON_A_ADMISION_DEMANDA` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_MON_A_DECRETO_FINALIZACION` INT NULL,  
  `PLAZO_ADMISION_DEMANDA_MON_A_REQUERIMIENTO` INT NULL,
  `PLAZO_REQUERIMIENTO_MON_A_DECRETO_FINALIZACIZACION` INT NULL  
 );
 
 
 CREATE TABLE IF NOT EXISTS H_MONITORIO_ANIO( 
  `ANIO_ID` DECIMAL(16,0) NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_MONITORIO` DATE NULL,
  `FECHA_CONFIRMACION_ADMISION_DEMANDA` DATE NULL,  
  `FECHA_CONFIRMACION_REQUERIMIENTO` DATE NULL, 
  `FECHA_DECRETO_FINALIZACIZACION` DATE NULL,  
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_MON_A_ADMISION_DEMANDA_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_MON_A_DECRETO_FINALIZACION_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_ADMISION_DEMANDA_MON_A_REQUERIMIENTO_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_REQUERIMIENTO_MON_A_DECRETO_FINALIZACIZACION_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_MONITORIOS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_MON_A_ADMISION_DEMANDA` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_MON_A_DECRETO_FINALIZACION` INT NULL,  
  `PLAZO_ADMISION_DEMANDA_MON_A_REQUERIMIENTO` INT NULL,
  `PLAZO_REQUERIMIENTO_MON_A_DECRETO_FINALIZACIZACION` INT NULL  
 );


 
 CREATE TABLE IF NOT EXISTS TEMP_MONITORIO_JERARQUIA (
  `DIA_ID` DATE NOT NULL,                               
  `ITER` DECIMAL(16,0) NOT NULL,   
  `FASE_ACTUAL` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL, 
  `NIVEL` decimal(2,0) NULL,
  `CONTEXTO` varchar(300) NULL,
  `CODIGO_FASE_ACTUAL` varchar(20) NULL,  
  `PRIORIDAD_FASE` INT NULL,      
  `ASUNTO` DECIMAL(16,0) NULL,
  `PRIORIDAD_PROCEDIMIENTO` INT NULL,
  `TIPO_PROCEDIMIENTO_DETALLE` DECIMAL(16,0) NULL,
  `FASE_PARALIZADA` INT NULL,
  `FASE_FINALIZADA` INT NULL,
  `FASE_CON_RECURSO` INT NULL
  ); 
  
  
 CREATE TABLE IF NOT EXISTS TEMP_MONITORIO_DETALLE (
  `ITER` DECIMAL(16,0) NULL ,
  `MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FECHA_INTERPOSICION_DEMANDA_MONITORIO` DATE NULL,
  `FECHA_CONFIRMACION_ADMISION_DEMANDA` DATE NULL,
  `FECHA_CONFIRMACION_REQUERIMIENTO` DATE NULL,
  `FECHA_DECRETO_FINALIZACIZACION` DATE NULL
  );    


 CREATE TABLE IF NOT EXISTS TEMP_MONITORIO_RESOLUCION (
  `ITER` DECIMAL(16,0) NULL,
  `FASE` DECIMAL(16,0) NULL,
  `BPM_GVA_ID` DECIMAL(16,0) NULL,
  `FECHA_FORMULARIO` DATE NULL           -- BPM_GVA_VALOR       
  );   
  
  
-- ----------------------------------------------------------------------------------------------
--                                      ETJ
-- ----------------------------------------------------------------------------------------------
 CREATE TABLE IF NOT EXISTS H_ETJ( 
  `DIA_ID` DATE NOT NULL,     
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_ETJ` DATE NULL,
  `FECHA_AUTO_ETJ` DATE NULL,  
  `FECHA_NOTIFICACION_ETJ` DATE NULL, 
  `FECHA_COBRO_ETJ` DATE NULL,  
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_ETJ_A_AUTO_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_AUTO_ETJ_A_NOTIFICACION_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_NOTIFICACION_ETJ_A_COBRO_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_ETJS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_ETJ_A_AUTO` DECIMAL(16,0) NULL,
  `PLAZO_AUTO_ETJ_A_NOTIFICACION` DECIMAL(16,0) NULL,
  `PLAZO_NOTIFICACION_ETJ_A_COBRO` DECIMAL(16,0) NULL  
 );
 

 CREATE TABLE IF NOT EXISTS H_ETJ_MES( 
  `MES_ID` DECIMAL(16,0) NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_ETJ` DATE NULL,
  `FECHA_AUTO_ETJ` DATE NULL,  
  `FECHA_NOTIFICACION_ETJ` DATE NULL, 
  `FECHA_COBRO_ETJ` DATE NULL,  
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_ETJ_A_AUTO_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_AUTO_ETJ_A_NOTIFICACION_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_NOTIFICACION_ETJ_A_COBRO_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_ETJS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_ETJ_A_AUTO` DECIMAL(16,0) NULL,
  `PLAZO_AUTO_ETJ_A_NOTIFICACION` DECIMAL(16,0) NULL,
  `PLAZO_NOTIFICACION_ETJ_A_COBRO` DECIMAL(16,0) NULL  
 );
 

 CREATE TABLE IF NOT EXISTS H_ETJ_TRIMESTRE( 
  `TRIMESTRE_ID` DECIMAL(16,0) NOT NULL,   
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_ETJ` DATE NULL,
  `FECHA_AUTO_ETJ` DATE NULL,  
  `FECHA_NOTIFICACION_ETJ` DATE NULL, 
  `FECHA_COBRO_ETJ` DATE NULL,  
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_ETJ_A_AUTO_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_AUTO_ETJ_A_NOTIFICACION_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_NOTIFICACION_ETJ_A_COBRO_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_ETJS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_ETJ_A_AUTO` DECIMAL(16,0) NULL,
  `PLAZO_AUTO_ETJ_A_NOTIFICACION` DECIMAL(16,0) NULL,
  `PLAZO_NOTIFICACION_ETJ_A_COBRO` DECIMAL(16,0) NULL  
 );
 
 
 CREATE TABLE IF NOT EXISTS H_ETJ_ANIO( 
  `ANIO_ID` DECIMAL(16,0) NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                       
  -- Dimensiones
  `FECHA_INTERPOSICION_DEMANDA_ETJ` DATE NULL,
  `FECHA_AUTO_ETJ` DATE NULL,  
  `FECHA_NOTIFICACION_ETJ` DATE NULL, 
  `FECHA_COBRO_ETJ` DATE NULL,  
  `TRAMO_DIAS_INTERPOSICION_DEMANDA_ETJ_A_AUTO_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_AUTO_ETJ_A_NOTIFICACION_ID` DECIMAL(16,0) NULL,
  `TRAMO_DIAS_NOTIFICACION_ETJ_A_COBRO_ID` DECIMAL(16,0) NULL,
  -- Métricas
  `NUM_ETJS` INT NULL,
  `PLAZO_INTERPOSICION_DEMANDA_ETJ_A_AUTO` DECIMAL(16,0) NULL,
  `PLAZO_AUTO_ETJ_A_NOTIFICACION` DECIMAL(16,0) NULL,
  `PLAZO_NOTIFICACION_ETJ_A_COBRO` DECIMAL(16,0) NULL  
 );


 
 CREATE TABLE IF NOT EXISTS TEMP_ETJ_JERARQUIA (
  `DIA_ID` DATE NOT NULL,                               
  `ITER` DECIMAL(16,0) NOT NULL,   
  `FASE_ACTUAL` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL, 
  `NIVEL` decimal(2,0) NULL,
  `CONTEXTO` varchar(300) NULL,
  `CODIGO_FASE_ACTUAL` varchar(20) NULL,  
  `PRIORIDAD_FASE` INT NULL,      
  `ASUNTO` DECIMAL(16,0) NULL,
  `PRIORIDAD_PROCEDIMIENTO` INT NULL,
  `TIPO_PROCEDIMIENTO_DETALLE` DECIMAL(16,0) NULL,
  `FASE_PARALIZADA` INT NULL,
  `FASE_FINALIZADA` INT NULL,
  `FASE_CON_RECURSO` INT NULL
  ); 
  
  
 CREATE TABLE IF NOT EXISTS TEMP_ETJ_DETALLE (
  `ITER` DECIMAL(16,0) NULL ,
  `MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FECHA_INTERPOSICION_DEMANDA_ETJ` DATE NULL,
  `FECHA_AUTO_ETJ` DATE NULL,  
  `FECHA_NOTIFICACION_ETJ` DATE NULL, 
  `FECHA_COBRO_ETJ` DATE NULL
  );    


 CREATE TABLE IF NOT EXISTS TEMP_ETJ_RESOLUCION (
  `ITER` DECIMAL(16,0) NULL,
  `FASE` DECIMAL(16,0) NULL,
  `BPM_GVA_ID` DECIMAL(16,0) NULL,
  `FECHA_FORMULARIO` DATE NULL           -- BPM_GVA_VALOR       
  );   
    
/*
-- ----------------------------------------------------------------------------------------------
--                                      EJECUCION_NOTARIAL
-- ----------------------------------------------------------------------------------------------

 CREATE TABLE IF NOT EXISTS H_EJECUCION_NOTARIAL( 
  `DIA_ID` DATE NOT NULL,     
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                                        
  -- Dimensiones
  `FECHA_SUBASTA_EJECUCION_NOTARIAL` DATE NULL,                     
  `FASE_SUBASTA_EJECUCION_NOTARIAL_ID` DECIMAL(16,0) NULL,                                 
  -- Métricas
  `NUM_EJECUCIONES_NOTARIALES` INT NULL
 );
 

 CREATE TABLE IF NOT EXISTS H_EJECUCION_NOTARIAL_MES( 
  `MES_ID` DECIMAL(16,0) NOT NULL, 
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                                        
  -- Dimensiones
  `FECHA_SUBASTA_EJECUCION_NOTARIAL` DATE NULL,                     
  `FASE_SUBASTA_EJECUCION_NOTARIAL_ID` DECIMAL(16,0) NULL,                                 
  -- Métricas
  `NUM_EJECUCIONES_NOTARIALES` INT NULL 
 );
 

 CREATE TABLE IF NOT EXISTS H_EJECUCION_NOTARIAL_TRIMESTRE( 
  `TRIMESTRE_ID` DECIMAL(16,0) NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                                        
  -- Dimensiones
  `FECHA_SUBASTA_EJECUCION_NOTARIAL` DATE NULL,                     
  `FASE_SUBASTA_EJECUCION_NOTARIAL_ID` DECIMAL(16,0) NULL,                                 
  -- Métricas
  `NUM_EJECUCIONES_NOTARIALES` INT NULL 
 );
 
 
 CREATE TABLE IF NOT EXISTS H_EJECUCION_NOTARIAL_ANIO( 
  `ANIO_ID` DECIMAL(16,0) NOT NULL,  
  `FECHA_CARGA_DATOS` DATE NOT NULL,
  `PROCEDIMIENTO_ID` DECIMAL(16,0) NOT NULL,                                        
  -- Dimensiones
  `FECHA_SUBASTA_EJECUCION_NOTARIAL` DATE NULL,                     
  `FASE_SUBASTA_EJECUCION_NOTARIAL_ID` DECIMAL(16,0) NULL,                                 
  -- Métricas
  `NUM_EJECUCIONES_NOTARIALES` INT NULL    
 );
 
 
 CREATE TABLE IF NOT EXISTS TEMP_EJECUCION_NOTARIAL_JERARQUIA (
  `DIA_ID` DATE NOT NULL,                               
  `ITER` DECIMAL(16,0) NOT NULL,   
  `FASE_ACTUAL` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL, 
  `NIVEL` decimal(2,0) NULL,
  `CONTEXTO` varchar(300) NULL,
  `CODIGO_FASE_ACTUAL` varchar(20) NULL,  
  `PRIORIDAD_FASE` INT NULL,    
  `ASUNTO` DECIMAL(16,0) NULL,
  `PRIORIDAD_PROCEDIMIENTO` INT NULL,
  `TIPO_PROCEDIMIENTO_DETALLE` DECIMAL(16,0) NULL,
  `FASE_PARALIZADA` INT NULL,
  `FASE_FINALIZADA` INT NULL,
  `FASE_CON_RECURSO` INT NULL
  ); 
  
  
 CREATE TABLE IF NOT EXISTS TEMP_EJECUCION_NOTARIAL_DETALLE (
  `ITER` DECIMAL(16,0) NULL ,
  `MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FASE_MAX_PRIORIDAD` DECIMAL(16,0) NULL,
  `FECHA_SUBASTA_EJECUCION_NOTARIAL` DATE NULL,
  `ULTIMA_TAREA_CREADA` DECIMAL(16,0) NULL,
  `FECHA_ULTIMA_TAREA_CREADA` DATETIME NULL,
  `TAP_ID_ULTIMA_TAREA_CREADA` DECIMAL(16,0) NULL,
  `FASE_SUBASTA` DECIMAL(16,0) NULL
  );  
  

 CREATE TABLE IF NOT EXISTS TEMP_EJECUCION_NOTARIAL_TAREA (
  `ITER` DECIMAL(16,0) NULL,
  `FASE` DECIMAL(16,0) NULL,
  `TAREA` DECIMAL(16,0) NULL,
  `DESCRIPCION_TAREA` VARCHAR(100) NULL,
  `FECHA_INI` DATETIME NULL, 
  `FECHA_FIN` DATETIME NULL,
  `TAP_ID` DECIMAL(16,0) NULL,
  `TAR_ID` DECIMAL(16,0) NULL,
  `TEX_ID` DECIMAL(16,0) NULL,
  `DESCRIPCION_FORMULARIO` VARCHAR(50) NULL,        -- TEV_NOMBRE (TEV_TAREA_EXTERNA_VALOR)
  `FECHA_FORMULARIO` DATE NULL                      -- TEV_VALOR (TEV_TAREA_EXTERNA_VALOR)       
  );   
  
  */
END MY_BLOCK_H_PRC_ESP
