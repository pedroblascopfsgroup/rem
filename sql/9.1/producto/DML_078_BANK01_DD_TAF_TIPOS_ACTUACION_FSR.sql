--/*
--##########################################
--## AUTOR=RAFAEL ARACIL LOPEZ 
--## FECHA_CREACION=20151110
--## ARTEFACTO=load_ficheros_fsr
--## VERSION_ARTEFACTO=9.1.17-bk
--## INCIDENCIA_LINK=BKREC-1417
--## PRODUCTO=SI
--## 
--## Finalidad: INSERCION DATOS DICCIONARIOS
--## INSTRUCCIONES:  LANZAR Y LISTO
--## VERSIONES:
--##        0.1 Versión inicial
--##########################################
--*/
WHENEVER SQLERROR EXIT SQL.SQLCODE;
SET SERVEROUTPUT ON;
DECLARE
    V_ESQUEMA VARCHAR2(25 CHAR):= '#ESQUEMA#'; -- Configuracion Esquema
    V_ESQUEMA_M VARCHAR2(25 CHAR):= '#ESQUEMA_MASTER#'; -- Configuracion Esquema Master
    seq_count number(3); -- Vble. para validar la existencia de las Secuencias.
    table_count number(3); -- Vble. para validar la existencia de las Tablas.
    v_column_count number(3); -- Vble. para validar la existencia de las Columnas.
    v_constraint_count number(3); -- Vble. para validar la existencia de las Constraints.
    err_num NUMBER; -- Numero de errores
    err_msg VARCHAR2(2048); -- Mensaje de error
    V_MSQL VARCHAR2(4000 CHAR);
     v_table_count number(38);


 BEGIN


 
 DBMS_OUTPUT.PUT_LINE('[START]  Insert DD_TAF_TIPO_ACTUACION_FSR');

EXECUTE IMMEDIATE 'select count(1) from '|| V_ESQUEMA ||'.DD_TAF_TIPO_ACTUACION_FSR' into v_table_count;
if v_table_count = 0 then
EXECUTE IMMEDIATE 'INSERT INTO '|| V_ESQUEMA ||'.DD_TAF_TIPO_ACTUACION_FSR 
(    
DD_TAF_ID,
DD_TAF_CODIGO,
DD_TAF_DESCRIPCION,
DD_TAF_DESCRIPCION_LARGA,
DD_TAF_RESTRICTIVA,
VERSION,
USUARIOCREAR,
FECHACREAR,
BORRADO
)
VALUES (1,''01'',''SIN ACCION'',''SIN ACCION'',''0'',0,''GEST'',SYSDATE,0 )
';
EXECUTE IMMEDIATE 'INSERT INTO '|| V_ESQUEMA ||'.DD_TAF_TIPO_ACTUACION_FSR 
(    
DD_TAF_ID,
DD_TAF_CODIGO,
DD_TAF_DESCRIPCION,
DD_TAF_DESCRIPCION_LARGA,
DD_TAF_RESTRICTIVA,
VERSION,
USUARIOCREAR,
FECHACREAR,

BORRADO
)
VALUES (2,''02'',''NO LOCALIZADO'',''NO LOCALIZADO'',''0'',0,''GEST'',SYSDATE,0)
';EXECUTE IMMEDIATE 'INSERT INTO '|| V_ESQUEMA ||'.DD_TAF_TIPO_ACTUACION_FSR 
(    
DD_TAF_ID,
DD_TAF_CODIGO,
DD_TAF_DESCRIPCION,
DD_TAF_DESCRIPCION_LARGA,
DD_TAF_RESTRICTIVA,
VERSION,
USUARIOCREAR,
FECHACREAR,

BORRADO
)
VALUES (3,''03'',''CONTACTADO / EN NEGOCIACION'',''CONTACTADO / EN NEGOCIACION'',''1'',0,''GEST'',SYSDATE,0)
';EXECUTE IMMEDIATE 'INSERT INTO '|| V_ESQUEMA ||'.DD_TAF_TIPO_ACTUACION_FSR 
(    
DD_TAF_ID,
DD_TAF_CODIGO,
DD_TAF_DESCRIPCION,
DD_TAF_DESCRIPCION_LARGA,
DD_TAF_RESTRICTIVA,
VERSION,
USUARIOCREAR,
FECHACREAR,
BORRADO
)
VALUES (4,''04'',''COMPROMISO DE PAGO'',''COMPROMISO DE PAGO'',''1'',0,''GEST'',SYSDATE,0)
';EXECUTE IMMEDIATE 'INSERT INTO '|| V_ESQUEMA ||'.DD_TAF_TIPO_ACTUACION_FSR 
(    
DD_TAF_ID,
DD_TAF_CODIGO,
DD_TAF_DESCRIPCION,
DD_TAF_DESCRIPCION_LARGA,
DD_TAF_RESTRICTIVA,
VERSION,
USUARIOCREAR,
FECHACREAR,

BORRADO
)
VALUES (5,''05'',''ADECUACION'',''ADECUACION'',''1'',0,''GEST'',SYSDATE,0)
';EXECUTE IMMEDIATE 'INSERT INTO '|| V_ESQUEMA ||'.DD_TAF_TIPO_ACTUACION_FSR 
(    
DD_TAF_ID,
DD_TAF_CODIGO,
DD_TAF_DESCRIPCION,
DD_TAF_DESCRIPCION_LARGA,
DD_TAF_RESTRICTIVA,
VERSION,
USUARIOCREAR,
FECHACREAR,
BORRADO
)
VALUES (6,''06'',''DACION EN PAGO'',''DACION EN PAGO'',''1'',0,''GEST'',SYSDATE,0)
';EXECUTE IMMEDIATE 'INSERT INTO '|| V_ESQUEMA ||'.DD_TAF_TIPO_ACTUACION_FSR 
(    
DD_TAF_ID,
DD_TAF_CODIGO,
DD_TAF_DESCRIPCION,
DD_TAF_DESCRIPCION_LARGA,
DD_TAF_RESTRICTIVA,
VERSION,
USUARIOCREAR,
FECHACREAR,

BORRADO
)
VALUES (7,''07'',''CANCELACION CON QUITA'',''CANCELACION CON QUITA'',''0'',0,''GEST'',SYSDATE,0)
';EXECUTE IMMEDIATE 'INSERT INTO '|| V_ESQUEMA ||'.DD_TAF_TIPO_ACTUACION_FSR 
(    
DD_TAF_ID,
DD_TAF_CODIGO,
DD_TAF_DESCRIPCION,
DD_TAF_DESCRIPCION_LARGA,
DD_TAF_RESTRICTIVA,
VERSION,
USUARIOCREAR,
FECHACREAR,

BORRADO
)
VALUES (8,''08'',''PASE A LITIGIO'',''PASE A LITIGIO'',''0'',0,''GEST'',SYSDATE,0)
';EXECUTE IMMEDIATE 'INSERT INTO '|| V_ESQUEMA ||'.DD_TAF_TIPO_ACTUACION_FSR 
(    
DD_TAF_ID,
DD_TAF_CODIGO,
DD_TAF_DESCRIPCION,
DD_TAF_DESCRIPCION_LARGA,
DD_TAF_RESTRICTIVA,
VERSION,
USUARIOCREAR,
FECHACREAR,

BORRADO
)
VALUES (9,''09'',''PREFALLIDO'',''PREFALLIDO'',''0'',0,''GEST'',SYSDATE,0)
';

EXECUTE IMMEDIATE 'INSERT INTO '|| V_ESQUEMA ||'.DD_TAF_TIPO_ACTUACION_FSR 
(    
DD_TAF_ID,
DD_TAF_CODIGO,
DD_TAF_DESCRIPCION,
DD_TAF_DESCRIPCION_LARGA,
DD_TAF_RESTRICTIVA,
VERSION,
USUARIOCREAR,
FECHACREAR,
BORRADO
)
VALUES (10,''99'',''ILOCALIZABLE'',''ILOCALIZABLE'',''0'',0,''GEST'',SYSDATE,0)
';


    DBMS_OUTPUT.PUT_LINE('INSERT TABLE '|| V_ESQUEMA ||'.DD_TAF_TIPO_ACTUACION_FSR.. Tabla creada OK');


  end if;
  
  DBMS_OUTPUT.PUT_LINE( 'FIN DEL PROCESO DE INSERCION');


 EXCEPTION



    WHEN OTHERS THEN
        DBMS_OUTPUT.put_line('[ERROR] Se ha producido un error en la ejecución:'||TO_CHAR(SQLCODE));
        DBMS_OUTPUT.put_line('-----------------------------------------------------------');
        DBMS_OUTPUT.put_line(SQLERRM);
        ROLLBACK;
        RAISE;

END;
/

EXIT;

