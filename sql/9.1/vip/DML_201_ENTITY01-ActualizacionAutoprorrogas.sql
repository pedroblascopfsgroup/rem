--/*
--##########################################
--## AUTOR=Gonzalo E
--## FECHA_CREACION=20150715
--## ARTEFACTO=online
--## VERSION_ARTEFACTO=9.1.3
--## INCIDENCIA_LINK=
--## PRODUCTO=NO
--## Finalidad: DDL
--##           
--## INSTRUCCIONES: Configurar los gestores en las tareas para HRE-BCC
--## VERSIONES:
--##        0.1 Versi√≥n inicial
--##########################################
--*/
WHENEVER SQLERROR EXIT SQL.SQLCODE;
SET SERVEROUTPUT ON; 
DECLARE
    V_MSQL VARCHAR2(32000 CHAR); -- Sentencia a ejecutar     
    V_ESQUEMA VARCHAR2(25 CHAR):= '#ESQUEMA#'; -- Configuracion Esquemas
    V_ESQUEMA_MASTER VARCHAR2(25 CHAR):= '#ESQUEMA_MASTER#'; -- Configuracion Esquemas
    V_SQL VARCHAR2(4000 CHAR); -- Vble. para consulta que valida la existencia de una tabla.
    V_NUM_TABLAS NUMBER(16); -- Vble. para validar la existencia de una tabla.   
    ERR_NUM NUMBER(25);  -- Vble. auxiliar para registrar errores en el script.
    ERR_MSG VARCHAR2(1024 CHAR); -- Vble. auxiliar para registrar errores en el script.
  	
    V_ENTIDAD_ID NUMBER(16);
    
    --Insertando valores en dd_tfa_fichero_adjunto
    TYPE T_TIPO_VALOR IS TABLE OF VARCHAR2(150);
    TYPE T_ARRAY_TFA IS TABLE OF T_TIPO_VALOR;
    V_TIPO_VALOR T_ARRAY_TFA := T_ARRAY_TFA(

T_TIPO_VALOR('HC103','HC103_SolicitarProvision','1','3')
,T_TIPO_VALOR('HC103','HC103_RevisarSolicitud','1','3')
,T_TIPO_VALOR('HC103','HC103_AprobarSolicitudFondos','1','3')
,T_TIPO_VALOR('HC103','HC103_AprobarSolicitudInsc','1','3')
,T_TIPO_VALOR('HC103','HC103_ConfirmarSolicitud','1','3')
,T_TIPO_VALOR('HC103','HC103_RealizarTransferencia','1','3')
,T_TIPO_VALOR('HC103','HC103_ConfirmarTransferencia','1','3')
,T_TIPO_VALOR('HC103','HC103_DecisionAprobFondos','0','0')
,T_TIPO_VALOR('HC103','HC103_DecisionAprobarSolcIns','0','0')
,T_TIPO_VALOR('H005','H005_SolicitudDecretoAdjudicacion','0','0')
,T_TIPO_VALOR('H005','H005_notificacionDecretoAdjudicacionAEntidad','1','3')
,T_TIPO_VALOR('H005','H005_declararIVAeIGIC','0','0')
,T_TIPO_VALOR('H005','H005_notificacionDecretoAdjudicacionAlContrario','1','3')
,T_TIPO_VALOR('H005','H005_SolicitudTestimonioDecretoAdjudicacion','1','3')
,T_TIPO_VALOR('H005','H005_ConfirmarTestimonio','1','3')
,T_TIPO_VALOR('H005','H005_RevisionComAdicional','1','3')
,T_TIPO_VALOR('H005','H005_NotifComAdicional','1','3')
,T_TIPO_VALOR('H005','H005_RegistrarPresentacionEnRegistro','0','0')
,T_TIPO_VALOR('H005','H005_RegistrarInscripcionDelTitulo','1','3')
,T_TIPO_VALOR('H005','H005_RevisarInfoContable','1','3')
,T_TIPO_VALOR('H005','H005_ConfirmarContabilidad','0','0')
,T_TIPO_VALOR('H001','H001_DemandaCertificacionCargas','0','0')
,T_TIPO_VALOR('H001','H001_AutoDespachandoEjecucion','1','3')
,T_TIPO_VALOR('H001','H001_RegistrarCertificadoCargas','1','3')
,T_TIPO_VALOR('H001','H001_SolicitudOficioJuzgado','1','3')
,T_TIPO_VALOR('H001','H001_RegResolucionJuzgado','0','0')
,T_TIPO_VALOR('H001','H001_ContactarAcreedorPref','1','3')
,T_TIPO_VALOR('H001','H001_ConfirmarNotificacionReqPago','0','0')
,T_TIPO_VALOR('H001','H001_ConfirmarSiExisteOposicion','0','0')
,T_TIPO_VALOR('H001','H001_PresentarAlegaciones','1','3')
,T_TIPO_VALOR('H001','H001_RegistrarComparecencia','0','0')
,T_TIPO_VALOR('H001','H001_RegistrarResolucion','0','0')
,T_TIPO_VALOR('H001','H001_ResolucionFirme','0','0')
,T_TIPO_VALOR('H001','H001_RegistrarResolucion','1','1')
,T_TIPO_VALOR('H001','H001_BPMTramiteSubasta','0','0')
,T_TIPO_VALOR('H001','H001_BPMTramiteNotificacion','0','0')
,T_TIPO_VALOR('H001','H001_AutoDespachandoDecision','0','0')
,T_TIPO_VALOR('H001','H001_ResolucionFirmeDecision','0','0')
,T_TIPO_VALOR('H006','H006_AperturaPlazo','0','0')
,T_TIPO_VALOR('H006','H006_NoCesionRemateDecision','0','0')
,T_TIPO_VALOR('H006','H006_ResenyarFechaComparecencia','1','3')
,T_TIPO_VALOR('H006','H006_ConfirmarDocCompleta','1','3')
,T_TIPO_VALOR('H006','H006_SolicitudAutYPago','1','3')
,T_TIPO_VALOR('H006','H006_ConfirmarTransferencia','1','3')
,T_TIPO_VALOR('H006','H006_RegistrarRecepcionPago','1','3')
,T_TIPO_VALOR('H006','H006_RealizacionCesionRemate','0','0')
,T_TIPO_VALOR('H006','H006_RevisarInfoContable','1','3')
,T_TIPO_VALOR('H006','H006_ConfirmarContabilidad','0','0')
,T_TIPO_VALOR('H016','H016_CambiarioDecision','0','0')
,T_TIPO_VALOR('H016','H016_confAdmiDecretoEmbargo','0','0')
,T_TIPO_VALOR('H016','H016_confNotifRequerimientoPago','0','0')
,T_TIPO_VALOR('H016','H016_interposicionDemandaMasBienes','0','0')
,T_TIPO_VALOR('H016','H016_registrarAutoEjecucion','0','0')
,T_TIPO_VALOR('H016','H016_registrarDemandaOposicion','0','0')
,T_TIPO_VALOR('H016','H016_registrarJuicioComparecencia','0','0')
,T_TIPO_VALOR('H016','H016_registrarResolucion','0','0')
,T_TIPO_VALOR('H016','H016_resolucionFirme','0','0')
,T_TIPO_VALOR('H001','H001_DemandaCertificacionCargas','0','0')
,T_TIPO_VALOR('H001','H001_AutoDespachandoEjecucion','0','0')
,T_TIPO_VALOR('H001','H001_RegistrarCertificadoCargas','0','0')
,T_TIPO_VALOR('H001','H001_ConfirmarNotificacionReqPago','0','0')
,T_TIPO_VALOR('H001','H001_ContactarConDeudor','0','0')
,T_TIPO_VALOR('H001','H001_ConfirmarSiExisteOposicion','0','0')
,T_TIPO_VALOR('H001','H001_RegistrarComparecencia','0','0')
,T_TIPO_VALOR('H001','H001_RegistrarResolucion','0','0')
,T_TIPO_VALOR('H001','H001_ResolucionFirme','0','0')
,T_TIPO_VALOR('H001','H001_BPMTramiteSubasta','0','0')
,T_TIPO_VALOR('H001','H001_BPMTramiteNotificacion','0','0')
,T_TIPO_VALOR('H001','H001_AutoDespachandoDecision','0','0')
,T_TIPO_VALOR('H001','H001_ResolucionFirmeDecision','0','0')
,T_TIPO_VALOR('H018','H018_AutoDespachando','1','3')
,T_TIPO_VALOR('H018','H018_ConfirmarNotificacion','0','0')
,T_TIPO_VALOR('H018','H018_ConfirmarPresentacionImpugnacion','0','0')
,T_TIPO_VALOR('H018','H018_HayVista','0','0')
,T_TIPO_VALOR('H018','H018_InterposicionDemanda','0','0')
,T_TIPO_VALOR('H018','H018_RegistrarOposicion','0','0')
,T_TIPO_VALOR('H018','H018_RegistrarResolucion','1','3')
,T_TIPO_VALOR('H018','H018_RegistrarVista','0','0')
,T_TIPO_VALOR('H018','H018_ResolucionFirme','0','0')
,T_TIPO_VALOR('H018','H018_TituloDecision','0','0')
,T_TIPO_VALOR('H020','H020_AutoDespaEjecMasDecretoEmbargo','1','3')
,T_TIPO_VALOR('H020','H020_BPMProvisionFondos','0','0')
,T_TIPO_VALOR('H020','H020_BPMTramiteNotificacion','0','0')
,T_TIPO_VALOR('H020','H020_BPMVigilanciaCaducidadAnotacion','0','0')
,T_TIPO_VALOR('H020','H020_ConfirmarNotifiReqPago','1','3')
,T_TIPO_VALOR('H020','H020_ConfirmarPresentacionImpugnacion','1','3')
,T_TIPO_VALOR('H020','H020_ConfirmarSiExisteOposicion','0','0')
,T_TIPO_VALOR('H020','H020_ConfirmarVista','1','3')
,T_TIPO_VALOR('H020','H020_InterposicionDemandaMasBienes','0','0')
,T_TIPO_VALOR('H020','H020_JudicialDecision','0','0')
,T_TIPO_VALOR('H020','H020_RegistrarCelebracionVista','0','0')
,T_TIPO_VALOR('H020','H020_RegistrarResolucion','1','3')
,T_TIPO_VALOR('H020','H020_ResolucionFirme','0','0')
,T_TIPO_VALOR('H024','H024_BPMProvisionFondos','0','0')
,T_TIPO_VALOR('H024','H024_BPMTramiteNotificacion','0','0')
,T_TIPO_VALOR('H024','H024_ConfirmarAdmision','1','3')
,T_TIPO_VALOR('H024','H024_ConfirmarNotDemanda','0','0')
,T_TIPO_VALOR('H024','H024_ConfirmarOposicion','0','0')
,T_TIPO_VALOR('H024','H024_InterposicionDemanda','1','3')
,T_TIPO_VALOR('H024','H024_OrdinarioDecision','0','0')
,T_TIPO_VALOR('H024','H024_RegistrarAudienciaPrevia','0','0')
,T_TIPO_VALOR('H024','H024_RegistrarJuicio','0','0')
,T_TIPO_VALOR('H024','H024_RegistrarResolucion','0','0')
,T_TIPO_VALOR('H024','H024_ResolucionFirme','1','3')
,T_TIPO_VALOR('H026','H026_BPMProvisionFondos','0','0')
,T_TIPO_VALOR('H026','H026_BPMtramiteNotificacion','0','0')
,T_TIPO_VALOR('H026','H026_ConfirmarAdmisionDemanda','0','0')
,T_TIPO_VALOR('H026','H026_ConfirmarNotifiDemanda','0','0')
,T_TIPO_VALOR('H026','H026_InterposicionDemanda','0','0')
,T_TIPO_VALOR('H026','H026_RegistrarJuicio','0','0')
,T_TIPO_VALOR('H026','H026_RegistrarResolucion','0','0')
,T_TIPO_VALOR('H026','H026_ResolucionFirme','1','3')
,T_TIPO_VALOR('H026','H026_VerbalDecision','0','0')
,T_TIPO_VALOR('H028','H028_RegistrarJuicioVerbal','0','0')
,T_TIPO_VALOR('H028','H028_RegistrarResolucion','1','3')
,T_TIPO_VALOR('H028','H028_ResolucionFirme','1','3')
,T_TIPO_VALOR('H030','H030_ActualizaDatosAnteriores','0','0')
,T_TIPO_VALOR('H030','H030_ActualizarDatosTerceria','0','0')
,T_TIPO_VALOR('H030','H030_CertificacionDecision','0','0')
,T_TIPO_VALOR('H030','H030_RegistrarCertificacion','1','3')
,T_TIPO_VALOR('H030','H030_RegistrarInformacionCargasAnt','0','0')
,T_TIPO_VALOR('H030','H030_RequerirInfoFalta','0','0')
,T_TIPO_VALOR('H030','H030_SolicitarInformacionCargasAnt','0','0')
,T_TIPO_VALOR('H030','H030_SolicitudCertificacion','1','3')
,T_TIPO_VALOR('H064','H064_ConsignacionDecision','0','0')
,T_TIPO_VALOR('H064','H064_confirmarRealizacionConsignacion','0','0')
,T_TIPO_VALOR('H064','H064_presentacionJuzgado','0','0')
,T_TIPO_VALOR('H064','H064_resultadoSolicitudConsignacion','0','0')
,T_TIPO_VALOR('H064','H064_solicitarAutorizacionConsignacionSareb','0','0')
,T_TIPO_VALOR('H032','H032_ConfirmarPresImpugnacion','1','3')
,T_TIPO_VALOR('H032','H032_RegistrarCelebracionVista','1','3')
,T_TIPO_VALOR('H032','H032_RegistrarDecTasacionCostas','1','3')
,T_TIPO_VALOR('H032','H032_RegistrarPago','1','3')
,T_TIPO_VALOR('H032','H032_RegistrarResolucion','1','3')
,T_TIPO_VALOR('H032','H032_RegistrarSolCostasContrario','1','3')
,T_TIPO_VALOR('H032','H032_ResolucionDecision','1','3')
,T_TIPO_VALOR('H032','H032_ResolucionFirme','1','3')
,T_TIPO_VALOR('H007','H007_AutoAprobacionCostas','1','3')
,T_TIPO_VALOR('H007','H007_AutoDecision','1','3')
,T_TIPO_VALOR('H007','H007_AutoFirme','1','3')
,T_TIPO_VALOR('H007','H007_ConfirmarNotificacion','1','3')
,T_TIPO_VALOR('H007','H007_Impugnacion','1','3')
,T_TIPO_VALOR('H007','H007_JBPMTramiteNotificacion','0','0')
,T_TIPO_VALOR('H007','H007_RegistrarCelebracionVista','1','3')
,T_TIPO_VALOR('H007','H007_SolicitudTasacion','1','3')
,T_TIPO_VALOR('H007','H007_TasacionCostas','1','3')
,T_TIPO_VALOR('H034','H034_AceptacionCargoDepositario','0','0')
,T_TIPO_VALOR('H034','H034_AcuerdoDecision','0','0')
,T_TIPO_VALOR('H034','H034_AcuerdoEntrega','0','0')
,T_TIPO_VALOR('H034','H034_NombramientoDepositario','0','0')
,T_TIPO_VALOR('H034','H034_SolicitarNombramiento','0','0')
,T_TIPO_VALOR('H034','H034_SolicitarRemocion','0','0')
,T_TIPO_VALOR('H038','H038_ActualizarDatos','1','3')
,T_TIPO_VALOR('H038','H038_ConfirmarRequerimientoResultado','1','3')
,T_TIPO_VALOR('H038','H038_ConfirmarRetenciones','1','3')
,T_TIPO_VALOR('H038','H038_GestionarProblemas','1','3')
,T_TIPO_VALOR('H038','H038_SolicitarNotificacion','1','3')
,T_TIPO_VALOR('H038','H043_SalariosDecision','0','0')
,T_TIPO_VALOR('H040','H040_RecepcionLlavesDecision','0','0')
,T_TIPO_VALOR('H040','H040_RegistrarCambioCerradura','0','0')
,T_TIPO_VALOR('H040','H040_RegistrarEnvioLlaves','0','0')
,T_TIPO_VALOR('H040','H040_RegistrarRecepcionLlaves','0','0')
,T_TIPO_VALOR('H066','H066_BPMTramitePosesion','0','0')
,T_TIPO_VALOR('H066','H066_BPMTramiteSaneamientoCargas','0','0')
,T_TIPO_VALOR('H066','H066_BPMTramiteSubsanacionEscritura','0','0')
,T_TIPO_VALOR('H066','H066_obtenerMinuta','0','0')
,T_TIPO_VALOR('H066','H066_registrarEntregaTitulo','0','0')
,T_TIPO_VALOR('H066','H066_registrarInscripcionTitulo','1','3')
,T_TIPO_VALOR('H066','H066_registrarPresentacionHacienda','0','0')
,T_TIPO_VALOR('H066','H066_registrarPresentacionRegistro','0','0')
,T_TIPO_VALOR('H066','H066_registrarRecepcionEscritura','0','0')
,T_TIPO_VALOR('H066','H066_validarMinuta','0','0')
,T_TIPO_VALOR('H042','H042_BPMTramiteNotificacion','0','0')
,T_TIPO_VALOR('H042','H042_ConfirmarNotificacion','1','3')
,T_TIPO_VALOR('H042','H042_ElaborarLiquidacion','0','0')
,T_TIPO_VALOR('H042','H042_InteresesDecision','0','0')
,T_TIPO_VALOR('H042','H042_RegistrarImpugnacion','0','0')
,T_TIPO_VALOR('H042','H042_RegistrarResolucion','1','3')
,T_TIPO_VALOR('H042','H042_RegistrarResolucionVista','1','3')
,T_TIPO_VALOR('H042','H042_RegistrarVista','1','3')
,T_TIPO_VALOR('H042','H042_ResolucionFirme','0','0')
,T_TIPO_VALOR('H042','H042_SolicitarLiquidacion','0','0')
,T_TIPO_VALOR('H042','H042_ValidarLiquidacionIntereses','0','0')
,T_TIPO_VALOR('H044','H044_InvestigacionDecision','0','0')
,T_TIPO_VALOR('H044','H044_RegistrarResultadoInvestigacion','1','3')
,T_TIPO_VALOR('H044','H044_RevisarDecision','0','0')
,T_TIPO_VALOR('H044','H044_RevisarInvestigacionYActualizacionDatos','1','3')
,T_TIPO_VALOR('H044','H044_SolicitudInvestigacionJudicial','0','0')
,T_TIPO_VALOR('H046','H046_MejoraDecision','0','0')
,T_TIPO_VALOR('H046','H046_confirmarDecretoEmbargo','1','3')
,T_TIPO_VALOR('H046','H046_registrarAnotacionRegistro','1','3')
,T_TIPO_VALOR('H046','H046_solicitudMejoraEmbargo','1','3')
,T_TIPO_VALOR('H011','H011_CelebracionVista','1','3')
,T_TIPO_VALOR('H011','H011_InstruccionesDecision','0','0')
,T_TIPO_VALOR('H011','H011_LecturaInstruccionesMoratoria','1','3')
,T_TIPO_VALOR('H011','H011_PresentarConformidadMoratoria','0','0')
,T_TIPO_VALOR('H011','H011_RegistrarAdmisionYEmplazamiento','1','3')
,T_TIPO_VALOR('H011','H011_RegistrarInformeMoratoria','0','0')
,T_TIPO_VALOR('H011','H011_RegistrarResolucion','0','0')
,T_TIPO_VALOR('H011','H011_RegistrarSolicitudMoratoria','0','0')
,T_TIPO_VALOR('H011','H011_RevisarInformeLetradoMoratoria','1','3')
,T_TIPO_VALOR('H011','H011_SolicitarInstrucciones','0','0')
,T_TIPO_VALOR('H011','H011_nodoEsperaController','0','0')
,T_TIPO_VALOR('P400','P400_GestionarNotificaciones','0','0')
,T_TIPO_VALOR('H050','H050_AcuerdoPrecinto','1','3')
,T_TIPO_VALOR('H050','H050_ConfirmarFechaPrecintoEfectivo','1','3')
,T_TIPO_VALOR('H050','H050_PrecintoDecision','0','0')
,T_TIPO_VALOR('H050','H050_SolicitarPrecinto','0','0')
,T_TIPO_VALOR('H052','H052_EntregarNuevoDecreto','0','0')
,T_TIPO_VALOR('H052','H052_RegistrarPresentacionEscritoSub','0','0')
,T_TIPO_VALOR('H065','H065_entregarNuevaEscrituraPub','1','3')
,T_TIPO_VALOR('H065','H065_registrarPresentacionEscrituraSub','0','0')
,T_TIPO_VALOR('H054','H054_ConfirmarComEmpresario','0','0')
,T_TIPO_VALOR('H054','H054_EmisionInformeFiscal','0','0')
,T_TIPO_VALOR('H054','H054_PresentarEscritoJuzgado','0','0')
,T_TIPO_VALOR('H054','H054_ValidaBienesTributacion','0','0')
,T_TIPO_VALOR('H058','H058_BPMProvisionFondos','0','0')
,T_TIPO_VALOR('H058','H058_EstConformidadOAlegacion','1','3')
,T_TIPO_VALOR('H058','H058_InmueblesDecision','1','3')
,T_TIPO_VALOR('H058','H058_ObtencionAvaluo','1','3')
,T_TIPO_VALOR('H058','H058_ObtencionTasacionInterna','1','3')
,T_TIPO_VALOR('H058','H058_PresentarAlegaciones','0','0')
,T_TIPO_VALOR('H058','H058_RegistrarResultado','1','3')
,T_TIPO_VALOR('H058','H058_ResolucionFirme','0','0')
,T_TIPO_VALOR('H058','H058_SolicitarAvaluo','1','3')
,T_TIPO_VALOR('H058','H058_SolitarTasacionInterna','1','3')
,T_TIPO_VALOR('H002','H002_SolicitudSubasta','0','0')
,T_TIPO_VALOR('H002','H002_SenyalamientoSubasta','0','0')
,T_TIPO_VALOR('H002','H002_RevisarDocumentacion','1','3')
,T_TIPO_VALOR('H002','H002_AdjuntarNotasSimples','1','3')
,T_TIPO_VALOR('H002','H002_AdjuntarTasaciones','1','3')
,T_TIPO_VALOR('H002','H002_SolicitarInformeFiscal','1','3')
,T_TIPO_VALOR('H002','H002_AdjuntarInformeFiscal','1','3')
,T_TIPO_VALOR('H002','H002_PrepararInformeSubasta','1','3')
,T_TIPO_VALOR('H002','H002_ValidarInformeDeSubasta','0','0')
,T_TIPO_VALOR('H002','H002_ObtenerValidacionComite','1','3')
,T_TIPO_VALOR('H002','H002_DictarInstruccionesSubasta','0','0')
,T_TIPO_VALOR('H002','H002_SolicitarSuspenderSubasta','0','0')
,T_TIPO_VALOR('H002','H002_RegistrarResSuspSubasta','0','0')
,T_TIPO_VALOR('H002','H002_DictarInstruccionesDeneSuspension','0','0')
,T_TIPO_VALOR('H002','H002_LecturaConfirmacionInstrucciones','0','0')
,T_TIPO_VALOR('H002','H002_CelebracionSubasta','0','0')
,T_TIPO_VALOR('H002','H002_SolicitarMandamientoPago','0','0')
,T_TIPO_VALOR('H002','H002_ConfirmarRecepcionMandamientoDePago','0','0')
,T_TIPO_VALOR('H002','H002_RecepcionMandamientoPago','0','0')
,T_TIPO_VALOR('H002','H002_ConfirmarContabilidad','1','3')
,T_TIPO_VALOR('H002','H002_BPMTramiteSolSolvenciaPatrimonial','0','0')
,T_TIPO_VALOR('H002','H002_BPMTramiteSubasta','0','0')
,T_TIPO_VALOR('H002','H002_BPMTramiteCesionRemate','0','0')
,T_TIPO_VALOR('H002','H002_BPMTramiteAdjudicacion','0','0')
,T_TIPO_VALOR('H002','H002_SuspenderDecision','0','0')
,T_TIPO_VALOR('H002','H002_CelebracionDecision','0','0')
,T_TIPO_VALOR('HC100','HC100_ComunicarCalculoDeudaAFecha','1','3')
,T_TIPO_VALOR('HC100','HC100_RealizarCalculoDeuda','1','3')
,T_TIPO_VALOR('HC100','HC100_RegistrarPeticionCalculoDeuda','1','3')
,T_TIPO_VALOR('H062','H062_confirmarAnotacionRegistro','0','0')
,T_TIPO_VALOR('H062','H062_revisarRegistroEmbargo','0','0')
,T_TIPO_VALOR('H015','H015_BPMTramiteGestionLlaves','0','0')
,T_TIPO_VALOR('H015','H015_BPMTramiteMoratoriaLanzamiento','0','0')
,T_TIPO_VALOR('H015','H015_BPMTramiteOcupantes','0','0')
,T_TIPO_VALOR('H015','H015_BPMTramiteOcupantes2','0','0')
,T_TIPO_VALOR('H015','H015_LlavesDecision','0','0')
,T_TIPO_VALOR('H015','H015_RegistrarDecisionLlaves','0','0')
,T_TIPO_VALOR('H015','H015_RegistrarLanzamientoEfectuado','1','3')
,T_TIPO_VALOR('H015','H015_RegistrarPosesionYLanzamiento','1','3')
,T_TIPO_VALOR('H015','H015_RegistrarSenyalamientoLanzamiento','0','0')
,T_TIPO_VALOR('H015','H015_RegistrarSenyalamientoPosesion','1','3')
,T_TIPO_VALOR('H015','H015_RegistrarSolicitudDecision','0','0')
,T_TIPO_VALOR('H015','H015_RegistrarSolicitudPosesion','1','3')
,T_TIPO_VALOR('H015','H015_ConfirmarNotificacionDeudor','1','3')
,T_TIPO_VALOR('H015','H015_PresentarSolicitudSenyalamientoPosesion','1','3')
,T_TIPO_VALOR('H015','H015_SolicitarAlquilerSocial','1','3')
,T_TIPO_VALOR('H015','H015_FormalizacionAlquilerSocial','1','3')
,T_TIPO_VALOR('H015','H015_SuspensionLanzamiento','1','3')
,T_TIPO_VALOR('H008','H008_RevisarEstadoCargas','0','0')
,T_TIPO_VALOR('H008','H008_RegistrarPresentacionInscripcion','0','0')
,T_TIPO_VALOR('H008','H008_SaneamientoDecision','0','0')
,T_TIPO_VALOR('H008','H008_RegInsCancelacionCargasReg','0','0')
,T_TIPO_VALOR('H008','H008_PropuestaCancelacionCargas','0','0')
,T_TIPO_VALOR('H008','H008_ObtenerAprobPropuesta','0','0')
,T_TIPO_VALOR('H008','H008_RevisarPropuestaCancelacionCargas','0','0')
,T_TIPO_VALOR('H008','H008_LiquidarCargas','0','0')
,T_TIPO_VALOR('H008','H008_RegInsCancelacionCargasEconomicas','0','0')
,T_TIPO_VALOR('H008','H008_RegistrarPresentacionInscripcionEco','0','0')
,T_TIPO_VALOR('H008','H008_RegInsCancelacionCargasRegEco','0','0')
,T_TIPO_VALOR('HC102','HC102_ResolucionFirme','1','3')
,T_TIPO_VALOR('HC102','HC102_SolicitarArchivoProcedimiento','1','3')
,T_TIPO_VALOR('HC102','HC102_EnvioMandamientoGestoria','1','3')
,T_TIPO_VALOR('HC102','HC102_RecepcionMandamiento','1','3')
,T_TIPO_VALOR('HC102','HC102_EnvioMandamientoAdmision','1','3')
,T_TIPO_VALOR('HC102','HC102_ObtencionMandamientoCancelacionCargas','1','3')
,T_TIPO_VALOR('HC102','HC102_SolicitudMandamiento','1','3')
,T_TIPO_VALOR('H048','H048_ConfirmarVista','0','0')
,T_TIPO_VALOR('H048','H048_ObtenerAprobacionAlquiler','0','0')
,T_TIPO_VALOR('H048','H048_PresentarEscritoAlegaciones','0','0')
,T_TIPO_VALOR('H048','H048_RegistrarCelebracionVista','0','0')
,T_TIPO_VALOR('H048','H048_RegistrarRecepcionDoc','0','0')
,T_TIPO_VALOR('H048','H048_RegistrarResolucion','0','0')
,T_TIPO_VALOR('H048','H048_ResolucionDecision','0','0')
,T_TIPO_VALOR('H048','H048_ResolucionFirme','0','0')
,T_TIPO_VALOR('H048','H048_SolicitudRequerimientoDocOcupantes','0','0')
,T_TIPO_VALOR('H048','H048_TrasladoDocuDeteccionOcupantes','0','0')
,T_TIPO_VALOR('H022','H022_BPMOrdinario','0','0')
,T_TIPO_VALOR('H022','H022_BPMProcedimientoETJ','0','0')
,T_TIPO_VALOR('H022','H022_BPMProvisionFondos','0','0')
,T_TIPO_VALOR('H022','H022_BPMVerbalDesdeMonitorio','0','0')
,T_TIPO_VALOR('H022','H022_ConfirmarAdmisionDemanda','1','3')
,T_TIPO_VALOR('H022','H022_ConfirmarNotificacionReqPago','1','3')
,T_TIPO_VALOR('H022','H022_ConfirmarOposicionCuantia','1','3')
,T_TIPO_VALOR('H022','H022_InterposicionDemanda','0','0')
,T_TIPO_VALOR('H022','H022_JBPMTramiteNotificacion','0','0')
,T_TIPO_VALOR('H022','H022_MonitorioDecision','0','0')
,T_TIPO_VALOR('H005','H005_BPMDeclaracionIVAIGIC','0','0')
,T_TIPO_VALOR('H036','H036_BPMTramiteInscripcionDelTitulo','0','0')
,T_TIPO_VALOR('H036','H036_CelebracionSubasta','0','0')
,T_TIPO_VALOR('H036','H036_DictarInstruccionesSubasta','0','0')
,T_TIPO_VALOR('H036','H036_ElevarPropuestaAComite','0','0')
,T_TIPO_VALOR('H036','H036_entregaActaRequerimiento','0','0')
,T_TIPO_VALOR('H036','H036_LecturaYAceptacionInstrucciones','0','0')
,T_TIPO_VALOR('H036','H036_PrepararInformeSubasta','1','3')
,T_TIPO_VALOR('H036','H036_RecepcionCantidadVenta','1','3')
,T_TIPO_VALOR('H036','H036_registrarAnuncioSubasta','1','3')
,T_TIPO_VALOR('H036','H036_RegistrarCesionRemate','0','0')
,T_TIPO_VALOR('H036','H036_RegistrarDecision','0','0')
,T_TIPO_VALOR('H036','H036_RegistrarEnvioComunicacionAlTitular','0','0')
,T_TIPO_VALOR('H036','H036_RegistrarLiquidacionPrecioDeRemate','0','0')
,T_TIPO_VALOR('H036','H036_registrarNotificacion','1','3')
,T_TIPO_VALOR('H036','H036_registrarPagoDelDeudor','0','0')
,T_TIPO_VALOR('H036','H036_registrarRecepcionCertCargas','1','3')
,T_TIPO_VALOR('H036','H036_RegistrarRecepcionComunicacionAlTitular','1','3')
,T_TIPO_VALOR('H036','H036_RegistrarRecepcionTasacion','0','0')
,T_TIPO_VALOR('H036','H036_registrarRequerimientoAdeudor','1','3')
,T_TIPO_VALOR('H036','H036_registrarSolicitudCertCargas','0','0')
,T_TIPO_VALOR('H036','H036_RegistrarSolicitudTasacion','0','0')
,T_TIPO_VALOR('H036','H036_SubastaDecision','0','0')
,T_TIPO_VALOR('H036','H036_SuspenderSubasta','1','3')
,T_TIPO_VALOR('H036','H036_ValidarPropuesta','1','3')
,T_TIPO_VALOR('H004','H004_ValidarInformeDeSubasta','0','0')
,T_TIPO_VALOR('HC104','HC104_RegistrarResultadoSolvencia','1','3')
,T_TIPO_VALOR('HC104','HC104_RevisarSolvencia','1','3')
,T_TIPO_VALOR('HC104','HC104_SolicitarSolvenciaPatrimonial','1','3')
,T_TIPO_VALOR('HC104','HC104_TrasladarPropuestaEntidad','1','3')
,T_TIPO_VALOR('H004','H004_SuspenderDecision','0','0')
,T_TIPO_VALOR('H004','H004_SenyalamientoSubasta','0','0')
,T_TIPO_VALOR('H004','H004_ValidarInformeDeSubastaYPrepararCuadroDePujas','0','0')
,T_TIPO_VALOR('H004','H004_ContactarConDeudorYPrepararInformeSubastaFisc','0','0')
,T_TIPO_VALOR('H004','H004_PrepararInformeSubasta','1','3')
,T_TIPO_VALOR('H004','H004_LecturaConfirmacionInstrucciones','0','0')
,T_TIPO_VALOR('H004','H004_CelebracionSubasta','0','0')
,T_TIPO_VALOR('H004','H004_SolicitarMandamientoPago','0','0')
,T_TIPO_VALOR('H004','H004_ConfirmarRecepcionMandamientoDePago','0','0')
,T_TIPO_VALOR('H004','H004_CelebracionDecision','0','0')
,T_TIPO_VALOR('H004','H004_RevisarDocumentacion','1','3')
,T_TIPO_VALOR('H004','H004_AdjuntarNotasSimples','1','3')
,T_TIPO_VALOR('H004','H004_AdjuntarTasaciones','1','3')
,T_TIPO_VALOR('H004','H004_SolicitarInformeFiscal','1','3')
,T_TIPO_VALOR('H004','H004_AdjuntarInformeFiscal','1','3')
,T_TIPO_VALOR('H004','H004_ValidarInformeDeSubasta','0','0')
,T_TIPO_VALOR('H004','H004_ObtenerValidacionComite','1','3')
,T_TIPO_VALOR('H004','H004_DictarInstruccionesSubasta','1','3')
,T_TIPO_VALOR('H004','H004_SolicitarSuspenderSubasta','1','3')
,T_TIPO_VALOR('H004','H004_RegistrarResSuspSubasta','1','3')
,T_TIPO_VALOR('H004','H004_RecepcionMandamientoPago','1','3')
,T_TIPO_VALOR('H004','H004_ConfirmarContabilidad','1','3')
,T_TIPO_VALOR('HC101','HC101_ConfirmarRecepcionCertificado','1','3')
,T_TIPO_VALOR('HC101','HC101_EmitirCertificado','1','3')
,T_TIPO_VALOR('HC101','HC101_LegitimacionNotarialFirma','1','3')
,T_TIPO_VALOR('HC101','HC101_RecepcionCertificacionNotarial','1','3')
,T_TIPO_VALOR('HC101','HC101_RemitirCertificadoLetrado','1','3')
,T_TIPO_VALOR('HC105','HC105_SolicitudPosesionInterina','1','3')
,T_TIPO_VALOR('HC105','HC105_DecretoAdmision','1','3')
,T_TIPO_VALOR('HC105','HC105_NotificacionOcupante','1','3')
,T_TIPO_VALOR('HC105','HC105_RegistrarFechaPosesionInterina','1','3')
,T_TIPO_VALOR('HC105','HC105_RendicionCuentasSecretarioJudicial','1','3')
,T_TIPO_VALOR('HC105','HC105_AprobacionRendicionCuentas','1','3')
,T_TIPO_VALOR('HC105','HC105_PresentacionRendicionCuentas','1','3')
,T_TIPO_VALOR('HC105','HC105_RegistrarNotificacionRendicionCuentas','1','3')
,T_TIPO_VALOR('HC105','HC105_RegistrarDisconformidadEjecutado','1','3')
,T_TIPO_VALOR('HC105','HC105_AlegacionesDisconformidad','1','3')
,T_TIPO_VALOR('HC105','HC105_ConfirmaFechaVista','1','3')
,T_TIPO_VALOR('HC105','HC105_CelebracionVista','1','3')
,T_TIPO_VALOR('HC105','HC105_RegistrarResolucion','1','3')
); 
V_TMP_TIPO T_TIPO_VALOR;

BEGIN	

	DBMS_OUTPUT.PUT_LINE('[INICIO] Comenzando con TAREAS');  
	-- LOOP Insertando valores en dd_tfa_fichero_adjunto

	DBMS_OUTPUT.PUT_LINE('[INFO] Limpiando datos de tareas');
	V_MSQL := 'UPDATE '|| V_ESQUEMA ||'.TAP_TAREA_PROCEDIMIENTO SET TAP_AUTOPRORROGA = 0, TAP_MAX_AUTOP = 0';
	EXECUTE IMMEDIATE V_MSQL;
  
	FOR I IN V_TIPO_VALOR.FIRST .. V_TIPO_VALOR.LAST
      LOOP
        V_MSQL := 'SELECT '|| V_ESQUEMA ||'.s_dd_tfa_fichero_adjunto.NEXTVAL FROM DUAL';
        EXECUTE IMMEDIATE V_MSQL INTO V_ENTIDAD_ID;
            V_TMP_TIPO := V_TIPO_VALOR(I);
			
			V_SQL := 'SELECT COUNT(1) FROM '||V_ESQUEMA||'.TAP_TAREA_PROCEDIMIENTO TAP,'||V_ESQUEMA||'.DD_TPO_TIPO_PROCEDIMIENTO TPO ' ||
				' WHERE TAP.DD_TPO_ID=TPO.DD_TPO_ID AND TPO.DD_TPO_CODIGO='''||TRIM(V_TMP_TIPO(1))||''' AND TAP.TAP_CODIGO = '''||TRIM(V_TMP_TIPO(2))||'''';
			EXECUTE IMMEDIATE V_SQL INTO V_NUM_TABLAS;

			-- Si existe
			IF V_NUM_TABLAS > 0 THEN				
				--DBMS_OUTPUT.PUT_LINE('[INFO] ' || V_ESQUEMA || '.dd_tfa_fichero_adjunto... Ya existe la relacion dd_tfa_codigo='''|| TRIM(V_TMP_TIPO_TFA(1))||''' con el c√≥digo de actuaci√≥n='''|| TRIM(V_TMP_TIPO_TFA(4))||'''');
				 V_MSQL := 'UPDATE '|| V_ESQUEMA ||'.TAP_TAREA_PROCEDIMIENTO SET ' || 
                         ' TAP_AUTOPRORROGA = '||V_TMP_TIPO(3)||
                         ' ,TAP_MAX_AUTOP = '||V_TMP_TIPO(4)||
                         ' WHERE TAP_CODIGO = ''' || V_TMP_TIPO(2)|| ''' AND DD_TPO_ID IN (SELECT DD_TPO_ID FROM '||V_ESQUEMA||'.DD_TPO_TIPO_PROCEDIMIENTO TPO WHERE DD_TPO_CODIGO='''||TRIM(V_TMP_TIPO(1))||''')';
              DBMS_OUTPUT.PUT_LINE(V_MSQL);
              EXECUTE IMMEDIATE V_MSQL;
			ELSE
        DBMS_OUTPUT.PUT_LINE('NO ENCONTRADO...' || TRIM(V_TMP_TIPO(2)));
			END IF;
      END LOOP;
    
    COMMIT;

    DBMS_OUTPUT.PUT_LINE('[FIN] TAREAS');

EXCEPTION
     WHEN OTHERS THEN
          ERR_NUM := SQLCODE;
          ERR_MSG := SQLERRM;
          DBMS_OUTPUT.put_line('[ERROR] Se ha producido un error en la ejecuci√≥n:'||TO_CHAR(ERR_NUM));
          DBMS_OUTPUT.put_line('-----------------------------------------------------------'); 
          DBMS_OUTPUT.put_line(ERR_MSG);
          ROLLBACK;
          RAISE;   
END;
/
EXIT;