
--TABLAS ACTIVOS

DROP TABLE TAC_TAREAS_ACTIVOS CASCADE CONSTRAINTS;
DROP TABLE ACT_AJD_ADJJUDICIAL CASCADE CONSTRAINTS;
DROP TABLE ACT_ADN_ADJNOJUDICIAL CASCADE CONSTRAINTS;
DROP TABLE ACT_PDV_PLAN_DIN_VENTAS CASCADE CONSTRAINTS;
DROP TABLE ACT_TIT_TITULO CASCADE CONSTRAINTS;
DROP TABLE ACT_SPS_SIT_POSESORIA CASCADE CONSTRAINTS;
DROP TABLE ACT_OLE_OCUPANTE_LEGAL CASCADE CONSTRAINTS;
DROP TABLE ACT_VAL_VALORACIONES CASCADE CONSTRAINTS;
DROP TABLE ACT_ADM_INF_ADMINISTRATIVA CASCADE CONSTRAINTS;
DROP TABLE ACT_CAT_CATASTRO CASCADE CONSTRAINTS;
DROP TABLE ACT_CPR_COM_PROPIETARIOS CASCADE CONSTRAINTS;
DROP TABLE ACT_CRG_CARGAS CASCADE CONSTRAINTS;
DROP TABLE ACT_MLV_MOVIMIENTO_LLAVE CASCADE CONSTRAINTS;
DROP TABLE ACT_LLV_LLAVE CASCADE CONSTRAINTS;
DROP TABLE ACT_REG_INFO_REGISTRAL CASCADE CONSTRAINTS;
DROP TABLE ACT_LOC_LOCALIZACION CASCADE CONSTRAINTS;
DROP TABLE ACT_ICO_INFO_COMERCIAL CASCADE CONSTRAINTS;
DROP TABLE ACT_INF_INFRAESTRUCTURA CASCADE CONSTRAINTS;
DROP TABLE ACT_ZCO_ZONA_COMUN CASCADE CONSTRAINTS;
DROP TABLE ACT_INS_INSTALACION CASCADE CONSTRAINTS;
DROP TABLE ACT_BNY_BANYO CASCADE CONSTRAINTS;
DROP TABLE ACT_COC_COCINA CASCADE CONSTRAINTS;
DROP TABLE ACT_SOL_SOLADO CASCADE CONSTRAINTS;
DROP TABLE ACT_PRV_PARAMENTO_VERTICAL CASCADE CONSTRAINTS;
DROP TABLE ACT_CRE_CARPINTERIA_EXT CASCADE CONSTRAINTS;
DROP TABLE ACT_CRI_CARPINTERIA_INT CASCADE CONSTRAINTS;
DROP TABLE ACT_EDI_EDIFICIO CASCADE CONSTRAINTS;
DROP TABLE ACT_DIS_DISTRIBUCION CASCADE CONSTRAINTS;
DROP TABLE ACT_VIV_VIVIENDA CASCADE CONSTRAINTS;
DROP TABLE ACT_LCO_LOCAL_COMERCIAL CASCADE CONSTRAINTS;
DROP TABLE GAH_GESTOR_ACTIVO_HISTORICO CASCADE CONSTRAINTS;
DROP TABLE GAC_GESTOR_ADD_ACTIVO CASCADE CONSTRAINTS;
DROP TABLE ACT_TTA_TRABAJO_TASACION CASCADE CONSTRAINTS;
DROP TABLE ACT_PRO_PROPIETARIO CASCADE CONSTRAINTS;
DROP TABLE ACT_PAC_PROPIETARIO_ACTIVO CASCADE CONSTRAINTS;
DROP TABLE ACT_CFD_CONFIG_DOCUMENTO CASCADE CONSTRAINTS;
DROP TABLE ACT_ADO_ADMISION_DOCUMENTO CASCADE CONSTRAINTS;
DROP TABLE ACT_AGR_AGRUPACION CASCADE CONSTRAINTS;
DROP TABLE ACT_ONV_OBRA_NUEVA CASCADE CONSTRAINTS;
DROP TABLE ACT_RES_RESTRINGIDA CASCADE CONSTRAINTS;
DROP TABLE ACT_AGA_AGRUPACION_ACTIVO CASCADE CONSTRAINTS;
DROP TABLE ACT_AAH_AGRUP_ACTIVO_HIST CASCADE CONSTRAINTS;
DROP TABLE ACT_AGO_AGRUPACION_OBS CASCADE CONSTRAINTS;
DROP TABLE ACT_SDV_SUBDIVISION_ACTIVO CASCADE CONSTRAINTS;
DROP TABLE ACT_TRA_TRAMITE CASCADE CONSTRAINTS;
DROP TABLE ACT_FTR_FOTO_TRABAJO CASCADE CONSTRAINTS;
DROP TABLE ACT_TBO_TRABAJO_OBS CASCADE CONSTRAINTS;
DROP TABLE ACT_TBJ CASCADE CONSTRAINTS;
DROP TABLE ACT_TBJ_TRABAJO CASCADE CONSTRAINTS;
DROP TABLE ACT_AOB_ACTIVO_OBS CASCADE CONSTRAINTS;
DROP TABLE ACT_TAS_TASACION CASCADE CONSTRAINTS;
DROP TABLE ACT_APR_PLAZA_APARCAMIENTO CASCADE CONSTRAINTS;
DROP TABLE ACT_CCP_CUOTA_COM_PROP CASCADE CONSTRAINTS;
DROP TABLE ACT_EJE_EJERCICIO CASCADE CONSTRAINTS;
DROP TABLE ACT_PTO_PRESUPUESTO CASCADE CONSTRAINTS;
DROP TABLE ACT_INP_INC_PRESUPUESTO CASCADE CONSTRAINTS;
DROP TABLE ACT_PVC_PROVEEDOR_CONTACTO CASCADE CONSTRAINTS;
DROP TABLE ACT_PVE_PROVEEDOR CASCADE CONSTRAINTS;
DROP TABLE ACT_ETP_ENTIDAD_PROVEEDOR CASCADE CONSTRAINTS;
DROP TABLE ACT_PRT_PRESUPUESTO_TRABAJO CASCADE CONSTRAINTS;
DROP TABLE ACT_CFT_CONFIG_TARIFA CASCADE CONSTRAINTS;
DROP TABLE ACT_TCT_TRABAJO_CFGTARIFA CASCADE CONSTRAINTS;
DROP TABLE ACT_PSU_PROVISION_SUPLIDO CASCADE CONSTRAINTS;
DROP TABLE ACT_CMP_COMAUTONOMA_PROVINCIA CASCADE CONSTRAINTS;
DROP TABLE ACT_FOT_FOTO CASCADE CONSTRAINTS;
DROP TABLE ACT_ADT_ADJUNTO_TRABAJO CASCADE CONSTRAINTS;
DROP TABLE ACT_ADA_ADJUNTO_ACTIVO CASCADE CONSTRAINTS;
DROP TABLE ACT_ACTIVO CASCADE CONSTRAINTS;


--TABLAS DICCIONARIOS

DROP TABLE DD_TPA_TIPO_ACTIVO CASCADE CONSTRAINTS;
DROP TABLE DD_SAC_SUBTIPO_ACTIVO CASCADE CONSTRAINTS;
DROP TABLE DD_TAG_TIPO_AGRUPACION CASCADE CONSTRAINTS;
DROP TABLE DD_EPA_EST_PROC_ACTIVO CASCADE CONSTRAINTS;
DROP TABLE DD_RTG_RATING_ACTIVO CASCADE CONSTRAINTS;
DROP TABLE DD_TUB_TIPO_UBICACION CASCADE CONSTRAINTS;
DROP TABLE DD_TPC_TIPO_CUOTA CASCADE CONSTRAINTS;
DROP TABLE DD_EDH_ESTADO_DIV_HORIZONTAL CASCADE CONSTRAINTS;
DROP TABLE DD_EON_ESTADO_OBRA_NUEVA CASCADE CONSTRAINTS;
DROP TABLE DD_TGP_TIPO_GRADO_PROPIEDAD CASCADE CONSTRAINTS;
DROP TABLE DD_STA_SUBTIPO_TITULO_ACTIVO CASCADE CONSTRAINTS;
DROP TABLE DD_TTA_TIPO_TITULO_ACTIVO CASCADE CONSTRAINTS;
DROP TABLE DD_ETI_ESTADO_TITULO CASCADE CONSTRAINTS;
DROP TABLE DD_TVP_TIPO_VPO CASCADE CONSTRAINTS;
DROP TABLE DD_TCA_TIPO_CARGA CASCADE CONSTRAINTS;
DROP TABLE DD_STC_SUBTIPO_CARGA CASCADE CONSTRAINTS;
DROP TABLE DD_TPO_TIPO_TITULO_POSESORIO CASCADE CONSTRAINTS;
DROP TABLE DD_UAC_UBICACION_ACTIVO CASCADE CONSTRAINTS;
DROP TABLE DD_ECT_ESTADO_CONSTRUCCION CASCADE CONSTRAINTS;
DROP TABLE DD_ECV_ESTADO_CONSERVACION CASCADE CONSTRAINTS;
DROP TABLE DD_TPF_TIPO_FACHADA CASCADE CONSTRAINTS;
DROP TABLE DD_TPV_TIPO_VIVIENDA CASCADE CONSTRAINTS;
DROP TABLE DD_TPO_TIPO_ORIENTACION CASCADE CONSTRAINTS;
DROP TABLE DD_TPH_TIPO_HABITACULO CASCADE CONSTRAINTS;
DROP TABLE DD_TPR_TIPO_RENTA CASCADE CONSTRAINTS;
DROP TABLE DD_ACR_ACABADO_CARPINTERIA CASCADE CONSTRAINTS;
DROP TABLE DD_EDC_ESTADO_DOCUMENTO CASCADE CONSTRAINTS;
DROP TABLE DD_TPD_TIPO_DOCUMENTO CASCADE CONSTRAINTS;
DROP TABLE DD_TPR_TIPO_PROVEEDOR CASCADE CONSTRAINTS;
DROP TABLE DD_TIC_TIPO_INFO_COMERCIAL CASCADE CONSTRAINTS;
DROP TABLE DD_EDJ_ESTADO_ADJUDICACION CASCADE CONSTRAINTS;
DROP TABLE DD_TFO_TIPO_FOTO CASCADE CONSTRAINTS;
DROP TABLE DD_TDI_TIPO_DOCUMENTO_ID CASCADE CONSTRAINTS;
DROP TABLE DD_ZNG_ZONA_GEOGRAFICA CASCADE CONSTRAINTS;
DROP TABLE DD_TCL_TIPO_COLABORACION CASCADE CONSTRAINTS;
DROP TABLE DD_TTE_TIPO_TENEDOR CASCADE CONSTRAINTS;
DROP TABLE DD_EEJ_ENTIDAD_EJECUTANTE CASCADE CONSTRAINTS;
DROP TABLE DD_TUA_TIPO_UBICA_APARCA CASCADE CONSTRAINTS;
DROP TABLE DD_TCA_TIPO_CALIDAD CASCADE CONSTRAINTS;
DROP TABLE DD_TTR_TIPO_TRABAJO CASCADE CONSTRAINTS;
DROP TABLE DD_STR_SUBTIPO_TRABAJO CASCADE CONSTRAINTS;
DROP TABLE DD_EST_ESTADO_TRABAJO CASCADE CONSTRAINTS;
DROP TABLE DD_TTS_TIPO_TASACION CASCADE CONSTRAINTS;
DROP TABLE DD_SIC_SITUACION_CARGA CASCADE CONSTRAINTS;
DROP TABLE DD_ESP_ESTADO_PRESUPUESTO CASCADE CONSTRAINTS;
DROP TABLE DD_TTF_TIPO_TARIFA CASCADE CONSTRAINTS;
DROP TABLE DD_CMA_COMAUTONOMA CASCADE CONSTRAINTS;
DROP TABLE DD_TUD_TIPO_USO_DESTINO CASCADE CONSTRAINTS;
DROP TABLE DD_CRA_CARTERA CASCADE CONSTRAINTS;
DROP TABLE DD_TAD_TIPO_ADELANTO CASCADE CONSTRAINTS;
DROP TABLE DD_TPC_TIPO_PRECIO CASCADE CONSTRAINTS;
--DROP TABLE DD_TGE_TIPO_GESTOR CASCADE CONSTRAINTS;
DROP TABLE DD_TCE_TIPO_CALIF_ENERGETICA CASCADE CONSTRAINTS;
DROP TABLE DD_ENO_ENTIDAD_ORIGEN CASCADE CONSTRAINTS;
DROP TABLE DD_TSB_TIPO_SUBDIVISION CASCADE CONSTRAINTS;
DROP TABLE DD_SCM_SITUACION_COMERCIAL CASCADE CONSTRAINTS;

 
--VISTAS BBDD

DROP VIEW V_ADMISION_DOCUMENTOS;
DROP VIEW V_BUSQUEDA_AGRUPACIONES;
DROP VIEW V_BUSQUEDA_TRABAJOS;
DROP VIEW V_BUSQUEDA_ACTIVOS;
DROP VIEW V_ACTIVOS_AGRUPACION;
DROP VIEW VTAR_TAREA_VS_TGE;
DROP VIEW VTAR_TAREA_VS_USUARIO_PART2;
DROP VIEW VTAR_TAREA_VS_USUARIO_PART3;
DROP VIEW VTAR_TAREA_VS_USUARIO;
DROP VIEW V_COUNT_TAREAS;


--PROCEDURE

DROP PROCEDURE ACTIVAR_ALERTAS;



--BORRADO DE TABLAS EXTERNAS

DELETE FROM TEV_TAREA_EXTERNA_VALOR WHERE TEX_ID IN (SELECT TEX_ID FROM TEX_TAREA_EXTERNA WHERE TAP_ID IN (SELECT TAP_ID FROM TAP_TAREA_PROCEDIMIENTO WHERE DD_TPO_ID IN (SELECT DD_TPO_ID FROM DD_TPO_TIPO_PROCEDIMIENTO WHERE DD_TPO_CODIGO IN ('T001','T002','T003','T004','T005','T006','T007','T008'))));
DELETE FROM TEX_TAREA_EXTERNA WHERE TAP_ID IN (SELECT TAP_ID FROM TAP_TAREA_PROCEDIMIENTO WHERE DD_TPO_ID IN (SELECT DD_TPO_ID FROM DD_TPO_TIPO_PROCEDIMIENTO WHERE DD_TPO_CODIGO IN ('T001','T002','T003','T004','T005','T006','T007','T008')));
DELETE FROM TFI_TAREAS_FORM_ITEMS WHERE TAP_ID IN (SELECT TAP_ID FROM TAP_TAREA_PROCEDIMIENTO WHERE DD_TPO_ID IN (SELECT DD_TPO_ID FROM DD_TPO_TIPO_PROCEDIMIENTO WHERE DD_TPO_CODIGO IN ('T001','T002','T003','T004','T005','T006','T007','T008')));
DELETE FROM DD_PTP_PLAZOS_TAREAS_PLAZAS WHERE TAP_ID IN (SELECT TAP_ID FROM TAP_TAREA_PROCEDIMIENTO WHERE DD_TPO_ID IN (SELECT DD_TPO_ID FROM DD_TPO_TIPO_PROCEDIMIENTO WHERE DD_TPO_CODIGO IN ('T001','T002','T003','T004','T005','T006','T007','T008')));
DELETE FROM TAP_TAREA_PROCEDIMIENTO WHERE DD_TPO_ID IN (SELECT DD_TPO_ID FROM DD_TPO_TIPO_PROCEDIMIENTO WHERE DD_TPO_CODIGO IN ('T001','T002','T003','T004','T005','T006','T007','T008'));
DELETE FROM DD_TPO_TIPO_PROCEDIMIENTO WHERE DD_TAC_ID IN (SELECT DD_TAC_ID FROM DD_TAC_TIPO_ACTUACION WHERE DD_TAC_CODIGO IN ('ADM','GES'));
DELETE FROM DD_TPO_TIPO_PROCEDIMIENTO WHERE DD_TPO_CODIGO LIKE 'T001';
DELETE FROM DD_TAC_TIPO_ACTUACION WHERE DD_TAC_CODIGO IN ('ADM','GES');


DELETE FROM REMMASTER.DD_EPR_ESTADO_PROCEDIMIENTO WHERE DD_EPR_CODIGO IN ('10','11');


--Confirm
COMMIT;

