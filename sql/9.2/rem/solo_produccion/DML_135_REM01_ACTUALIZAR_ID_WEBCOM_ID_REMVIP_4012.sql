--/*
--#########################################
--## AUTOR=Viorel Remus Ovidiu
--## FECHA_CREACION=20190415
--## ARTEFACTO=batch
--## VERSION_ARTEFACTO=9.2
--## INCIDENCIA_LINK=REMVIP-4012
--## PRODUCTO=NO
--## 
--## Finalidad: 
--## INSTRUCCIONES:  
--## VERSIONES:
--##        0.1 Versión inicial
--#########################################
--*/
--Para permitir la visualización de texto en un bloque PL/SQL utilizando DBMS_OUTPUT.PUT_LINE
WHENEVER SQLERROR EXIT SQL.SQLCODE;
SET SERVEROUTPUT ON;
SET DEFINE OFF;

DECLARE

	V_USUARIO VARCHAR2(50 CHAR) := 'REMVIP-4012';
	V_ESQUEMA VARCHAR2(25 CHAR):= '#ESQUEMA#';-- '#ESQUEMA#'; -- Configuracion Esquema
	V_ESQUEMA_M VARCHAR2(25 CHAR):= '#ESQUEMA_MASTER#';-- '#ESQUEMA_MASTER#'; -- Configuracion Esquema Master
	ERR_NUM NUMBER;-- Numero de errores
	ERR_MSG VARCHAR2(2048);-- Mensaje de error
	V_SQL VARCHAR2(32000 CHAR);

BEGIN

	DBMS_OUTPUT.PUT_LINE('[INICIO] Actualizamos los ID_WEBCOM_ID a null ');

	V_SQL := 'UPDATE '||V_ESQUEMA||'.ACT_ICO_INFO_COMERCIAL SET ICO_WEBCOM_ID = NULL, 
                                        USUARIOMODIFICAR = ''REMVIP-4012'',
                                        FECHAMODIFICAR = SYSDATE 
                                        WHERE ACT_ID IN 
    	(SELECT ACT_ID FROM '||V_ESQUEMA||'.ACT_ACTIVO WHERE ACT_NUM_ACTIVO IN (99962620,
99962621,
99962622,
99962657,
99962689,
99962690,
99962691,
99962718,
99962719,
99962768,
99962834,
99962835,
99962836,
99962863,
99962864,
99962915,
99962916,
99962965,
99963010,
99963011,
99963043,
99963061,
99963062,
99963099,
99963101,
99963583,
99963694,
99963695,
99963753,
99963754,
99963931,
99964217,
99964218,
99964444,
99964445,
99964535,
99965830,
99966161,
99966162,
99966163,
99966164,
99966165,
99966185,
99966266,
99966267,
99966268,
99966269,
99966270,
99966271,
99966272,
99966338,
99966339,
99966340,
99966341,
99966342,
99966343,
99966344,
99966345,
99966346,
99966347,
99966540,
99966541,
99966542,
99966543,
99966544,
99966545,
99966546,
99966547,
99966548,
99966549,
99966550,
99966551,
99966552,
99966553,
99966969,
99966970,
99966971,
99966972,
99966973,
99966974,
99966975,
99966976,
99966977,
99968238,
99968534,
99969929,
99969930,
99969931,
99970094,
99970095,
99970096,
99970247,
99970279,
99970507,
99970508,
99970510,
99973023,
99973143,
99973144,
99973183,
99973184,
99973588,
99973589,
99974732,
99976380,
99976381,
99976526,
99976844,
99976845,
99977949,
99978047,
99978078,
99978079,
99978128,
99978218,
99978219,
99978400,
99978401,
99982059,
99982259,
99982332,
99982333,
99984374,
99984686,
99984687,
99984847,
99984848,
99984849,
99985316,
99985317,
99985318,
99985846,
99985847,
99986484,
99986542,
99987215,
99987216,
99987217,
99987457,
99987458,
99987533,
99987535,
99987643,
99987803,
99987848,
99987849,
99987850,
99987851,
99988042,
99989966,
99989967,
99989968,
99990009,
99990010,
99990053,
99990054,
99990272,
99990872,
99991095,
99991667,
99992290,
99992956,
99992957,
99992958,
99993269,
99993270,
99993271,
99993362,
99993609,
99995349,
99995587,
99995654,
99995655,
99995656,
99995912,
99995913,
99995914,
99995957,
99996873,
99997280,
99997630,
99997677,
99997678,
99997779,
99998228,
99998944,
99999015,
99999216,
99999217,
999107580,
999107856,
999122896,
999122897,
999122948,
999122949,
999123825,
999124052,
999128676,
999129739,
999131946,
999131947,
999131948,
999131952,
999131953,
999131954,
999131992,
999132014,
999132015,
999132094,
999132095,
999132097,
999132098,
999132099,
999132100,
999132101,
999132102,
999132103,
999132104,
999132195,
999132404,
999132405,
999132410,
999132411,
999132413,
999132414,
999133072,
999133244,
999133363,
999133364,
999133366,
999133702,
999133728,
999134947,
999135156,
999135157,
999135158,
999135330,
999135578,
999136316,
999136912,
999137542,
999138880,
999138881,
999139116,
999139160,
999139161,
999139307,
999140577,
999140578,
999140580,
999140677,
999140678,
999140701,
999140703,
999141029,
999141030,
999141031,
999141032,
999141033,
999141260,
999141291,
999141292,
999141521,
999141765,
999141766,
999142271,
999142326,
999142989,
999144140,
999144142,
999144143,
999144241,
999144242,
999144243,
999144271,
999144272,
999144273,
999144476,
999144530,
999144532,
999144533,
999144534,
999145743,
999145744,
999145768,
999145798,
999145870,
999145950,
999145983,
999146017,
999146162,
999146164,
999146281,
999146282,
999146427,
999146451,
999146513,
999147075,
999147076,
999147333,
999147334,
999147335,
999147403,
999147405,
999147406,
999147632,
999147633,
999147634,
999147635,
999147636,
999147637,
999147672,
999147673,
999147674,
999147735,
999147787,
999147788,
999147789,
999147790,
999147833,
999147834,
999147835,
999147836,
999147897,
999147898,
999148121,
999148122,
999148840,
999148841,
999148929,
999148952,
999149378,
999149523,
999149789,
999151116,
999153806,
999154107,
999154396,
999154498,
999154682,
999154712,
999154713,
999155734,
999155735,
999155736,
999155994,
999155995,
999155996,
999155997,
999155998,
999155999,
999156000,
999156001,
999156002,
999156140,
999156142,
999156143,
999156144,
999156145,
999156181,
999156184,
999156185,
999156186,
999156187,
999156189,
999156190,
999156287,
999156288,
999156645,
999156831,
999156832,
999157488,
999158146,
999158148,
999158149,
999158150,
999158168,
999158169,
999158365,
999158366,
999158367,
999158368,
999158385,
999158386,
999158417,
999158418,
999158864,
999158865,
999158866,
999158867,
999158868,
999158885,
999158933,
999159770,
999163681,
999163682,
999163683,
999163762,
999163763,
999163764,
999163956,
999163957,
999163958,
999163959,
999163960,
999163961,
999164087,
999164409,
999164410,
999164411,
999164412,
999164413,
999165161,
999165230,
999165528,
999165729,
999165805,
999165892,
999165908,
999165910,
999165925,
999166222,
999166331,
999166370,
999168686,
999168688,
999168689,
999168690,
999168691,
999168758,
999168759,
999168853,
999168890,
999168963,
999168964,
999169009,
999169010,
999169077,
999169374,
999169470,
999169761,
999169762,
999169763,
999169764,
999169976,
999169977,
999170075,
999170076,
999170077,
999170078,
999170263,
999170416,
999171159,
999171563,
999171564,
999173320,
999173321,
999173323,
999173543,
999174248,
999174249,
999174648,
999174649,
999174650,
999174651,
999174765,
999174766,
999174768,
999174802,
999174985,
999175105,
999175315,
999175317,
999177140,
999177280,
999177283,
999177586,
999177587,
999177998,
999177999,
999178000,
999178001,
999178002,
999178061,
999178062,
999178124,
999178314,
999178393,
999178535,
999178537,
999178538,
999181259,
999181449,
999181450,
999181782,
999181783,
999181827,
999182074,
999182075,
999182231,
999182406,
999182407,
999183737,
999183738,
999183918,
999184179,
999184270,
999184271,
999184272,
999184324,
999184325,
999184408,
999184440,
999184443,
999186530,
999186531,
999186586,
999186889,
999187152,
999187153,
999187154,
999187155,
999187283,
999187284,
999187529,
999187530,
999187531,
999187532,
999187533,
999187535,
999187536,
999188036,
999188206,
999188291,
999188371,
999188372,
999188373,
999188374,
999188515,
999188516,
999188517,
999188572,
999188596,
999188599,
999188600,
999188601,
999188731,
999188732,
999188733,
999188749,
999188941,
999188942,
999189059,
999189580,
999189581,
999189630,
999189631,
999189632,
999189633,
999189688,
999189689,
999189840,
999189841,
999193275,
999193280,
999193314,
999193315,
999193559,
999193560,
999193815,
999193816,
999193817,
999202828,
999203288,
999203290,
999203372,
999203626,
999203628,
999203629,
999204133,
999204344))';

	EXECUTE IMMEDIATE V_SQL;

	DBMS_OUTPUT.PUT_LINE('ACTUALIZADOS '||SQL%ROWCOUNT||' REGISTROS EN LA TABLA ACT_ICO_INFO_COMERCIAL');


	COMMIT;

EXCEPTION
    WHEN OTHERS THEN
      DBMS_OUTPUT.PUT_LINE('[ERROR] Se ha producido un error en la ejecución:'||TO_CHAR(SQLCODE));
      DBMS_OUTPUT.PUT_LINE('-----------------------------------------------------------');
      DBMS_OUTPUT.PUT_LINE(SQLERRM);
      DBMS_OUTPUT.PUT_LINE(V_SQL);
      ROLLBACK;
      RAISE;
END;
/
EXIT;
