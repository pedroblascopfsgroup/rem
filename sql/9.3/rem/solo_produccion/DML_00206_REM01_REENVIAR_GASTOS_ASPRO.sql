--/*
--#########################################
--## AUTOR=Viorel Remus Ovidiu
--## FECHA_CREACION=202000319
--## ARTEFACTO=batch
--## VERSION_ARTEFACTO=9.3
--## INCIDENCIA_LINK=REMVIP-6722
--## PRODUCTO=NO
--## 
--## Finalidad: 
--##			
--## INSTRUCCIONES:  
--## VERSIONES:
--##        0.1 Versión inicial
--#########################################
--*/

--Para permitir la visualización de texto en un bloque PL/SQL utilizando DBMS_OUTPUT.PUT_LINE

WHENEVER SQLERROR EXIT SQL.SQLCODE;
SET SERVEROUTPUT ON;
SET DEFINE OFF;

DECLARE
   ERR_NUM NUMBER(25);  -- Vble. auxiliar para registrar errores en el script.
   ERR_MSG VARCHAR2(1024 CHAR); -- Vble. auxiliar para registrar errores en el script.
   V_ESQUEMA VARCHAR2(25 CHAR):= '#ESQUEMA#'; -- Configuracion Esquema
   V_ESQUEMA_M VARCHAR2(25 CHAR):= '#ESQUEMA_MASTER#'; -- Configuracion Esquema Master
   V_USUARIOMODIFICAR VARCHAR(100 CHAR):= 'REMVIP-6722';
   V_SQL VARCHAR2(4000 CHAR);	
   V_PAR VARCHAR( 32000 CHAR );
   V_RET VARCHAR( 1024 CHAR );  
  
BEGIN
  
   DBMS_OUTPUT.put_line('[INICIO]');

-----------------------------------------------------------------------------------------------------------------      

   V_PAR := '11355573,
11355574,
11355575,
11355576,
11355577,
11355578,
11355579,
11355580,
11355581,
11355582,
11355583,
11355584,
11355585,
11355586,
11355587,
11355588,
11355589,
11355590,
11355591,
11355592,
11355593,
11355594,
11355601,
11355602,
11355603,
11355604,
11264767,
11264768,
11264774,
11264775,
11264776,
11264777,
11264778,
11264779,
11264780,
11264781,
11264782,
11264783,
11264784,
11264785,
11264786,
11264787,
11264788,
11264789,
11264790,
11264791,
11264792,
11264793,
11264794,
11264795,
11264796,
11264797,
11264798,
11264799,
11264800,
11264815,
11264816,
11264817,
11264818,
11257272,
11257276,
11257277,
11360289,
11360290,
11360291,
11269701,
11269702,
11269703,
11339137,
11339139,
11339140,
11360777,
11360778,
11360779,
11360807,
10268936,
10268937,
10268938,
10268939,
10268940,
10268941,
10268942,
11359486,
11359487,
11359488,
11359489,
11266315,
11378765,
11378766,
11378767,
11361418,
11361419,
11361420,
11361421,
11361457,
11361458,
11361470,
11361471,
11361475,
11361477,
11361478,
11361479,
11361480,
11361481,
11361482,
11361568,
11361569,
11361570,
11361571,
11361572,
11361573,
11361574,
11361575,
11361576,
11361787,
11361788,
11361789,
11361790,
11361791,
11361792,
11264641,
11264644,
11264645,
11264646,
11264647,
11264648,
11264649,
11264650,
11264651,
11264652,
11264653,
11264655,
11264657,
11264658,
11264659,
11264660,
11264661,
11264662,
11264663,
11264664,
11264665,
11264127,
11264128,
11264129,
11264130,
11264720,
11264721,
11264762,
11264876,
11264877,
11354346,
11354443,
11354444,
11354445,
11364977,
11364978,
11364979,
11364980,
11364981,
11364982,
11364983,
11364984,
11364985,
11364986,
11364987,
11364988,
11364989,
11364990,
11364991,
11364992,
11364993,
11364994,
11364995,
11364996,
11364997,
11364998,
11364999,
11365000,
11365001,
11365002,
11380060,
11380069,
11380070,
11354492,
11359539,
11359540,
11359541,
11359542,
11359543,
11359544,
11359545,
11359546,
11359547,
11360709,
11263447,
11263449,
11263450,
11263451,
11266325,
11266326,
11266327,
11266328,
11359914,
11359920,
11202127,
11202132,
11266530,
11266535,
11354672,
11354747,
11354748,
11354751,
11358862,
11358863,
11358864,
11358865,
11354587,
11354588,
11354589,
11354590,
11354591,
11354592,
11354593,
11354594,
11354595,
11354596,
11354597,
11354598,
11354599,
11354600,
11354601,
11354602,
11354603,
11354604,
11354605,
11354606,
11354607,
11354608,
11354609,
11354610,
11354611,
11354612,
11354613,
11354614,
11354615,
11354616,
11354702,
11354776,
11360110,
11360111,
11360112,
11360113,
11360114,
11360115,
11360116,
11360117,
11360118,
11360119,
11360120,
11360121,
11360122,
11360123,
11360124,
11360125,
11360126,
11360127,
11360128,
11360129,
11360130,
11360131,
11360132,
11360133,
11360134,
11360135,
11360136,
11360137,
11360138,
11360139,
11360140,
11360146,
11360147,
11360148,
11360149,
11360150,
11360151,
11360152,
11360153,
11360154,
11360155,
11360156,
11360157,
11360158,
11360159,
11360160,
11360161,
11360162,
11360163,
11360164,
11360739,
11360740,
11360741,
11360742,
11360743,
11360423,
11360424,
11360425,
11363635,
11363636,
11363637,
11363790,
11363546,
11363547,
11363548,
11363549,
11363550,
11363551,
11363552,
11363553,
11363554,
11363555,
11363556,
11363557,
11363558,
11363559,
11363560,
11363561,
11363562,
11363563,
11363564,
11363565,
11363566,
11363567,
11363568,
11363569,
11363570,
11363571,
11363572,
11363573,
11363574,
11363575,
11363576,
11363577,
11363578,
11363579,
11363580,
11363581,
11363582,
11363583,
11363584,
11363585
';	
   REM01.SP_EXT_REENVIO_GASTO ( V_PAR , V_USUARIOMODIFICAR, V_RET );

-----------------------------------------------------------------------------------------------------------------

   DBMS_OUTPUT.PUT_LINE( V_RET );
   DBMS_OUTPUT.PUT_LINE(' [INFO] Reenviado gastos ');
   DBMS_OUTPUT.PUT_LINE('[FIN] ');
    
   COMMIT;

EXCEPTION
   WHEN OTHERS THEN
        ERR_NUM := SQLCODE;
        ERR_MSG := SQLERRM;
        DBMS_OUTPUT.put_line('[ERROR] Se ha producido un error en la ejecución:'||TO_CHAR(ERR_NUM));
        DBMS_OUTPUT.put_line('-----------------------------------------------------------'); 
        DBMS_OUTPUT.put_line(ERR_MSG);
        ROLLBACK;
        RAISE;   
END;
/
EXIT;
