--/*
--#########################################
--## AUTOR=Viorel Remus Ovidiu
--## FECHA_CREACION=202000319
--## ARTEFACTO=batch
--## VERSION_ARTEFACTO=9.3
--## INCIDENCIA_LINK=REMVIP-6722
--## PRODUCTO=NO
--## 
--## Finalidad: 
--##			
--## INSTRUCCIONES:  
--## VERSIONES:
--##        0.1 Versión inicial
--#########################################
--*/

--Para permitir la visualización de texto en un bloque PL/SQL utilizando DBMS_OUTPUT.PUT_LINE

WHENEVER SQLERROR EXIT SQL.SQLCODE;
SET SERVEROUTPUT ON;
SET DEFINE OFF;

DECLARE
   ERR_NUM NUMBER(25);  -- Vble. auxiliar para registrar errores en el script.
   ERR_MSG VARCHAR2(1024 CHAR); -- Vble. auxiliar para registrar errores en el script.
   V_ESQUEMA VARCHAR2(25 CHAR):= '#ESQUEMA#'; -- Configuracion Esquema
   V_ESQUEMA_M VARCHAR2(25 CHAR):= '#ESQUEMA_MASTER#'; -- Configuracion Esquema Master
   V_USUARIOMODIFICAR VARCHAR(100 CHAR):= 'REMVIP-6722';
   V_SQL VARCHAR2(4000 CHAR);	
   V_PAR VARCHAR( 32000 CHAR );
   V_RET VARCHAR( 1024 CHAR );  
  
BEGIN
  
   DBMS_OUTPUT.put_line('[INICIO]');

-----------------------------------------------------------------------------------------------------------------      

   V_PAR := '11363586,
11363587,
11363588,
11363589,
11363590,
11363591,
11363592,
11363593,
11363594,
11363595,
11363596,
11363597,
11363598,
11363599,
11363600,
11363601,
11363602,
11363603,
11363604,
11363605,
11363606,
11363607,
11363608,
11363609,
11363610,
11363611,
11363612,
11363613,
11363614,
11363615,
11363616,
11363617,
11363618,
11363619,
11363620,
11363621,
11363622,
11363623,
11363624,
11363625,
11363626,
11363627,
11363628,
11363629,
11363630,
11363631,
11363632,
11363633,
11363634,
11358915,
11358919,
11358920,
11266105,
11266108,
11266109,
11359426,
11359430,
11359434,
11359450,
11359451,
11359452,
11359453,
11359454,
11359455,
11359456,
11359457,
11359458,
11359459,
11359460,
11359461,
11359462,
11359463,
11359464,
11359465,
11359466,
11359467,
11359468,
11359469,
11359470,
11359471,
11359472,
11359475,
11359479,
11359497,
11359498,
11359499,
11359500,
11359501,
11359502,
11359503,
11359504,
11359505,
11359506,
11359507,
11359508,
11359509,
11359510,
11359511,
11359512,
11359513,
11359514,
11359515,
11359516,
11359517,
11359518,
11359519,
11359520,
11359521,
11359522,
11359523,
11359524,
11359637,
11359638,
11360390,
11360392,
11263279,
11263281,
11263286,
11263293,
11263294,
11263295,
11263296,
11263297,
11263298,
11263299,
11263300,
11263301,
11263302,
11263303,
11263304,
11263305,
11263306,
11263307,
11263308,
11263309,
11263310,
11263311,
11263312,
11263313,
11263314,
11263315,
11263320,
11263326,
11263343,
11263344,
11263345,
11263346,
11263347,
11263348,
11263349,
11263350,
11263351,
11263352,
11263353,
11263354,
11263355,
11263356,
11263357,
11263358,
11263359,
11263360,
11263361,
11263362,
11263363,
11263364,
11263365,
11263366,
11263367,
11263368,
11263369,
11263370,
11263504,
11263505,
11263793,
11263795,
11361104,
11361105,
11361106,
11361107,
11361108,
11361109,
11361342,
11361344,
11361345,
11361346,
11361352,
11361353,
11361354,
11361355,
11361356,
11361358,
11361360,
11361361,
11361362,
11361370,
11361371,
11361372,
11361373,
11361374,
11361375,
11361380,
11361381,
11361382,
11361383,
11361384,
11361385,
11361557,
11361559,
11361560,
11361561,
11361562,
11361610,
11361611,
11361612,
11264563,
11264564,
11264565,
11264566,
11264567,
11264571,
11264572,
11264573,
11264574,
11264575,
11264576,
11264577,
11264578,
11264579,
11264580,
11264581,
11264582,
11264583,
11264584,
11264585,
11264586,
11264587,
11264588,
11264590,
11264592,
11264593,
11264594,
11264596,
11264597,
11264598,
11264599,
11264600,
11264623,
11264741,
11264809,
11264810,
11264811,
11264812,
11264813,
11207240,
11363218,
11363222,
11363223,
11363224,
11363225,
11363226,
11363227,
11363228,
11363229,
11259686,
11259687,
11259688,
11259689,
11259690,
11259691,
11259692,
11259693,
11259694,
11259695,
11259696,
11259697,
11282627,
11282628,
11282630,
11282631,
11282632,
11282633,
11282634,
11282635,
11282637,
11116870,
11360834,
11360835,
11360848,
11360849,
11360850,
11360851,
11360852,
11360853,
11360872,
11360873,
11360878,
11360890,
11360891,
11360895,
11360896,
11207438,
11207439,
11207440,
11207441,
11207442,
11207443,
11207444,
11207445,
11207521,
11207540,
11207541,
11207432,
11207433,
11207434,
11207487,
11267755,
11267756,
11267638,
11267639,
11267641,
11267653,
11267654,
11267655,
11267656,
11267657,
11267658,
11267659,
11267660,
11267690,
11267723,
11361617,
11361618,
11361619,
11361622,
11364668,
11364669,
11364671,
11364672,
11364673,
11364674,
11361697,
11361698,
11361699,
11361701,
11361702,
11361703,
11361704,
11361705,
11361711,
11361736';	
   REM01.SP_EXT_REENVIO_GASTO ( V_PAR , V_USUARIOMODIFICAR, V_RET );

-----------------------------------------------------------------------------------------------------------------

   DBMS_OUTPUT.PUT_LINE( V_RET );
   DBMS_OUTPUT.PUT_LINE(' [INFO] Reenviado gastos ');
   DBMS_OUTPUT.PUT_LINE('[FIN] ');
    
   COMMIT;

EXCEPTION
   WHEN OTHERS THEN
        ERR_NUM := SQLCODE;
        ERR_MSG := SQLERRM;
        DBMS_OUTPUT.put_line('[ERROR] Se ha producido un error en la ejecución:'||TO_CHAR(ERR_NUM));
        DBMS_OUTPUT.put_line('-----------------------------------------------------------'); 
        DBMS_OUTPUT.put_line(ERR_MSG);
        ROLLBACK;
        RAISE;   
END;
/
EXIT;
