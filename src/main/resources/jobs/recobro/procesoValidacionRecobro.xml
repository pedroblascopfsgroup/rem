<beans xmlns="http://www.springframework.org/schema/beans" xmlns:p="http://www.springframework.org/schema/p" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"
    default-autowire="byName" default-merge="true">
    <bean id="procesoValidacionRecobroJob" parent="batch.simpleJob" scope="prototype">
        <property name="steps">
            <list>
                <bean id="recobro.batch.validator" parent="batch.taskletStep" scope="prototype">
                    <property name="tasklet">
                        <bean parent="common.validator" scope="prototype">
                            <property name="validaciones">
                                <list>
						            <!-- Esquemas -->
                                    <ref bean="esquemas-01.unicoEsquemaLiberadoValidator" />
 
                                </list>
                            </property>
                        </bean>
                    </property>
                </bean>
            </list>
        </property>
    </bean>
    
    <!-- Verifico que sÃ³lo existe un esquema liberado -->
    <bean id="esquemas-01.unicoEsquemaLiberadoValidator" class="es.capgemini.pfs.batch.recobro.validator.BatchRecobroValidatorTasklet" scope="prototype">
        <property name="dataSource" ref="entityDataSource" />
        <property name="query">
            <bean parent="sql" p:key="esquemas-01.unicoEsquemaLiberadoValidator.${entity.dialect}" />
        </property>
        <property name="expectedNumber" value="1" />
        <property name="message" value="esquemas-01.unicoEsquemaLiberadoValidator" />
        <property name="severidad" value="error" />
    </bean>
   
</beans>