DROP MSV_CAMPOS_DINAMICOS;
 
CREATE TABLE MSV_CAMPOS_DINAMICOS
(
  CD_ID             NUMBER,
  CD_NOMBRE_CAMPO   VARCHAR2(50 BYTE),
  CD_VALOR_CAMPO    VARCHAR2(300 BYTE),
  CD_RES_ID         NUMBER,
  VERSION           INTEGER                     DEFAULT 0                     NOT NULL,
  USUARIOCREAR      VARCHAR2(10 CHAR)           NOT NULL,
  FECHACREAR        TIMESTAMP(6)                NOT NULL,
  USUARIOMODIFICAR  VARCHAR2(10 CHAR),
  FECHAMODIFICAR    TIMESTAMP(6),
  USUARIOBORRAR     VARCHAR2(10 CHAR),
  FECHABORRAR       TIMESTAMP(6),
  BORRADO           NUMBER(1)                   DEFAULT 0                     NOT NULL
);


CREATE UNIQUE INDEX MSV_CAMPOS_DINAMICOS_PK ON MSV_CAMPOS_DINAMICOS(CD_ID);


ALTER TABLE MSV_CAMPOS_DINAMICOS ADD (
  CONSTRAINT MSV_CAMPOS_DINAMICOS_PK
 PRIMARY KEY
 (CD_ID)
    USING INDEX 
 );

ALTER TABLE MSV_CAMPOS_DINAMICOS ADD (
  CONSTRAINT FK_CD_RES_1 
 FOREIGN KEY (CD_RES_ID) 
 REFERENCES RES_RESOLUCIONES_MASIVO (RES_ID));
 
CREATE SEQUENCE S_MSV_CAMPOS_DINAMICOS
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  CACHE 100
  NOORDER; 