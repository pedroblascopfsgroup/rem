<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/webflow"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/webflow http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd">

	<var name="dtoActualizarProcedimiento" class="es.pfsgroup.plugin.recovery.mejoras.decisionProcedimiento.dto.MEJDtoProcedimientoDerivado"/>
	<input name="id" type="java.lang.Long"/>
	<input name="idProcedimiento" type="java.lang.Long"/>
	<input name="personas" type="java.lang.String"/>
	
	<end-state id="guarda" view="default">
		<on-entry>
			<evaluate expression="binder.bindAndValidate(flowRequestContext,dtoActualizarProcedimiento)"/>
			<evaluate expression="dtoActualizarProcedimiento.setId(idProcedimiento)"/>
			<evaluate expression="dtoActualizarProcedimiento.parsePersonas(personas)"/>
			<evaluate expression="executor.execute('decisionProcedimientoManager.actualizarProcedimiento',id,dtoActualizarProcedimiento)"/>
		</on-entry>
	</end-state>
	
</flow>