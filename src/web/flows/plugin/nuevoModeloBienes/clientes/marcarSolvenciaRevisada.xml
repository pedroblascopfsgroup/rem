<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/webflow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/webflow http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd">
    
    <var name="dtoSolvenciaPersona" class="es.pfsgroup.plugin.recovery.nuevoModeloBienes.bienes.DtoRevisionSolvencia" />
    
	<input name="idPersona" type="java.lang.Long"/>
	<input name="fechaRevision" type="java.lang.String" required="false"/>
	<input name="observacionesRevisionSolvencia" type="java.lang.String" required="false"/>
	<input name="noTieneFincabilidad" type="java.lang.String" required="false"/>
	
	 <view-state id="formulario" view="${view}" model="dtoSolvenciaPersona">
    	<binder>
    		<binding property="idPersona" />
    		<binding property="fechaRevision" />
			<binding property="observacionesRevisionSolvencia" />
			<binding property="noTieneFincabilidad" />
    	</binder>
    	
    	<on-entry>
    		
			<set name="flowScope.view" value="'plugin/nuevoModeloBienes/clientes/marcarRevisionSolvencia.js'" />
			
    	</on-entry>

		<transition on="update" to="update"/>
		<transition on="cancel" to="close" bind="false"/>
    </view-state> 
    
    <action-state id="update">
		
    	<evaluate expression="executor.execute('plugin.clientes.marcarRevisionSolvencia', dtoSolvenciaPersona)"  />
		<transition to="close"></transition>
	</action-state>
	
	<end-state id="close" view="default" />
    
   	
    
</flow>
